// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"widgets/DistrictLookup/setting/SymbolChooserPopup":function(){define("dojo/_base/declare jimu/BaseWidgetSetting dijit/_WidgetsInTemplateMixin dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/on dojo/text!./SymbolChooserPopup.html jimu/dijit/SymbolChooser jimu/dijit/Popup dojo/domReady!".split(" "),function(k,p,s,e,c,b,m,d,f,v){return k([p,s],{templateString:d,baseClass:"jimu-widget-districtlookup-setting",postCreate:function(){this.own(m(this.okButton,"click",e.hitch(this,this._onOKButtonClicked)));
this._initSymbolChooser();this._createSymbolChooserPopup()},_initSymbolChooser:function(){this.symbolChooser=new f(this.symbolParams,b.create("div",{},this.symbolData));this.symbolChooser.startup()},_createSymbolChooserPopup:function(){this.popup=new v({titleLabel:this.symbolChooserTitle,width:420,height:400,content:this.domNode})},_onOKButtonClicked:function(){if(!c.contains(this.okButton,"jimu-state-disabled"))this.onOkClick()},onOkClick:function(b){return b}})})},"widgets/DistrictLookup/setting/NetworkServiceChooser":function(){define("dojo/_base/declare jimu/BaseWidgetSetting dijit/_WidgetsInTemplateMixin dojo/_base/lang dojo/on dojo/dom-class dojo/text!./NetworkServiceChooser.html jimu/dijit/ItemSelector dijit/Tree dojo/query esri/request dojo/store/Memory dojo/dom-construct dijit/tree/ObjectStoreModel jimu/dijit/LoadingIndicator dojox/validate/regexp jimu/dijit/Message dojo/domReady!".split(" "),
function(k,p,s,e,c,b,m,d,f,v,g,a,q,l,t,r,n){return k([p,s],{baseClass:"jimu-widget-districtlookup-setting",templateString:m,selectRouteURL:null,agolFlag:!1,serviceFlag:!1,startup:function(){this.inherited(arguments)},postCreate:function(){var a;this.routeChooser=new d({portalUrl:this.portalUrl,itemTypes:["Network analysis service"]});this.routeChooser.placeAt(this.itemSelectDiv);this.own(c(this.okButton,"click",e.hitch(this,function(a){if(!b.contains(this.okButton,"jimu-state-disabled"))this.onOkClick(a)})));
this.own(c(this.cancelButton,"click",e.hitch(this,function(a){this.onCancelClick(a)})));this.own(c(this.routeChooser,"item-selected",e.hitch(this,function(){b.remove(this.btnNext,"jimu-state-disabled")})));this.own(c(this.routeChooser,"none-item-selected",e.hitch(this,function(){b.add(this.btnNext,"jimu-state-disabled")})));this.own(c(this.serviceURL,"keyup",e.hitch(this,function(){""===e.trim(this.serviceURL.get("value"))?b.add(this.validateRouteURL,"jimu-state-disabled"):b.remove(this.validateRouteURL,
"jimu-state-disabled")})));this.own(c(this.validateRouteURL,"click",e.hitch(this,function(){b.contains(this.validateRouteURL,"jimu-state-disabled")||(this.serviceFlag=!0,this._fetchRouteLayer(this.routeLayerList))})));this.own(c(this.btnNext,"click",e.hitch(this,function(){b.contains(this.btnNext,"jimu-state-disabled")||(this.agolFlag=!0,this._fetchRouteLayer(this.agolRouteLayerList))})));a=v(".routeSearchRadio",this.routeSearch);this.own(c(a,"change",e.hitch(this,function(){this.organizationRadio&&
this.organizationRadio.checked?(b.add(this.serviceUrlDiv,"esriCTHidden"),this.agolFlag?(b.add(this.itemSelectDiv,"esriCTHidden"),b.remove(this.agolRouteLayerList,"esriCTHidden"),b.add(this.btnBack,"esriCTHidden")):(b.remove(this.itemSelectDiv,"esriCTHidden"),b.add(this.agolRouteLayerList,"esriCTHidden"),b.remove(this.btnNext,"esriCTHidden"),b.add(this.okButton,"jimu-state-disabled"))):(b.add(this.itemSelectDiv,"esriCTHidden"),b.remove(this.serviceUrlDiv,"esriCTHidden"),b.add(this.btnNext,"esriCTHidden"),
b.add(this.btnBack,"esriCTHidden"),b.add(this.agolRouteLayerList,"esriCTHidden"))})));this._initLoading()},_initLoading:function(){this.loading=new t({hidden:!0});this.loading.placeAt(this.domNode);this.loading.startup()},onOkClick:function(a){return a},onCancelClick:function(a){return a},_fetchRouteLayer:function(a){var c;c=this._getValidRouteURL();this.loading.show();g({url:c,content:{f:"json"},handleAs:"json",callbackParamName:"callback"}).then(e.hitch(this,function(n){var d=!1;n.hasOwnProperty("routeLayers")&&
(null!==n.routeLayers&&0<n.routeLayers.length)&&(b.add(this.itemSelectDiv,"esriCTHidden"),this.serviceFlag?(b.remove(this.serviceUrlDiv,"esriCTHidden"),b.add(this.agolRouteLayerList,"esriCTHidden"),b.add(this.btnNext,"esriCTHidden"),b.add(this.btnBack,"esriCTHidden"),this.serviceFlag=!1):(b.add(this.serviceUrlDiv,"esriCTHidden"),b.remove(this.agolRouteLayerList,"esriCTHidden"),b.add(this.btnNext,"esriCTHidden"),b.remove(this.btnBack,"esriCTHidden"),this.agolFlag=!1),this._createTree(c,n.routeLayers,
a),d=!0);d||(this._resetRouteSearch(a,this.nls.networkServiceChooser.invalidRouteServiceURL),this.loading.hide())}),e.hitch(this,function(b){b&&"Rate limit exceeded. Please try again later."===b.message?this._resetRouteSearch(a,this.nls.networkServiceChooser.rateLimitExceeded):b&&"Error invoking service"===b.message&&b.details.length&&-1!==b.details.indexOf("Error generating token")?this._resetRouteSearch(a,this.nls.networkServiceChooser.errorInvokingService):this._resetRouteSearch(a,this.nls.networkServiceChooser.invalidRouteServiceURL);
this.loading.hide()}))},_getValidRouteURL:function(){var a,b,c,n;this.routeChooser&&this.agolFlag?(a=this.routeChooser.getSelectedItem(),b=a.url):b=this.serviceURL.value;c=b.lastIndexOf("/");n=b.substr(0,c+1);a=this._urlValidator(n);this.routeName="";a&&(this.routeName=b.substring(c+1,b.length+1),b=n);return b},_createTree:function(c,n,d){var m=this,y,g;q.empty(d);y={data:[{id:1,name:"Route Layers",url:c,root:!0}],getChildren:function(h){return this.query({parent:h.id})}};if(this.routeName)for(g=
0;g<n.length;g++)this.routeName===n[g]&&y.data.push({id:n[g],name:n[g],url:c+n[g],parent:1});else for(g=0;g<n.length;g++)y.data.push({id:n[g],name:n[g],url:c+"/"+n[g],parent:1});c=new a(y);c=new l({store:c,query:{root:!0}});c=new f({model:c,onClick:function(h){1===h.id?b.add(m.okButton,"jimu-state-disabled"):(b.remove(m.okButton,"jimu-state-disabled"),m.selectRouteURL=h.url)},getIconStyle:e.hitch(this,function(h){var a;if(!h||"root"===h.id)return null;a={width:"20px",height:"20px",backgroundRepeat:"no-repeat",
backgroundPosition:"center center",backgroundImage:""};a.backgroundImage="url("+this.folderUrl+"images/"+(1===h.id?"group-layer.png":"route-layer.png")+")";return a})});c.placeAt(d).startup();this.routeName&&1<y.data.length&&(c.set("paths",[["1",this.routeName]]),b.remove(this.okButton,"jimu-state-disabled"),this.selectRouteURL=y.data[1].url);this.loading.hide()},_resetRouteSearch:function(a,b){this._errorMessage(b);q.empty(a);this.loading.hide();this.serviceFlag=this.agolFlag=!1},_onBtnBackClicked:function(){b.remove(this.itemSelectDiv,
"esriCTHidden");b.add(this.serviceUrlDiv,"esriCTHidden");b.add(this.agolRouteLayerList,"esriCTHidden");b.remove(this.btnNext,"esriCTHidden");b.add(this.btnBack,"esriCTHidden")},_errorMessage:function(a){(new n({message:a})).message=a},_urlValidator:function(a){var b;b="^"+r.url({allowNamed:!0,allLocal:!1});b=RegExp(b,"g").test(a);a=/\/Route\/NAServer/gi.test(a);return b&&a}})})},"jimu/dijit/ItemSelector":function(){define("dojo/_base/declare dojo/topic dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/ItemSelector.html dojo/Evented dojo/_base/lang dojo/_base/config dojo/_base/array dojo/_base/html dojo/_base/Deferred dojo/promise/all dojo/query dojo/on jimu/utils jimu/portalUtils jimu/tokenUtils jimu/portalUrlUtils jimu/dijit/ViewStack jimu/dijit/Search jimu/dijit/TabContainer3 jimu/dijit/_ItemTable".split(" "),
function(k,p,s,e,c,b,m,d,f,v,g,a,q,l,t,r,n,x,u,C,E,y,B){return k([s,e,c,m],{templateString:b,declaredClass:"jimu.dijit.ItemSelector",baseClass:"jimu-item-selector",tab:null,_user:null,_group:null,_allPublicPortalQuery:null,_filterPublicPortalQuery:null,_allPublicOnlineQuery:null,_filterPublicOnlineQuery:null,_allOrganizationQuery:null,_filterOrganizationQuery:null,_allMyContentQuery:null,_filterMyContentQuery:null,_allGroupQuery:null,_filterGroupQuery:null,_isPublicTabShow:!1,_signIn:!1,_itemTypeQueryString:"",
_typeKeywordQueryString:"",portalUrl:null,itemTypes:"",typeKeywords:"",showOnlineItems:!0,onlyShowOnlineFeaturedItems:!1,postMixInProperties:function(){this.portalUrl=u.getStandardPortalUrl(this.portalUrl);this.showOnlineItems=!1===this.showOnlineItems?!1:!0;this.itemTypes&&0<this.itemTypes.length||(this.itemTypes=[]);this._itemTypes="";v.forEach(this.itemTypes,d.hitch(this,function(h,a){this._itemTypes+='"'+h+'"';a!==this.itemTypes.length-1&&(this._itemTypes+=",")}));this._itemTypes="["+this._itemTypes+
"]";this.typeKeywords&&0<this.typeKeywords.length||(this.typeKeywords=[]);this._typeKeywords="";v.forEach(this.typeKeywords,d.hitch(this,function(h,a){this._typeKeywords+='"'+h+'"';a!==this.typeKeywords.length-1&&(this._typeKeywords+=",")}));this._typeKeywords="["+this._typeKeywords+"]";this.nls=window.jimuNls.itemSelector},postCreate:function(){this.inherited(arguments);var h=this._getPortalUrl();this.portal=n.getPortal(h);this._initOptions();this._initSearchQuery();this._initTabs();this._initPortalRadio();
this._initItemTables();this._initPublic();this._initPrivate();this._updateUIbySignIn()},_initOptions:function(){this._itemTypeQueryString=r.getItemQueryStringByTypes(this.itemTypes);this._typeKeywordQueryString=r.getItemQueryStringByTypeKeywords(this.typeKeywords)},_initTabs:function(){this.tab=new y({tabs:[{title:this.nls.myContent,content:this.mycontentTabNode},{title:this.nls.myOrganization,content:this.organizationTabNode},{title:this.nls.myGroup,content:this.groupTabNode},{title:this.nls.publicMap,
content:this.publicTabNode}]},this.tabNode);this.own(t(this.tab,"tabChanged",d.hitch(this,function(h){g.setStyle(this.signinSection,"display","none");h!==this.nls.publicMap?(this._isPublicTabShow=!1,this._updateUIbySignIn()):this._isPublicTabShow=!0})))},_updateUIbySignIn:function(){g.setStyle(this.signinSection,"display","none");var h=l(".organization-tab-content-main,.group-tab-content-main,.mycontent-tab-content-main",this.domNode);x.userHaveSignInPortal(this._getPortalUrl())?h.style("display",
"block"):(h.style("display","none"),this._isPublicTabShow||g.setStyle(this.signinSection,"display","block"))},_initPortalRadio:function(){r.combineRadioCheckBoxWithLabel(this.portalPublicRaido,this.portalPublicLabel);r.combineRadioCheckBoxWithLabel(this.onlinePublicRaido,this.onlinePublicLabel);var h=this._getPortalUrl(),h=u.getServerByUrl(h);this.portalPublicRaido.disabled=!1;this.onlinePublicRaido.disabled=!1;this.portalPublicRaido.checked=!0;var a=!1;u.isArcGIScom(h)?(a=!0,this.portalPublicLabel.innerHTML=
"ArcGIS.com"):(this.portalPublicLabel.innerHTML=h,a=this.showOnlineItems?!1:!0);a&&(this.onlinePublicRaido.disabled=!0,g.setStyle(this.onlinePublicRaido,"display","none"),g.setStyle(this.onlinePublicLabel,"display","none"))},_initSearchQuery:function(){var h="esri_"+(f.locale&&f.locale.slice(0,2)||"en").toLowerCase(),a=v.filter("esri_he esri_fr esri_ja esri_nl esri_th esri_tr esri_nb esri_ro esri_it esri_pl esri_po esri_ru esri_pt esri_en esri_ar esri_et esri_es esri_ko esri_cs esri_da esri_zh esri_sv esri_lt esri_fi esri_lv esri_de esri_vi".split(" "),
d.hitch(this,function(a){return a!==h})),b="";v.forEach(a,d.hitch(this,function(a){b+=" -owner:"+a+" "}));a=" ";this.portal&&(this.portal.user&&this.portal.user.orgId)&&(a=" orgid:"+this.portal.user.orgId+" ");a=a+this._itemTypeQueryString+" AND access:public "+b+" "+this._typeKeywordQueryString;this._allPublicPortalQuery=this._getQuery({sortField:"numViews",sortOrder:"desc",q:a});this._filterPublicPortalQuery=this._getQuery({q:a,basicQ:a});this._allPublicOnlineQuery=this._getQuery({sortField:"numViews",
sortOrder:"desc",q:(this.onlyShowOnlineFeaturedItems?' (group:"c755678be14e4a0984af36a15f5b643e"  OR group:"b8787a74b4d74f7fb9b8fac918735153") ':" ")+this._itemTypeQueryString+" AND access:public "+this._typeKeywordQueryString});this._filterPublicOnlineQuery=this._getQuery({q:this._itemTypeQueryString+" AND access:public "+this._typeKeywordQueryString});this._allOrganizationQuery=this._getQuery();this._filterOrganizationQuery=this._getQuery();this._allMyContentQuery=this._getQuery();this._filterMyContentQuery=
this._getQuery();this._allGroupQuery=this._getQuery();this._filterGroupQuery=this._getQuery()},_getQuery:function(a){return d.mixin({start:1,num:16,f:"json"},a||{})},_getPortalUrl:function(){return u.getStandardPortalUrl(this.portalUrl)},_initItemTables:function(){"function"===typeof this.onCreateItemContent&&(this.mycontentItemTable.onCreateItemContent=this.onCreateItemContent,this.organizationItemTable.onCreateItemContent=this.onCreateItemContent,this.groupItemTable.onCreateItemContent=this.onCreateItemContent,
this.publicPortalItemTable.onCreateItemContent=this.onCreateItemContent,this.publicOnlineItemTable.onCreateItemContent=this.onCreateItemContent);this.own(t(this.publicPortalItemTable,"item-dom-clicked",d.hitch(this,this._onItemDomClicked)));this.own(t(this.publicOnlineItemTable,"item-dom-clicked",d.hitch(this,this._onItemDomClicked)));this.own(t(this.organizationItemTable,"item-dom-clicked",d.hitch(this,this._onItemDomClicked)));this.own(t(this.groupItemTable,"item-dom-clicked",d.hitch(this,this._onItemDomClicked)));
this.own(t(this.mycontentItemTable,"item-dom-clicked",d.hitch(this,this._onItemDomClicked)));this.own(t(this.publicPortalItemTable,"update",d.hitch(this,this._onItemTableUpdate)));this.own(t(this.publicOnlineItemTable,"update",d.hitch(this,this._onItemTableUpdate)));this.own(t(this.organizationItemTable,"update",d.hitch(this,this._onItemTableUpdate)));this.own(t(this.groupItemTable,"update",d.hitch(this,this._onItemTableUpdate)));this.own(t(this.mycontentItemTable,"update",d.hitch(this,this._onItemTableUpdate)));
var a=this._getPortalUrl();this.portalPublicRaido.disabled||(this.publicPortalItemTable.set("portalUrl",a),this.publicPortalItemTable.searchAllItems(this._allPublicPortalQuery),this.publicPortalItemTable.set("filteredQuery",this._filterPublicPortalQuery));this.onlinePublicRaido.disabled||(this.publicOnlineItemTable.set("portalUrl",window.location.protocol+"//www.arcgis.com"),this.publicOnlineItemTable.searchAllItems(this._allPublicOnlineQuery),this.publicOnlineItemTable.set("filteredQuery",this._filterPublicOnlineQuery))},
_initPublic:function(){this.own(t(this.portalPublicRaido,"click",d.hitch(this,this._onPublicRaidoClicked)));this.own(t(this.onlinePublicRaido,"click",d.hitch(this,this._onPublicRaidoClicked)));this._onPublicRaidoClicked()},_onPublicRaidoClicked:function(){this.portalPublicRaido.checked?(this.publicPortalItemTable.show(),this.publicOnlineItemTable.hide()):this.onlinePublicRaido.checked&&(this.publicPortalItemTable.hide(),this.publicOnlineItemTable.show())},_onPublicSearch:function(a){(a=a&&d.trim(a))?
(this.publicPortalItemTable.showFilterItemsSection(),this.publicOnlineItemTable.showFilterItemsSection(),this.portalPublicRaido.checked?(this._filterPublicPortalQuery.q=a+" "+this._filterPublicPortalQuery.basicQ,this._filterPublicPortalQuery.start=1,this.publicPortalItemTable.searchFilteredItems(this._filterPublicPortalQuery)):this.onlinePublicRaido.checked&&(this._filterPublicOnlineQuery.q=a+" "+this._itemTypeQueryString+" AND access:public "+this._typeKeywordQueryString,this._filterPublicOnlineQuery.start=
1,this.publicOnlineItemTable.searchFilteredItems(this._filterPublicOnlineQuery))):(this.publicPortalItemTable.showAllItemsSection(),this.publicOnlineItemTable.showAllItemsSection())},_initPrivate:function(){this._resetPortalMaps();this.own(t(this.groupsSelect,"change",d.hitch(this,this._onGroupsSelectChange)));var a=u.getServerByUrl(this._getPortalUrl());u.isArcGIScom(a);x.userHaveSignInPortal(this._getPortalUrl())&&this._onSignIn()},_onOrganizationSearch:function(a){if(a=a&&d.trim(a)){if(this._allOrganizationQuery){var b=
this._allOrganizationQuery.q;b&&(this._filterOrganizationQuery.q=a+" "+b,this._filterOrganizationQuery.start=1,this.organizationItemTable.searchFilteredItems(this._filterOrganizationQuery))}}else this.organizationItemTable.showAllItemsSection()},_onMyContentSearch:function(a){if(a=a&&d.trim(a)){if(this._allMyContentQuery){var b=this._allMyContentQuery.q;b&&(this._filterMyContentQuery.q=a+" "+b,this._filterMyContentQuery.start=1,this.mycontentItemTable.searchFilteredItems(this._filterMyContentQuery))}}else this.mycontentItemTable.showAllItemsSection()},
_onGroupSearch:function(a){if(a=a&&d.trim(a)){if(this._allGroupQuery){var b=this._allGroupQuery.q;b&&(this._filterGroupQuery.q=a+" "+b,this._filterGroupQuery.start=1,this.groupItemTable.searchFilteredItems(this._filterGroupQuery))}}else this.groupItemTable.showAllItemsSection()},_onSignIn:function(){this._updateUIbySignIn();if(!this._signIn){this._signIn=!0;var a=this._getPortalUrl();n.getPortal(a).getUser().then(d.hitch(this,function(a){this.domNode&&(this._resetPortalMaps(),this._searchOrganization(a),
this._searchMyContent(a),this._searchGroups(a))}))}},_onSignOut:function(){this._signIn=!1;this._resetPortalMaps();this._updateUIbySignIn()},_resetPortalMaps:function(){this.organizationItemTable.clear();this.mycontentItemTable.clear();this._resetGroupsSection()},_searchOrganization:function(a){this.organizationItemTable.clear();a=" orgid:"+a.orgId+" AND "+this._itemTypeQueryString+" AND (access:org OR access:public) "+this._typeKeywordQueryString;var b=this._getPortalUrl();this._allOrganizationQuery=
this._getQuery({q:a});this._filterOrganizationQuery=this._getQuery({q:a});this.organizationItemTable.set("portalUrl",b);this.organizationItemTable.searchAllItems(this._allOrganizationQuery)},_searchMyContent:function(a){this.mycontentItemTable.clear();var b=this._getPortalUrl();a="owner:"+a.username+" AND "+this._itemTypeQueryString+" "+this._typeKeywordQueryString;this._allMyContentQuery=this._getQuery({q:a});this._filterMyContentQuery=this._getQuery({q:a});this.mycontentItemTable.set("portalUrl",
b);this.mycontentItemTable.searchAllItems(this._allMyContentQuery)},_searchGroups:function(a){this._resetGroupsSection();g.setStyle(this.groupsSection,"display","block");a=a.getGroups();if(0<a.length){g.setStyle(this.groupSearch.domNode,"display","block");this.groupItemTable.show();g.empty(this.groupsSelect);for(var b=0;b<a.length;b++){var c=a[b];g.create("option",{value:c.id,innerHTML:c.title},this.groupsSelect)}this._onGroupsSelectChange()}this._updateUIbyGroups(a.length)},_resetGroupsSection:function(){g.setStyle(this.groupsSection,
"display","none");g.empty(this.groupsSelect);g.create("option",{value:"nodata",innerHTML:this.nls.noneGroups},this.groupsSelect);this.groupItemTable.clear();g.setStyle(this.groupSearch.domNode,"display","none");this.groupItemTable.hide();this._updateUIbyGroups(0)},_updateUIbyGroups:function(a){0===a?g.setStyle(this.groupsSection,"top","15px"):g.setStyle(this.groupsSection,"top","50px")},_onGroupsSelectChange:function(){var a=this.groupsSelect.value;this.groupItemTable.clear();if("nodata"===a)g.setStyle(this.groupSearch,
"display","none"),this.groupItemTable.hide();else{g.setStyle(this.groupSearch,"display","block");this.groupItemTable.show();var b=this._getPortalUrl(),a="group:"+a+" AND "+this._itemTypeQueryString+" "+this._typeKeywordQueryString;this._allGroupQuery=this._getQuery({q:a});this._filterGroupQuery=this._getQuery({q:a});this.groupItemTable.set("portalUrl",b);this.groupItemTable.searchAllItems(this._allGroupQuery)}},_onItemTableUpdate:function(){this.emit("update")},_onItemDomClicked:function(a){var b=
g.hasClass(a,"jimu-state-active");l(".item.jimu-state-active",this.domNode).removeClass("jimu-state-active");b&&g.addClass(a,"jimu-state-active");(a=this.getSelectedItem())?this.emit("item-selected",a):this.emit("none-item-selected")},getSelectedItem:function(){var a=null,b=l(".item.jimu-state-active",this.domNode);0<b.length&&(a=d.mixin({},b[0].item));return a}})})},"jimu/dijit/_ItemTable":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/_ItemTable.html dojo/Evented dojo/_base/lang dojo/_base/array dojo/_base/html dojo/_base/Deferred dojo/query dojo/on jimu/utils jimu/portalUtils jimu/portalUrlUtils jimu/dijit/LoadingIndicator".split(" "),
function(k,p,s,e,c,b,m,d,f,v,g,a,q,l,t,r){return k([p,s,e,b],{templateString:c,declaredClass:"jimu.dijit.ItemTable",baseClass:"jimu-item-table",query:null,filteredQuery:null,portalUrl:null,hidden:!1,nls:null,types:"",typeKeywords:"",_defaultThumbnail:{"Web Mapping Application":"webapp.png","Mobile Application":"mobileapp.png"},postMixInProperties:function(){this.nls=window.jimuNls.itemSelector},postCreate:function(){this.inherited(arguments);this._initSelf()},_initSelf:function(){this.types&&0<this.types.length||
(this.types=[]);(this.hidden=!0===this.hidden)&&this.hide();this.portalUrl&&(this.portalUrl=t.getStandardPortalUrl(this.portalUrl));this.showAllItemsSection();this.searchAllItems()},show:function(){f.setStyle(this.domNode,"display","block")},hide:function(){f.setStyle(this.domNode,"display","none")},searchAllItems:function(a){this.showAllItemsSection();a&&(this.query=m.mixin({},a),this.query.start=1,this.clearAllItemsSection());this.portalUrl&&this.query&&0<this.query.start&&(this.allItemsShelter.show(),
l.getPortal(this.portalUrl).queryItems(this.query).then(m.hitch(this,function(a){this.domNode&&(this.allItemsShelter.hide(),this.query.start=a.nextStart,this._createItems(a,this.allItemTbody))}),m.hitch(this,function(a){console.error(a);this.domNode&&this.allItemsShelter.hide()})))},searchFilteredItems:function(a){this.showFilterItemsSection();a&&(this.filteredQuery=m.clone(a),this.filteredQuery.start=1,this.clearFilteredItemsSection());this.portalUrl&&this.filteredQuery&&0<this.filteredQuery.start&&
(this.filteredItemShelter.show(),l.getPortal(this.portalUrl).queryItems(this.filteredQuery).then(m.hitch(this,function(b){this.domNode&&(this.showFilterItemsSection(),a&&this.clearFilteredItemsSection(),this.filteredQuery.start=b.nextStart,this._createItems(b,this.filteredItemsTbody),this._filterItemCallback())}),m.hitch(this,function(a){console.error(a);this.domNode&&this._filterItemCallback()})))},_filterItemCallback:function(){this.filteredItemShelter.hide();0<this._getItemCount(this.filteredItemsTbody)?
(f.setStyle(this.filteredItemsTableDiv,"display","block"),f.setStyle(this.searchNoneTipSection,"display","none")):(f.setStyle(this.filteredItemsTableDiv,"display","none"),f.setStyle(this.searchNoneTipSection,"display","block"))},clear:function(){this.clearAllItemsSection();this.clearFilteredItemsSection()},clearAllItemsSection:function(){f.empty(this.allItemTbody)},clearFilteredItemsSection:function(){f.empty(this.filteredItemsTbody)},showAllItemsSection:function(){f.setStyle(this.allItemsSection,
"display","block");f.setStyle(this.filteredItemsSection,"display","none")},showFilterItemsSection:function(){f.setStyle(this.allItemsSection,"display","none");f.setStyle(this.filteredItemsSection,"display","block");f.setStyle(this.filteredItemsTableDiv,"display","block");f.setStyle(this.searchNoneTipSection,"display","none")},_onAllItemsSectionScroll:function(){this._isScrollToBottom(this.allItemsTableDiv)&&this.searchAllItems()},_onFilteredItemsSectionScroll:function(){this._isScrollToBottom(this.filteredItemsTableDiv)&&
this.searchFilteredItems()},_isScrollToBottom:function(a){return q.isScrollToBottom(a)},_createItems:function(a,b){var c=a.results,C=d.map(this.types,m.hitch(this,function(a){return a.toLowerCase()})),c=d.filter(c,m.hitch(this,function(a){a=a.type&&a.type.toLowerCase()||"";return 0<=d.indexOf(C,a)}));if(0!==c.length){var l,q=g("td.empty",b),e;if(0<q.length){var h=Math.min(c.length,q.length),A=c.splice(0,h);for(e=0;e<h;e++){var r=q[e];l=this._createItem(A[e]);f.place(l,r);f.removeClass(r,"empty")}}if(0!==
c.length){q=Math.ceil(c.length/2);for(e=0;e<q;e++){l=f.toDom("\x3ctr\x3e\x3ctd\x3e\x3c/td\x3e\x3ctd\x3e\x3c/td\x3e\x3c/tr\x3e");f.place(l,b);h=g("td",l);for(A=0;A<h.length;A++)r=h[A],(l=c[2*e+A])?(l=this._createItem(l),f.place(l,r)):f.addClass(r,"empty")}this.emit("update")}}},_getItemCount:function(a){return g(".item",a).length},_createItem:function(a){var b=f.toDom('\x3cdiv class\x3d"item"\x3e\x3cdiv class\x3d"item-border"\x3e\x3c/div\x3e\x3cdiv class\x3d"item-thumbnail jimu-auto-vertical"\x3e\x3cdiv class\x3d"none-thumbnail-tip jimu-auto-vertical-content"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"item-info"\x3e\x3cdiv class\x3d"item-name"\x3e\x3c/div\x3e\x3cdiv class\x3d"item-type-owner"\x3e\x3c/div\x3e\x3cdiv class\x3d"item-date"\x3e\x3c/div\x3e\x3ca class\x3d"item-details" target\x3d"_blank"\x3e\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e');
b.item=a;var c=g(".item-thumbnail",b)[0],d=g(".item-name",b)[0],l=g(".item-type-owner",b)[0],m=g(".item-date",b)[0],q=g(".item-details",b)[0],h=g(".none-thumbnail-tip",b)[0];if(!a.thumbnailUrl){var e=this._defaultThumbnail[a.type];e&&(a.thumbnailUrl=require.toUrl("jimu")+"/images/"+e)}a.thumbnailUrl?f.setStyle(c,"backgroundImage","url("+a.thumbnailUrl+")"):h.innerHTML=this.nls.noneThumbnail;"function"===typeof this.onCreateItemContent?(m=g(".item-info",b)[0],this.onCreateItemContent(a,m)):(d.innerHTML=
a.title,d.title=d.innerHTML,l.innerHTML=a.type+" by "+a.owner,l.title=l.innerHTML,c=new Date,c.setTime(a.modified),m.innerHTML=c.toLocaleString(),m.title=m.innerHTML,q.innerHTML=this.nls.moreDetails,q.href=a.detailsPageUrl||"#");return b},_onItemsTableClicked:function(a){var b=a.target||a.srcElement;a=null;f.hasClass(b,"item-thumbnail")?a=b.parentNode:f.hasClass(b,"none-thumbnail-tip")&&(a=b.parentNode.parentNode);a&&(b=f.hasClass(a,"jimu-state-active"),g(".item.jimu-state-active",this.domNode).removeClass("jimu-state-active"),
b?f.removeClass(a,"jimu-state-active"):f.addClass(a,"jimu-state-active"),this.emit("item-dom-clicked",a))},getSelectedItem:function(){var a=null,b=g(".item.jimu-state-active",this.domNode);0<b.length&&(a=m.mixin({},b[0].item));return a}})})},"dijit/Tree":function(){define("dojo/_base/array dojo/aspect dojo/cookie dojo/_base/declare dojo/Deferred dojo/promise/all dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/errors/create dojo/fx dojo/has dojo/_base/kernel dojo/keys dojo/_base/lang dojo/on dojo/topic dojo/touch dojo/when ./a11yclick ./focus ./registry ./_base/manager ./_Widget ./_TemplatedMixin ./_Container ./_Contained ./_CssStateMixin ./_KeyNavMixin dojo/text!./templates/TreeNode.html dojo/text!./templates/Tree.html ./tree/TreeStoreModel ./tree/ForestStoreModel ./tree/_dndSelector dojo/query!css2".split(" "),
function(k,p,s,e,c,b,m,d,f,v,g,a,q,l,t,r,n,x,u,C,E,y,B,h,A,I,H,K,J,L,M,N,Q,O,P){function z(a){return r.delegate(a.promise||a,{addCallback:function(a){this.then(a)},addErrback:function(a){this.otherwise(a)}})}var G=e("dijit._TreeNode",[A,I,H,K,J],{item:null,isTreeNode:!0,label:"",_setLabelAttr:function(a){this.labelNode["html"==this.labelType?"innerHTML":"innerText"in this.labelNode?"innerText":"textContent"]=a;this._set("label",a);q("dojo-bidi")&&this.applyTextDir(this.labelNode)},labelType:"text",
isExpandable:null,isExpanded:!1,state:"NotLoaded",templateString:M,baseClass:"dijitTreeNode",cssStateNodes:{rowNode:"dijitTreeRow"},_setTooltipAttr:{node:"rowNode",type:"attribute",attribute:"title"},buildRendering:function(){this.inherited(arguments);this._setExpando();this._updateItemClasses(this.item);this.isExpandable&&this.labelNode.setAttribute("aria-expanded",this.isExpanded);this.setSelected(!1)},_setIndentAttr:function(a){var b=Math.max(a,0)*this.tree._nodePixelIndent+"px";v.set(this.domNode,
"backgroundPosition",b+" 0px");v.set(this.rowNode,this.isLeftToRight()?"paddingLeft":"paddingRight",b);k.forEach(this.getChildren(),function(b){b.set("indent",a+1)});this._set("indent",a)},markProcessing:function(){this.state="Loading";this._setExpando(!0)},unmarkProcessing:function(){this._setExpando(!1)},_updateItemClasses:function(a){var b=this.tree,c=b.model;b._v10Compat&&a===c.root&&(a=null);this._applyClassAndStyle(a,"icon","Icon");this._applyClassAndStyle(a,"label","Label");this._applyClassAndStyle(a,
"row","Row");this.tree._startPaint(!0)},_applyClassAndStyle:function(a,b,c){var h="_"+b+"Class";b+="Node";var l=this[h];this[h]=this.tree["get"+c+"Class"](a,this.isExpanded);d.replace(this[b],this[h]||"",l||"");v.set(this[b],this.tree["get"+c+"Style"](a,this.isExpanded)||{})},_updateLayout:function(){var a=this.getParent(),a=!a||!a.rowNode||"none"==a.rowNode.style.display;d.toggle(this.domNode,"dijitTreeIsRoot",a);d.toggle(this.domNode,"dijitTreeIsLast",!a&&!this.getNextSibling())},_setExpando:function(a){var b=
["dijitTreeExpandoLoading","dijitTreeExpandoOpened","dijitTreeExpandoClosed","dijitTreeExpandoLeaf"];a=a?0:this.isExpandable?this.isExpanded?1:2:3;d.replace(this.expandoNode,b[a],b);this.expandoNodeText.innerHTML=["*","-","+","*"][a]},expand:function(){if(this._expandDeferred)return z(this._expandDeferred);this._collapseDeferred&&(this._collapseDeferred.cancel(),delete this._collapseDeferred);this.isExpanded=!0;this.labelNode.setAttribute("aria-expanded","true");(this.tree.showRoot||this!==this.tree.rootNode)&&
this.containerNode.setAttribute("role","group");d.add(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);this==this.tree.rootNode&&this.tree.showRoot&&this.tree.domNode.setAttribute("aria-expanded","true");var b=a.wipeIn({node:this.containerNode,duration:h.defaultDuration}),F=this._expandDeferred=new c(function(){b.stop()});p.after(b,"onEnd",function(){F.resolve(!0)},!0);b.play();return z(F)},collapse:function(){if(this._collapseDeferred)return z(this._collapseDeferred);
this._expandDeferred&&(this._expandDeferred.cancel(),delete this._expandDeferred);this.isExpanded=!1;this.labelNode.setAttribute("aria-expanded","false");this==this.tree.rootNode&&this.tree.showRoot&&this.tree.domNode.setAttribute("aria-expanded","false");d.remove(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);var b=a.wipeOut({node:this.containerNode,duration:h.defaultDuration}),F=this._collapseDeferred=new c(function(){b.stop()});p.after(b,"onEnd",
function(){F.resolve(!0)},!0);b.play();return z(F)},indent:0,setChildItems:function(a){var c=this.tree,h=c.model,d=[],l=c.focusedChild,n=this.getChildren();k.forEach(n,function(a){H.prototype.removeChild.call(this,a)},this);this.defer(function(){k.forEach(n,function(a){if(!a._destroyed&&!a.getParent()){c.dndController.removeTreeNode(a);var b=function(a){var w=h.getIdentity(a.item),d=c._itemNodesMap[w];1==d.length?delete c._itemNodesMap[w]:(w=k.indexOf(d,a),-1!=w&&d.splice(w,1));k.forEach(a.getChildren(),
b)};b(a);if(c.persist){var w=k.map(a.getTreePath(),function(a){return c.model.getIdentity(a)}).join("/"),d;for(d in c._openedNodes)d.substr(0,w.length)==w&&delete c._openedNodes[d];c._saveExpandedNodes()}c.lastFocusedChild&&!m.isDescendant(c.lastFocusedChild,c.domNode)&&delete c.lastFocusedChild;l&&!m.isDescendant(l,c.domNode)&&c.focus();a.destroyRecursive()}})});this.state="Loaded";a&&0<a.length?(this.isExpandable=!0,k.forEach(a,function(a){var b=h.getIdentity(a),w=c._itemNodesMap[b],l;if(w)for(var n=
0;n<w.length;n++)if(w[n]&&!w[n].getParent()){l=w[n];l.set("indent",this.indent+1);break}l||(l=this.tree._createTreeNode({item:a,tree:c,isExpandable:h.mayHaveChildren(a),label:c.getLabel(a),labelType:c.model&&c.model.labelType||"text",tooltip:c.getTooltip(a),ownerDocument:c.ownerDocument,dir:c.dir,lang:c.lang,textDir:c.textDir,indent:this.indent+1}),w?w.push(l):c._itemNodesMap[b]=[l]);this.addChild(l);(this.tree.autoExpand||this.tree._state(l))&&d.push(c._expandNode(l))},this),k.forEach(this.getChildren(),
function(a){a._updateLayout()})):this.isExpandable=!1;this._setExpando&&this._setExpando(!1);this._updateItemClasses(this.item);a=b(d);this.tree._startPaint(a);return z(a)},getTreePath:function(){for(var a=this,b=[];a&&a!==this.tree.rootNode;)b.unshift(a.item),a=a.getParent();b.unshift(this.tree.rootNode.item);return b},getIdentity:function(){return this.tree.model.getIdentity(this.item)},removeChild:function(a){this.inherited(arguments);var b=this.getChildren();0==b.length&&(this.isExpandable=!1,
this.collapse());k.forEach(b,function(a){a._updateLayout()})},makeExpandable:function(){this.isExpandable=!0;this._setExpando(!1)},setSelected:function(a){this.labelNode.setAttribute("aria-selected",a?"true":"false");d.toggle(this.rowNode,"dijitTreeRowSelected",a)},focus:function(){y.focus(this.focusNode)}});q("dojo-bidi")&&G.extend({_setTextDirAttr:function(a){if(a&&(this.textDir!=a||!this._created))this._set("textDir",a),this.applyTextDir(this.labelNode),k.forEach(this.getChildren(),function(b){b.set("textDir",
a)},this)}});var D=e("dijit.Tree",[A,L,I,J],{baseClass:"dijitTree",store:null,model:null,query:null,label:"",showRoot:!0,childrenAttr:["children"],paths:[],path:[],selectedItems:null,selectedItem:null,openOnClick:!1,openOnDblClick:!1,templateString:N,persist:!1,autoExpand:!1,dndController:P,dndParams:"onDndDrop itemCreator onDndCancel checkAcceptance checkItemAcceptance dragThreshold betweenThreshold".split(" "),onDndDrop:null,itemCreator:null,onDndCancel:null,checkAcceptance:null,checkItemAcceptance:null,
dragThreshold:5,betweenThreshold:0,_nodePixelIndent:19,_publish:function(a,b){x.publish(this.id,r.mixin({tree:this,event:a},b||{}))},postMixInProperties:function(){this.tree=this;this.autoExpand&&(this.persist=!1);this._itemNodesMap={};!this.cookieName&&this.id&&(this.cookieName=this.id+"SaveStateCookie");this.expandChildrenDeferred=new c;this.pendingCommandsPromise=this.expandChildrenDeferred.promise;this.inherited(arguments)},postCreate:function(){this._initState();var a=this;this.own(n(this.containerNode,
n.selector(".dijitTreeNode",u.enter),function(b){a._onNodeMouseEnter(B.byNode(this),b)}),n(this.containerNode,n.selector(".dijitTreeNode",u.leave),function(b){a._onNodeMouseLeave(B.byNode(this),b)}),n(this.containerNode,n.selector(".dijitTreeRow",E.press),function(b){a._onNodePress(B.getEnclosingWidget(this),b)}),n(this.containerNode,n.selector(".dijitTreeRow",E),function(b){a._onClick(B.getEnclosingWidget(this),b)}),n(this.containerNode,n.selector(".dijitTreeRow","dblclick"),function(b){a._onDblClick(B.getEnclosingWidget(this),
b)}));this.model||this._store2model();this.own(p.after(this.model,"onChange",r.hitch(this,"_onItemChange"),!0),p.after(this.model,"onChildrenChange",r.hitch(this,"_onItemChildrenChange"),!0),p.after(this.model,"onDelete",r.hitch(this,"_onItemDelete"),!0));this.inherited(arguments);if(this.dndController){r.isString(this.dndController)&&(this.dndController=r.getObject(this.dndController));for(var b={},c=0;c<this.dndParams.length;c++)this[this.dndParams[c]]&&(b[this.dndParams[c]]=this[this.dndParams[c]]);
this.dndController=new this.dndController(this,b)}this._load();this.onLoadDeferred=z(this.pendingCommandsPromise);this.onLoadDeferred.then(r.hitch(this,"onLoad"))},_store2model:function(){this._v10Compat=!0;l.deprecated("Tree: from version 2.0, should specify a model object rather than a store/query");var a={id:this.id+"_ForestStoreModel",store:this.store,query:this.query,childrenAttrs:this.childrenAttr};this.params.mayHaveChildren&&(a.mayHaveChildren=r.hitch(this,"mayHaveChildren"));this.params.getItemChildren&&
(a.getChildren=r.hitch(this,function(a,b,c){this.getItemChildren(this._v10Compat&&a===this.model.root?null:a,b,c)}));this.model=new O(a);this.showRoot=Boolean(this.label)},onLoad:function(){},_load:function(){this.model.getRoot(r.hitch(this,function(a){var b=this.rootNode=this.tree._createTreeNode({item:a,tree:this,isExpandable:!0,label:this.label||this.getLabel(a),labelType:this.model.labelType||"text",textDir:this.textDir,indent:this.showRoot?0:-1});this.showRoot?(this.domNode.setAttribute("aria-multiselectable",
!this.dndController.singular),this.rootLoadingIndicator.style.display="none"):(b.rowNode.style.display="none",this.domNode.setAttribute("role","presentation"),this.domNode.removeAttribute("aria-expanded"),this.domNode.removeAttribute("aria-multiselectable"),this["aria-label"]?(b.containerNode.setAttribute("aria-label",this["aria-label"]),this.domNode.removeAttribute("aria-label")):this["aria-labelledby"]&&(b.containerNode.setAttribute("aria-labelledby",this["aria-labelledby"]),this.domNode.removeAttribute("aria-labelledby")),
b.labelNode.setAttribute("role","presentation"),b.labelNode.removeAttribute("aria-selected"),b.containerNode.setAttribute("role","tree"),b.containerNode.setAttribute("aria-expanded","true"),b.containerNode.setAttribute("aria-multiselectable",!this.dndController.singular));this.containerNode.appendChild(b.domNode);a=this.model.getIdentity(a);this._itemNodesMap[a]?this._itemNodesMap[a].push(b):this._itemNodesMap[a]=[b];b._updateLayout();this._expandNode(b).then(r.hitch(this,function(){this._destroyed||
(this.rootLoadingIndicator.style.display="none",this.expandChildrenDeferred.resolve(!0))}))}),r.hitch(this,function(a){console.error(this,": error loading root: ",a)}))},getNodesByItem:function(a){if(!a)return[];a=r.isString(a)?a:this.model.getIdentity(a);return[].concat(this._itemNodesMap[a])},_setSelectedItemAttr:function(a){this.set("selectedItems",[a])},_setSelectedItemsAttr:function(a){var b=this;return this.pendingCommandsPromise=this.pendingCommandsPromise.always(r.hitch(this,function(){var c=
k.map(a,function(a){return!a||r.isString(a)?a:b.model.getIdentity(a)}),h=[];k.forEach(c,function(a){h=h.concat(b._itemNodesMap[a]||[])});this.set("selectedNodes",h)}))},_setPathAttr:function(a){return a.length?z(this.set("paths",[a]).then(function(a){return a[0]})):z(this.set("paths",[]).then(function(a){return a[0]}))},_setPathsAttr:function(a){function c(a,b){var w=a.shift(),d=k.filter(b,function(a){return a.getIdentity()==w})[0];if(d)return a.length?h._expandNode(d).then(function(){return c(a,
d.getChildren())}):d;throw new D.PathError("Could not expand path at "+w);}var h=this;return z(this.pendingCommandsPromise=this.pendingCommandsPromise.always(function(){return b(k.map(a,function(a){a=k.map(a,function(a){return a&&r.isObject(a)?h.model.getIdentity(a):a});if(a.length)return c(a,[h.rootNode]);throw new D.PathError("Empty path");}))}).then(function(a){h.set("selectedNodes",a);return h.paths}))},_setSelectedNodeAttr:function(a){this.set("selectedNodes",[a])},_setSelectedNodesAttr:function(a){this.dndController.setSelection(a)},
expandAll:function(){function a(h){return c._expandNode(h).then(function(){var c=k.filter(h.getChildren()||[],function(a){return a.isExpandable});return b(k.map(c,a))})}var c=this;return z(a(this.rootNode))},collapseAll:function(){function a(h){var d=k.filter(h.getChildren()||[],function(a){return a.isExpandable}),d=b(k.map(d,a));return!h.isExpanded||h==c.rootNode&&!c.showRoot?d:d.then(function(){return c._collapseNode(h)})}var c=this;return z(a(this.rootNode))},mayHaveChildren:function(){},getItemChildren:function(){},
getLabel:function(a){return this.model.getLabel(a)},getIconClass:function(a,b){return!a||this.model.mayHaveChildren(a)?b?"dijitFolderOpened":"dijitFolderClosed":"dijitLeaf"},getLabelClass:function(){},getRowClass:function(){},getIconStyle:function(){},getLabelStyle:function(){},getRowStyle:function(){},getTooltip:function(){return""},_onDownArrow:function(a,b){var c=this._getNext(b);c&&c.isTreeNode&&this.focusNode(c)},_onUpArrow:function(a,b){var c=b.getPreviousSibling();if(c)for(b=c;b.isExpandable&&
b.isExpanded&&b.hasChildren();)c=b.getChildren(),b=c[c.length-1];else if(c=b.getParent(),this.showRoot||c!==this.rootNode)b=c;b&&b.isTreeNode&&this.focusNode(b)},_onRightArrow:function(a,b){b.isExpandable&&!b.isExpanded?this._expandNode(b):b.hasChildren()&&(b=b.getChildren()[0])&&b.isTreeNode&&this.focusNode(b)},_onLeftArrow:function(a,b){if(b.isExpandable&&b.isExpanded)this._collapseNode(b);else{var c=b.getParent();c&&(c.isTreeNode&&(this.showRoot||c!==this.rootNode))&&this.focusNode(c)}},focusLastChild:function(){var a=
this._getLast();a&&a.isTreeNode&&this.focusNode(a)},_getFirst:function(){return this.showRoot?this.rootNode:this.rootNode.getChildren()[0]},_getLast:function(){for(var a=this.rootNode;a.isExpanded;){var b=a.getChildren();if(!b.length)break;a=b[b.length-1]}return a},_getNext:function(a){if(a.isExpandable&&a.isExpanded&&a.hasChildren())return a.getChildren()[0];for(;a&&a.isTreeNode;){var b=a.getNextSibling();if(b)return b;a=a.getParent()}return null},childSelector:".dijitTreeRow",isExpandoNode:function(a,
b){return m.isDescendant(a,b.expandoNode)||m.isDescendant(a,b.expandoNodeText)},_onNodePress:function(a,b){this.focusNode(a)},__click:function(a,b,c,h){var d=this.isExpandoNode(b.target,a);a.isExpandable&&(c||d)?this._onExpandoClick({node:a}):(this._publish("execute",{item:a.item,node:a,evt:b}),this[h](a.item,a,b),this.focusNode(a));b.stopPropagation();b.preventDefault()},_onClick:function(a,b){this.__click(a,b,this.openOnClick,"onClick")},_onDblClick:function(a,b){this.__click(a,b,this.openOnDblClick,
"onDblClick")},_onExpandoClick:function(a){a=a.node;this.focusNode(a);a.isExpanded?this._collapseNode(a):this._expandNode(a)},onClick:function(){},onDblClick:function(){},onOpen:function(){},onClose:function(){},_getNextNode:function(a){l.deprecated(this.declaredClass+"::_getNextNode(node) is deprecated. Use _getNext(node) instead.","","2.0");return this._getNext(a)},_getRootOrFirstNode:function(){l.deprecated(this.declaredClass+"::_getRootOrFirstNode() is deprecated. Use _getFirst() instead.","",
"2.0");return this._getFirst()},_collapseNode:function(a){a._expandNodeDeferred&&delete a._expandNodeDeferred;if("Loading"!=a.state&&a.isExpanded){var b=a.collapse();this.onClose(a.item,a);this._state(a,!1);this._startPaint(b);return b}},_expandNode:function(a){if(a._expandNodeDeferred)return a._expandNodeDeferred;var b=this.model,h=a.item,d=this;a._loadDeferred||(a.markProcessing(),a._loadDeferred=new c,b.getChildren(h,function(b){a.unmarkProcessing();a.setChildItems(b).then(function(){a._loadDeferred.resolve(b)})},
function(b){console.error(d,": error loading "+a.label+" children: ",b);a._loadDeferred.reject(b)}));b=a._loadDeferred.then(r.hitch(this,function(){var b=a.expand();this.onOpen(a.item,a);this._state(a,!0);return b}));this._startPaint(b);return b},focusNode:function(a){var b=this.domNode.scrollLeft;this.focusChild(a);this.domNode.scrollLeft=b},_onNodeMouseEnter:function(){},_onNodeMouseLeave:function(){},_onItemChange:function(a){var b=this.model.getIdentity(a);if(b=this._itemNodesMap[b]){var c=this.getLabel(a),
h=this.getTooltip(a);k.forEach(b,function(b){b.set({item:a,label:c,tooltip:h});b._updateItemClasses(a)})}},_onItemChildrenChange:function(a,b){var c=this.model.getIdentity(a);(c=this._itemNodesMap[c])&&k.forEach(c,function(a){a.setChildItems(b)})},_onItemDelete:function(a){a=this.model.getIdentity(a);var b=this._itemNodesMap[a];b&&(k.forEach(b,function(a){this.dndController.removeTreeNode(a);var b=a.getParent();b&&b.removeChild(a);this.lastFocusedChild&&!m.isDescendant(this.lastFocusedChild,this.domNode)&&
delete this.lastFocusedChild;this.focusedChild&&!m.isDescendant(this.focusedChild,this.domNode)&&this.focus();a.destroyRecursive()},this),delete this._itemNodesMap[a])},_initState:function(){this._openedNodes={};if(this.persist&&this.cookieName){var a=s(this.cookieName);a&&k.forEach(a.split(","),function(a){this._openedNodes[a]=!0},this)}},_state:function(a,b){if(!this.persist)return!1;var c=k.map(a.getTreePath(),function(a){return this.model.getIdentity(a)},this).join("/");if(1===arguments.length)return this._openedNodes[c];
b?this._openedNodes[c]=!0:delete this._openedNodes[c];this._saveExpandedNodes()},_saveExpandedNodes:function(){if(this.persist&&this.cookieName){var a=[],b;for(b in this._openedNodes)a.push(b);s(this.cookieName,a.join(","),{expires:365})}},destroy:function(){this._curSearch&&(this._curSearch.timer.remove(),delete this._curSearch);this.rootNode&&this.rootNode.destroyRecursive();this.dndController&&!r.isString(this.dndController)&&this.dndController.destroy();this.rootNode=null;this.inherited(arguments)},
destroyRecursive:function(){this.destroy()},resize:function(a){a&&f.setMarginBox(this.domNode,a);this._nodePixelIndent=f.position(this.tree.indentDetector).w||this._nodePixelIndent;this.expandChildrenDeferred.then(r.hitch(this,function(){this.rootNode.set("indent",this.showRoot?0:-1);this._adjustWidths()}))},_outstandingPaintOperations:0,_startPaint:function(a){this._outstandingPaintOperations++;this._adjustWidthsTimer&&(this._adjustWidthsTimer.remove(),delete this._adjustWidthsTimer);var b=r.hitch(this,
function(){this._outstandingPaintOperations--;0>=this._outstandingPaintOperations&&(!this._adjustWidthsTimer&&this._started)&&(this._adjustWidthsTimer=this.defer("_adjustWidths"))});C(a,b,b)},_adjustWidths:function(){this._adjustWidthsTimer&&(this._adjustWidthsTimer.remove(),delete this._adjustWidthsTimer);this.containerNode.style.width="auto";this.containerNode.style.width=this.domNode.scrollWidth>this.domNode.offsetWidth?"auto":"100%"},_createTreeNode:function(a){return new G(a)},focus:function(){this.lastFocusedChild?
this.focusNode(this.lastFocusedChild):this.focusFirstChild()}});q("dojo-bidi")&&D.extend({_setTextDirAttr:function(a){a&&this.textDir!=a&&(this._set("textDir",a),this.rootNode.set("textDir",a))}});D.PathError=g("TreePathError");D._TreeNode=G;return D})},"dijit/tree/TreeStoreModel":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang"],function(k,p,s,e){return s("dijit.tree.TreeStoreModel",null,{store:null,childrenAttrs:["children"],newItemIdAttr:"id",labelAttr:"",
root:null,query:null,deferItemLoadingUntilExpand:!1,constructor:function(c){e.mixin(this,c);this.connects=[];c=this.store;if(!c.getFeatures()["dojo.data.api.Identity"])throw Error("dijit.tree.TreeStoreModel: store must support dojo.data.Identity");c.getFeatures()["dojo.data.api.Notification"]&&(this.connects=this.connects.concat([p.after(c,"onNew",e.hitch(this,"onNewItem"),!0),p.after(c,"onDelete",e.hitch(this,"onDeleteItem"),!0),p.after(c,"onSet",e.hitch(this,"onSetItem"),!0)]))},destroy:function(){for(var c;c=
this.connects.pop();)c.remove()},getRoot:function(c,b){this.root?c(this.root):this.store.fetch({query:this.query,onComplete:e.hitch(this,function(b){if(1!=b.length)throw Error("dijit.tree.TreeStoreModel: root query returned "+b.length+" items, but must return exactly one");this.root=b[0];c(this.root)}),onError:b})},mayHaveChildren:function(c){return k.some(this.childrenAttrs,function(b){return this.store.hasAttribute(c,b)},this)},getChildren:function(c,b,m){var d=this.store;if(d.isItemLoaded(c)){for(var f=
[],v=0;v<this.childrenAttrs.length;v++)var g=d.getValues(c,this.childrenAttrs[v]),f=f.concat(g);var a=0;this.deferItemLoadingUntilExpand||k.forEach(f,function(b){d.isItemLoaded(b)||a++});0==a?b(f):k.forEach(f,function(c,q){d.isItemLoaded(c)||d.loadItem({item:c,onItem:function(c){f[q]=c;0==--a&&b(f)},onError:m})})}else{var q=e.hitch(this,arguments.callee);d.loadItem({item:c,onItem:function(a){q(a,b,m)},onError:m})}},isItem:function(c){return this.store.isItem(c)},fetchItemByIdentity:function(c){this.store.fetchItemByIdentity(c)},
getIdentity:function(c){return this.store.getIdentity(c)},getLabel:function(c){return this.labelAttr?this.store.getValue(c,this.labelAttr):this.store.getLabel(c)},newItem:function(c,b,m){var d={parent:b,attribute:this.childrenAttrs[0]},f;this.newItemIdAttr&&c[this.newItemIdAttr]?this.fetchItemByIdentity({identity:c[this.newItemIdAttr],scope:this,onItem:function(e){e?this.pasteItem(e,null,b,!0,m):(f=this.store.newItem(c,d))&&void 0!=m&&this.pasteItem(f,b,b,!1,m)}}):(f=this.store.newItem(c,d))&&void 0!=
m&&this.pasteItem(f,b,b,!1,m)},pasteItem:function(c,b,m,d,f){var e=this.store,g=this.childrenAttrs[0];b&&k.forEach(this.childrenAttrs,function(a){if(e.containsValue(b,a,c)){if(!d){var l=k.filter(e.getValues(b,a),function(a){return a!=c});e.setValues(b,a,l)}g=a}});if(m)if("number"==typeof f){var a=e.getValues(m,g).slice();a.splice(f,0,c);e.setValues(m,g,a)}else e.setValues(m,g,e.getValues(m,g).concat(c))},onChange:function(){},onChildrenChange:function(){},onDelete:function(){},onNewItem:function(c,
b){b&&this.getChildren(b.item,e.hitch(this,function(c){this.onChildrenChange(b.item,c)}))},onDeleteItem:function(c){this.onDelete(c)},onSetItem:function(c,b){if(-1!=k.indexOf(this.childrenAttrs,b))this.getChildren(c,e.hitch(this,function(b){this.onChildrenChange(c,b)}));else this.onChange(c)}})})},"dijit/tree/ForestStoreModel":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","./TreeStoreModel"],function(k,p,s,e,c){return p("dijit.tree.ForestStoreModel",
c,{rootId:"$root$",rootLabel:"ROOT",query:null,constructor:function(b){this.root={store:this,root:!0,id:b.rootId,label:b.rootLabel,children:b.rootChildren}},mayHaveChildren:function(b){return b===this.root||this.inherited(arguments)},getChildren:function(b,c,d){b===this.root?this.root.children?c(this.root.children):this.store.fetch({query:this.query,onComplete:e.hitch(this,function(b){this.root.children=b;c(b)}),onError:d}):this.inherited(arguments)},isItem:function(b){return b===this.root?!0:this.inherited(arguments)},
fetchItemByIdentity:function(b){if(b.identity==this.root.id){var c=b.scope||s.global;b.onItem&&b.onItem.call(c,this.root)}else this.inherited(arguments)},getIdentity:function(b){return b===this.root?this.root.id:this.inherited(arguments)},getLabel:function(b){return b===this.root?this.root.label:this.inherited(arguments)},newItem:function(b,c,d){return c===this.root?(this.onNewRootItem(b),this.store.newItem(b)):this.inherited(arguments)},onNewRootItem:function(){},pasteItem:function(b,c,d,e,k){if(c===
this.root&&!e)this.onLeaveRoot(b);this.inherited(arguments,[b,c===this.root?null:c,d===this.root?null:d,e,k]);if(d===this.root)this.onAddToRoot(b)},onAddToRoot:function(b){console.log(this,": item ",b," added to root")},onLeaveRoot:function(b){console.log(this,": item ",b," removed from root")},_requeryTop:function(){var b=this.root.children||[];this.store.fetch({query:this.query,onComplete:e.hitch(this,function(c){this.root.children=c;if(b.length!=c.length||k.some(b,function(b,e){return c[e]!=b}))this.onChildrenChange(this.root,
c)})})},onNewItem:function(b,c){this._requeryTop();this.inherited(arguments)},onDeleteItem:function(b){-1!=k.indexOf(this.root.children,b)&&this._requeryTop();this.inherited(arguments)},onSetItem:function(b,c,d,e){this._requeryTop();this.inherited(arguments)}})})},"dijit/tree/_dndSelector":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/dnd/common dojo/dom dojo/mouse dojo/on dojo/touch ../a11yclick ./_dndContainer".split(" "),function(k,p,s,e,c,b,m,d,
f,v,g){return p("dijit.tree._dndSelector",g,{constructor:function(){this.selection={};this.anchor=null;this.events.push(d(this.tree.domNode,f.press,e.hitch(this,"onMouseDown")),d(this.tree.domNode,f.release,e.hitch(this,"onMouseUp")),d(this.tree.domNode,f.move,e.hitch(this,"onMouseMove")),d(this.tree.domNode,v.press,e.hitch(this,"onClickPress")),d(this.tree.domNode,v.release,e.hitch(this,"onClickRelease")))},singular:!1,getSelectedTreeNodes:function(){var a=[],b=this.selection,c;for(c in b)a.push(b[c]);
return a},selectNone:function(){this.setSelection([]);return this},destroy:function(){this.inherited(arguments);this.selection=this.anchor=null},addTreeNode:function(a,b){this.setSelection(this.getSelectedTreeNodes().concat([a]));b&&(this.anchor=a);return a},removeTreeNode:function(a){var c=k.filter(this.getSelectedTreeNodes(),function(c){return!b.isDescendant(c.domNode,a.domNode)});this.setSelection(c);return a},isTreeNodeSelected:function(a){return a.id&&!!this.selection[a.id]},setSelection:function(a){var b=
this.getSelectedTreeNodes();k.forEach(this._setDifference(b,a),e.hitch(this,function(a){a.setSelected(!1);this.anchor==a&&delete this.anchor;delete this.selection[a.id]}));k.forEach(this._setDifference(a,b),e.hitch(this,function(a){a.setSelected(!0);this.selection[a.id]=a}));this._updateSelectionProperties()},_setDifference:function(a,b){k.forEach(b,function(a){a.__exclude__=!0});var c=k.filter(a,function(a){return!a.__exclude__});k.forEach(b,function(a){delete a.__exclude__});return c},_updateSelectionProperties:function(){var a=
this.getSelectedTreeNodes(),b=[],c=[];k.forEach(a,function(a){var d=a.getTreePath();c.push(a);b.push(d)},this);a=k.map(c,function(a){return a.item});this.tree._set("paths",b);this.tree._set("path",b[0]||[]);this.tree._set("selectedNodes",c);this.tree._set("selectedNode",c[0]||null);this.tree._set("selectedItems",a);this.tree._set("selectedItem",a[0]||null)},onClickPress:function(a){if(!this.current||!this.current.isExpandable||!this.tree.isExpandoNode(a.target,this.current)){"mousedown"==a.type&&
m.isLeft(a)&&a.preventDefault();var b="keydown"==a.type?this.tree.focusedChild:this.current;if(b){var d=c.getCopyKeyState(a),e=b.id;!this.singular&&!a.shiftKey&&this.selection[e]?this._doDeselect=!0:(this._doDeselect=!1,this.userSelect(b,d,a.shiftKey))}}},onClickRelease:function(a){this._doDeselect&&(this._doDeselect=!1,this.userSelect("keyup"==a.type?this.tree.focusedChild:this.current,c.getCopyKeyState(a),a.shiftKey))},onMouseMove:function(){this._doDeselect=!1},onMouseDown:function(){},onMouseUp:function(){},
_compareNodes:function(a,b){if(a===b)return 0;if("sourceIndex"in document.documentElement)return a.sourceIndex-b.sourceIndex;if("compareDocumentPosition"in document.documentElement)return a.compareDocumentPosition(b)&2?1:-1;if(document.createRange){var c=doc.createRange();c.setStartBefore(a);var d=doc.createRange();d.setStartBefore(b);return c.compareBoundaryPoints(c.END_TO_END,d)}throw Error("dijit.tree._compareNodes don't know how to compare two different nodes in this browser");},userSelect:function(a,
b,c){if(this.singular)this.anchor==a&&b?this.selectNone():(this.setSelection([a]),this.anchor=a);else if(c&&this.anchor){b=this._compareNodes(this.anchor.rowNode,a.rowNode);c=this.anchor;0>b?b=c:(b=a,a=c);for(c=[];b!=a;)c.push(b),b=this.tree._getNext(b);c.push(a);this.setSelection(c)}else this.selection[a.id]&&b?this.removeTreeNode(a):b?this.addTreeNode(a,!0):(this.setSelection([a]),this.anchor=a)},getItem:function(a){return{data:this.selection[a],type:["treeNode"]}},forInSelectedItems:function(a,
b){b=b||s.global;for(var c in this.selection)a.call(b,this.getItem(c),c,this)}})})},"dijit/tree/_dndContainer":function(){define("dojo/aspect dojo/_base/declare dojo/dom-class dojo/_base/lang dojo/on dojo/touch".split(" "),function(k,p,s,e,c,b){return p("dijit.tree._dndContainer",null,{constructor:function(m,d){this.tree=m;this.node=m.domNode;e.mixin(this,d);this.containerState="";s.add(this.node,"dojoDndContainer");this.events=[c(this.node,b.enter,e.hitch(this,"onOverEvent")),c(this.node,b.leave,
e.hitch(this,"onOutEvent")),k.after(this.tree,"_onNodeMouseEnter",e.hitch(this,"onMouseOver"),!0),k.after(this.tree,"_onNodeMouseLeave",e.hitch(this,"onMouseOut"),!0),c(this.node,"dragstart, selectstart",function(b){b.preventDefault()})]},destroy:function(){for(var b;b=this.events.pop();)b.remove();this.node=this.parent=null},onMouseOver:function(b){this.current=b},onMouseOut:function(){this.current=null},_changeState:function(b,c){var e="dojoDnd"+b,k=b.toLowerCase()+"State";s.replace(this.node,e+
c,e+this[k]);this[k]=c},_addItemClass:function(b,c){s.add(b,"dojoDndItem"+c)},_removeItemClass:function(b,c){s.remove(b,"dojoDndItem"+c)},onOverEvent:function(){this._changeState("Container","Over")},onOutEvent:function(){this._changeState("Container","")}})})},"dijit/tree/ObjectStoreModel":function(){define("dojo/_base/array dojo/aspect dojo/_base/declare dojo/Deferred dojo/_base/lang dojo/when ../Destroyable".split(" "),function(k,p,s,e,c,b,m){return s("dijit.tree.ObjectStoreModel",m,{store:null,
labelAttr:"name",labelType:"text",root:null,query:null,constructor:function(b){c.mixin(this,b);this.childrenCache={}},getRoot:function(d,e){if(this.root)d(this.root);else{var k=this.store.query(this.query);k.then&&this.own(k);b(k,c.hitch(this,function(b){if(1!=b.length)throw Error("dijit.tree.ObjectStoreModel: root query returned "+b.length+" items, but must return exactly one");this.root=b[0];d(this.root);k.observe&&k.observe(c.hitch(this,function(a){this.onChange(a)}),!0)}),e)}},mayHaveChildren:function(){return!0},
getChildren:function(d,e,k){var g=this.store.getIdentity(d);if(this.childrenCache[g])b(this.childrenCache[g],e,k);else{var a=this.childrenCache[g]=this.store.getChildren(d);a.then&&this.own(a);a.observe&&this.own(a.observe(c.hitch(this,function(e,g,f){this.onChange(e);g!=f&&b(a,c.hitch(this,"onChildrenChange",d))}),!0));b(a,e,k)}},isItem:function(){return!0},getIdentity:function(b){return this.store.getIdentity(b)},getLabel:function(b){return b[this.labelAttr]},newItem:function(b,c,e,g){return this.store.put(b,
{parent:c,before:g})},pasteItem:function(b,f,m,g,a,q){var l=new e;if(f===m&&!g&&!q)return l.resolve(!0),l;f&&!g?this.getChildren(f,c.hitch(this,function(a){a=[].concat(a);var c=k.indexOf(a,b);a.splice(c,1);this.onChildrenChange(f,a);l.resolve(this.store.put(b,{overwrite:!0,parent:m,oldParent:f,before:q}))})):l.resolve(this.store.put(b,{overwrite:!0,parent:m,oldParent:f,before:q}));return l},onChange:function(){},onChildrenChange:function(){},onDelete:function(){}})})},"widgets/DistrictLookup/setting/LayerChooser":function(){define("dojo/_base/declare jimu/BaseWidgetSetting dijit/_WidgetsInTemplateMixin dojo/_base/lang dojo/_base/array dojo/promise/all dojo/Deferred dojo/on dojo/dom-class dojo/text!./LayerChooser.html jimu/dijit/LayerChooserFromMap jimu/dijit/LayerChooserFromMapWithDropbox esri/request jimu/dijit/LoadingIndicator jimu/dijit/Message dojo/domReady!".split(" "),
function(k,p,s,e,c,b,m,d,f,v,g,a,q,l,t){return k([p,s],{baseClass:"jimu-widget-districtlookup-setting",templateString:v,selectRouteURL:null,agolFlag:!1,serviceFlag:!1,startup:function(){this.inherited(arguments)},postCreate:function(){this._createPrecinctChooserArgs();this.own(d(this.cancelButton,"click",e.hitch(this,function(a){this.onCancleClick(a)})));this.own(d(this.okButton,"click",e.hitch(this,this._onOKButtonClicked)));this._initLoading()},_onNextButtonClicked:function(){f.contains(this.btnNext,
"jimu-state-disabled")||(f.add(this.itemSelectDiv,"esriCTHidden"),f.remove(this.relatedLayerSelectDiv,"esriCTHidden"),f.add(this.btnNext,"esriCTHidden"),f.remove(this.btnBack,"esriCTHidden"),""===this.relationshipSelect.value?(this._errorMessage(this.nls.layerSelector.polygonLayerNotHavingRelatedLayer),f.add(this.okButton,"jimu-state-disabled")):f.remove(this.okButton,"jimu-state-disabled"))},_onOKButtonClicked:function(){var a;if(!f.contains(this.okButton,"jimu-state-disabled"))if(this.precinctLayerInfo){if(""===
this.relationshipSelect.value)return this._errorMessage(this.nls.layerSelector.errorInSelectingRelatedLayer),!1;a={polygonLayerInfo:this.precinctLayerInfo,relatedLayerInfo:this.pollingPlaceInfo[this.relationshipSelect.value]};this.onOkClick(a)}else return this._errorMessage(this.nls.layerSelector.errorInSelectingPolygonLayer),!1},_createPrecinctChooserArgs:function(){var b,c;b=g.createFeaturelayerFilter(["polygon"],!1);c=g.createQueryableLayerFilter();b={multiple:!1,createMapResponse:this.map.webMapResponse,
showLayerTypes:["FeatureLayer"],filter:g.andCombineFilters([b,c])};b=new g(b);b=new a({layerChooser:b});b.placeAt(this.itemSelectDiv);b.startup();this.own(d(b,"selection-change",e.hitch(this,this._createPollingPlaceLayerOptions)))},_initLoading:function(){this.loading=new l({hidden:!0});this.loading.placeAt(this.domNode);this.loading.startup()},onOkClick:function(a){return a},onCancleClick:function(a){return a},_createPollingPlaceLayerOptions:function(a){var d=[],g;if(a&&0<a.length){this.precinctLayer=
a[0];this.precinctLayerInfo={url:this.precinctLayer.url,geometryType:"esriGeometryPolygon"};this.precinctLayerInfo.layerId=this.precinctLayer.layerId?this.precinctLayer.layerId:this.precinctLayer.url.substr(this.precinctLayer.url.lastIndexOf("/")+1,this.precinctLayer.url.length);var l=this.precinctLayer.url.substr(0,this.precinctLayer.url.lastIndexOf("/")+1);this.precinctLayerInfo.baseURL=l;this.precinctLayerInfo=e.mixin(this.precinctLayerInfo,this._getLayerDetailsFromMap(l,this.precinctLayerInfo.layerId));
this.pollingPlaceInfo=[];g=[];c.forEach(this.precinctLayer.relationships,e.hitch(this,function(a){var b=new m;g.push(b);q({url:l+a.relatedTableId,content:{f:"json"},handleAs:"json"}).then(e.hitch(this,function(a){b.resolve(a)}),e.hitch(this,function(){b.resolve()}))}));b(g).then(e.hitch(this,function(a){for(var b,c=0;c<a.length;c++)a[c]&&"esriGeometryPoint"===a[c].geometryType&&(b={url:l+a[c].id,baseURL:l,relationShipId:this.precinctLayer.relationships[c].id,layerId:a[c].id,geometryType:"esriGeometryPoint"},
b=e.mixin(b,this._getLayerDetailsFromMap(l,a[c].id)),b.title&&(this.pollingPlaceInfo[d.length]=b,d.push({label:this.pollingPlaceInfo[d.length].title,value:d.length})));0<d.length?(this.relationshipSelect.options.length=0,d[0].selected=!0,this.relationshipSelect.addOption(d),f.remove(this.okButton,"jimu-state-disabled")):this._resetRelatedLayerSelector()}),e.hitch(this,function(){this._resetRelatedLayerSelector()}))}else this._resetRelatedLayerSelector()},_resetRelatedLayerSelector:function(){this.relationshipSelect.value=
"";this.relationshipSelect.options.length=0;this.relationshipSelect.addOption({value:"",label:"",selected:!0});f.add(this.okButton,"jimu-state-disabled");this._errorMessage(this.nls.layerSelector.polygonLayerNotHavingRelatedLayer)},_getLayerDetailsFromMap:function(a,b){var d={};this.map&&(this.map.webMapResponse&&this.map.webMapResponse.itemInfo&&this.map.webMapResponse.itemInfo.itemData&&this.map.webMapResponse.itemInfo.itemData.operationalLayers)&&c.forEach(this.map.webMapResponse.itemInfo.itemData.operationalLayers,
e.hitch(this,function(g){g.layerObject&&("ArcGISMapServiceLayer"===g.layerType||"ArcGISTiledMapServiceLayer"===g.layerType?a.substring(0,a.length-1)===g.url&&(c.forEach(g.resourceInfo.layers,e.hitch(this,function(a){a.id===parseInt(b,10)&&(d.title=a.name)})),c.forEach(g.layers,e.hitch(this,function(a){a.id===parseInt(b,10)&&(a.name&&(d.title=a.name),d.popupInfo=a.popupInfo,a.layerDefinition&&a.layerDefinition.definitionExpression&&(d.definitionExpression=a.layerDefinition.definitionExpression))}))):
g.url.replace(/.*?:\/\//g,"")===(a+b).replace(/.*?:\/\//g,"")&&(d.title=g.title,d.popupInfo=g.popupInfo,g.layerDefinition&&g.layerDefinition.definitionExpression&&(d.definitionExpression=g.layerDefinition.definitionExpression)))}));return d},_onBtnBackClicked:function(){f.remove(this.itemSelectDiv,"esriCTHidden");f.add(this.relatedLayerSelectDiv,"esriCTHidden");f.remove(this.btnNext,"esriCTHidden");f.add(this.btnBack,"esriCTHidden")},_errorMessage:function(a){(new t({message:a})).message=a}})})},
"jimu/dijit/LayerChooserFromMap":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/Evented dojo/on dojo/store/Memory dojo/Deferred dojo/store/Observable dijit/tree/ObjectStoreModel dojo/promise/all dojo/_base/lang dojo/_base/html dojo/_base/array jimu/utils jimu/dijit/_Tree jimu/LayerInfos/LayerInfos jimu/dijit/LoadingIndicator".split(" "),function(k,p,s,e,c,b,m,d,f,v,g,a,q,l,t,r,n,x){var u=k([p,s,e,c],{templateString:'\x3cdiv style\x3d"width:100%;"\x3e\x3cdiv data-dojo-attach-point\x3d"errorTipSection" class\x3d"error-tip-section"\x3e\x3cspan class\x3d"jimu-icon jimu-icon-error"\x3e\x3c/span\x3e\x3cspan class\x3d"jimu-state-error-text" data-dojo-attach-point\x3d"errTip"\x3e${nls.noLayersTip}\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e',
_store:null,_id:0,_treeClass:"layer-chooser-tree",createMapResponse:null,multiple:!1,onlyShowVisible:!1,updateWhenLayerInfosIsShowInMapChanged:!1,postMixInProperties:function(){this.nls=window.jimuNls.basicLayerChooserFromMap},postCreate:function(){this.inherited(arguments);q.addClass(this.domNode,"jimu-basic-layer-chooser-from-map");this.multiple=!!this.multiple;this.shelter=new x({hidden:!0});this.shelter.placeAt(this.domNode);this.shelter.startup();this._createTree();this.basicFilter=a.hitch(this,
this.basicFilter);this.filter=u.andCombineFilters([this.basicFilter,this.filter]);this.createMapResponse&&this.setCreateMapResponse(this.createMapResponse)},basicFilter:function(a){var b=new d;this.onlyShowVisible?b.resolve(a.isShowInMap()):b.resolve(!0);return b},filter:function(a){a=new d;a.resolve(!0);return a},getSelectedItems:function(){var b=this.tree.getSelectedItems();return l.map(b,a.hitch(this,function(a){return this.getHandledItem(a)}))},getAllItems:function(){var b=this.tree.getAllItems(),
c=[];l.forEach(b,a.hitch(this,function(a){"root"!==a.id&&(a=this.getHandledItem(a),c.push(a))}));return c},getHandledItem:function(a){return{name:a.name,layerInfo:a.layerInfo}},_isLeafItem:function(a){return a.isLeaf},setCreateMapResponse:function(c){this.createMapResponse=c;n.getInstance(this.createMapResponse.map,this.createMapResponse.itemInfo).then(a.hitch(this,function(c){this.layerInfosObj=c;this.own(b(this.layerInfosObj,"layerInfosChanged",a.hitch(this,this._onLayerInfosChanged)));this.updateWhenLayerInfosIsShowInMapChanged&&
this.own(b(this.layerInfosObj,"layerInfosIsShowInMapChanged",a.hitch(this,this._onLayerInfosIsShowInMapChanged)));this._buildTree(this.layerInfosObj)}))},_onLayerInfosChanged:function(a,b){this._buildTree(this.layerInfosObj);this.emit("update")},_onLayerInfosIsShowInMapChanged:function(a){this._buildTree(this.layerInfosObj);this.emit("update")},_buildTree:function(b){this._clear();q.setStyle(this.errorTipSection,"display","block");var c=b.getLayerInfoArray(),c=c.concat(b.getTableInfoArray());0!==
c.length&&(q.setStyle(this.errorTipSection,"display","none"),l.forEach(c,a.hitch(this,function(a){this._addDirectLayerInfo(a)})))},_addDirectLayerInfo:function(b){b&&b.getLayerObject().then(a.hitch(this,function(){this._addItem("root",b)}),a.hitch(this,function(a){console.error(a)}))},_clear:function(){var b=this._store.query({parent:"root"});l.forEach(b,a.hitch(this,function(a){a&&"root"!==a.id&&this._store.remove(a.id)}))},_addItem:function(b,c){var d=null,e=c.getLayerType(),h=this.filter(c);g({layerType:e,
valid:h}).then(a.hitch(this,function(h){if(h.valid){var e=a.hitch(this,function(a,e){this._id++;d={name:c.title||"",parent:b,layerInfo:c,type:h.layerType,layerClass:c.layerObject.declaredClass,id:this._id.toString(),isLeaf:a,hasChildren:e};this._store.add(d)}),n=c.getSubLayers(),f=0===n.length;f?e(f,!1):(n=l.map(n,a.hitch(this,function(a){return this.filter(a)})),g(n).then(a.hitch(this,function(a){(a=l.some(a,function(a){return a}))&&e(f,a)})))}}))},_getRootItem:function(){return{id:"root",name:"Map Root",
type:"root",isLeaf:!1,hasChildren:!0}},_createTree:function(){var b=this._getRootItem(),b=new m({data:[b],getChildren:function(a){return this.query({parent:a.id})}});this._store=new f(b);b=new v({store:this._store,query:{id:"root"},mayHaveChildren:a.hitch(this,this._mayHaveChildren)});this.tree=new r({multiple:this.multiple,model:b,showRoot:!1,isLeafItem:a.hitch(this,this._isLeafItem),style:{width:"100%"},onOpen:a.hitch(this,function(a,b){"root"!==a.id&&this._onTreeOpen(a,b)}),onClick:a.hitch(this,
function(a,b,c){this._onTreeClick(a,b,c);this.emit("tree-click",a,b,c)}),getIconStyle:a.hitch(this,function(a,b){var c=null;if(!a||"root"===a.id)return null;var h={width:"20px",height:"20px",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundImage:""},d=window.location.protocol+"//"+window.location.host+require.toUrl("jimu"),e=this._getIconImageName(a,b);e&&(h.backgroundImage="url("+d+"/css/images/"+e+")",c=h);return c})});q.addClass(this.tree.domNode,this._treeClass);this.tree.placeAt(this.shelter.domNode,
"before")},_mayHaveChildren:function(a){return a.hasChildren},_getIconImageName:function(a,b){var c="";if("ArcGISDynamicMapServiceLayer"===a.type||"ArcGISTiledMapServiceLayer"===a.type)c=b?"mapserver_open.png":"mapserver_close.png";else if("GroupLayer"===a.type)c=b?"group_layer2.png":"group_layer1.png";else if("FeatureLayer"===a.type){var d=t.getTypeByGeometryType(a.layerInfo.layerObject.geometryType);"point"===d?c="point_layer1.png":"polyline"===d?c="line_layer1.png":"polygon"===d&&(c="polygon_layer1.png")}else c=
"Table"===a.type?"table.png":"ArcGISImageServiceLayer"===a.type||"ArcGISImageServiceVectorLayer"===a.type?"image_layer.png":b?"mapserver_open.png":"mapserver_close.png";return c},_onTreeOpen:function(b,c){if("root"!==b.id){var d=[],e=[],d=b.layerInfo.getSubLayers();b.checked||(this.shelter.show(),e=l.map(d,a.hitch(this,function(a){return a.getLayerObject()})),g(e).then(a.hitch(this,function(){this.domNode&&(l.forEach(d,a.hitch(this,function(a){this._addItem(b.id,a)})),b.checked=!0,this.shelter.hide())}),
a.hitch(this,function(a){console.error(a);this.shelter.hide()})))}},_onTreeClick:function(a,b,c){},destroy:function(){this.shelter&&this.shelter.destroy();this.tree&&this.tree.destroy();this.shelter=null;this.tree.destroy();this.inherited(arguments)}});u.createFilterByLayerType=function(b){a.isArrayLike(b)||(b=[]);return function(a){var c=new d;if(0===b.length)c.resolve(!0);else{var e=[];a.traversal(function(a){e.push(a.getLayerType())});g(e).then(function(a){for(var d=0;d<a.length;d++)for(var e=
0;e<b.length;e++)if(a[d]===b[e]){c.resolve(!0);return}c.resolve(!1)},function(a){console.error(a);c.reject(a)})}return c}};u.createFeaturelayerFilter=function(a,b,c){var e=["point","polyline","polygon"];a&&0<a.length?(a=l.filter(a,function(a){return 0<=e.indexOf(a)}),0===a.length&&(a=e)):a=e;return function(h){var e=new d,n=h.getLayerType();h=h.getLayerObject();g({layerType:n,layerObject:h}).then(function(d){var h=d.layerType;d=d.layerObject;"ArcGISDynamicMapServiceLayer"===h?e.resolve(!0):"ArcGISTiledMapServiceLayer"===
h?e.resolve(!0):"GroupLayer"===h?e.resolve(!0):"FeatureCollection"===h?e.resolve(!0):"FeatureLayer"===h?(h=t.getTypeByGeometryType(d.geometryType),h=0<=l.indexOf(a,h),d.url?(d=t.isFeaturelayerUrlSupportQuery(d.url,d.capabilities),e.resolve(h&&d)):e.resolve(b&&h)):"Table"===h?(d=t.isFeaturelayerUrlSupportQuery(d.url,d.capabilities),e.resolve(c&&d)):e.resolve(!1)},function(a){console.log(a);e.reject(a)});return e}};u.createImageServiceLayerFilter=function(a){return function(b){var c=new d,e=b.getLayerType();
b=b.getLayerObject();g({layerType:e,layerObject:b}).then(function(b){var d=b.layerType;"ArcGISImageServiceLayer"===d||"ArcGISImageServiceVectorLayer"===d?a?t.isImageServiceSupportQuery(b.layerObject.capabilities)?c.resolve(!0):c.resolve(!1):c.resolve(!0):c.resolve(!1)},function(a){console.log(a);c.reject(a)});return c}};u.createQueryableLayerFilter=function(){var a=u.createFeaturelayerFilter(["point","polyline","polygon"],!1,!0),b=u.createImageServiceLayerFilter(!0);return u.orCombineFilters([a,b])};
u.andCombineFilters=function(a){return u._combineFilters(a,!0)};u.orCombineFilters=function(a){return u._combineFilters(a,!1)};u._combineFilters=function(a,b){return function(c){var e=new d,h=l.map(a,function(a){return a(c)});g(h).then(function(a){var c=!1,c=b?l.every(a,function(a){return a}):l.some(a,function(a){return a});e.resolve(c)},function(a){console.error(a);e.reject(a)});return e}};return u})},"dojo/store/Observable":function(){define(["../_base/kernel","../_base/lang","../when","../_base/array"],
function(k,p,s,e){k=function(c){function b(b,a){var d=c[b];d&&(c[b]=function(e){var f;"put"===b&&(f=c.getIdentity(e));if(v)return d.apply(this,arguments);v=!0;try{var k=d.apply(this,arguments);s(k,function(b){a("object"==typeof b&&b||e,f)});return k}finally{v=!1}})}var k=[],d=0;c=p.delegate(c);c.notify=function(b,a){d++;for(var c=k.slice(),e=0,f=c.length;e<f;e++)c[e](b,a)};var f=c.query;c.query=function(b,a){a=a||{};var q=f.apply(this,arguments);if(q&&q.forEach){var l=p.mixin({},a);delete l.start;
delete l.count;var t=c.queryEngine&&c.queryEngine(b,l),r=d,n=[],x;q.observe=function(b,g){1==n.push(b)&&k.push(x=function(b,f){s(q,function(h){var k=h.length!=a.count,l,m;if(++r!=d)throw Error("Query is out of date, you must observe() the query prior to any data modifications");var q,u=-1,p=-1;if(void 0!==f){var s=[].concat(h);t&&!b&&(s=t(h));l=0;for(m=h.length;l<m;l++){var x=h[l];if(c.getIdentity(x)==f&&!(0>s.indexOf(x))){q=x;u=l;(t||!b)&&h.splice(l,1);break}}}if(t){if(b&&(t.matches?t.matches(b):
t([b]).length))l=-1<u?u:h.length,h.splice(l,0,b),p=e.indexOf(t(h),b),h.splice(l,1),a.start&&0==p||!k&&p==h.length?p=-1:h.splice(p,0,b)}else b&&(void 0!==f?p=u:a.start||(p=c.defaultIndex||0,h.splice(p,0,b)));if((-1<u||-1<p)&&(g||!t||u!=p)){k=n.slice();for(l=0;h=k[l];l++)h(b||q,u,p)}})});var f={};f.remove=f.cancel=function(){var a=e.indexOf(n,b);-1<a&&(n.splice(a,1),n.length||k.splice(e.indexOf(k,x),1))};return f}}return q};var v;b("put",function(b,a){c.notify(b,a)});b("add",function(b){c.notify(b)});
b("remove",function(b){c.notify(void 0,b)});return c};p.setObject("dojo.store.Observable",k);return k})},"jimu/dijit/_Tree":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/_TreeNode.html dojo/_base/lang dojo/_base/html dojo/_base/array dojo/_base/event dojo/query dojo/aspect dojo/on dojo/Evented dijit/registry dijit/Tree jimu/utils".split(" "),function(k,p,s,e,c,b,m,d,f,v,g,a,q,l,t){var r=k([l._TreeNode,a],{templateString:e,declaredClass:"jimu._TreeNode",
isLeaf:!1,groupId:"",postCreate:function(){this.inherited(arguments);b.addClass(this.domNode,"jimu-tree-node");this.isLeaf=!!this.isLeaf;this.groupId?(this.checkNode=b.toDom('\x3cinput type\x3d"radio" /\x3e'),this.checkNode.name=this.groupId):this.checkNode=b.toDom('\x3cinput type\x3d"checkbox" /\x3e');b.addClass(this.checkNode,"jimu-tree-check-node");b.place(this.checkNode,this.contentNode,"first");this.own(g(this.checkNode,"click",c.hitch(this,this._onClick)));this.isLeaf?this.groupId?b.setStyle(this.checkNode,
"display","none"):b.setStyle(this.checkNode,"display","inline"):b.setStyle(this.checkNode,"display","none");this.isLeaf?b.addClass(this.domNode,"jimu-tree-leaf-node"):b.addClass(this.domNode,"jimu-tree-not-leaf-node")},select:function(){this.isLeaf&&(this.checkNode.checked=!0,b.addClass(this.domNode,"jimu-tree-selected-leaf-node"))},unselect:function(){this.isLeaf&&(this.checkNode.checked=!1,b.removeClass(this.domNode,"jimu-tree-selected-leaf-node"))},toggleSelect:function(){this.isLeaf&&(this.checkNode.checked?
this.unselect():this.select())},_onClick:function(a){(a.target||a.srcElement)===this.checkNode?this.tree._onCheckNodeClick(this,this.checkNode.checked,a):this.tree._onClick(this,a)},_onChange:function(){this.isLeaf&&setTimeout(c.hitch(this,function(){this.checkNode.checked?this.emit("tn-select",this):this.emit("tn-unselect",this)}),100)},destroy:function(){delete this.tree;this.inherited(arguments)}});return k([l,a],{declaredClass:"jimu._Tree",openOnClick:!0,multiple:!0,uniqueId:"",showRoot:!1,postMixInProperties:function(){this.inherited(arguments);
this.uniqueId="tree_"+t.getRandomString()},postCreate:function(){this.inherited(arguments);b.addClass(this.domNode,"jimu-tree");this.own(v.before(this,"onClick",c.hitch(this,this._jimuBeforeClick)));this.rootLoadingIndicator&&b.setStyle(this.rootLoadingIndicator,"display","none");this.dndController.singular=!0},removeItem:function(a){this.model.store.remove(a)},getAllItems:function(){var a=this.getAllTreeNodeWidgets();return m.map(a,c.hitch(this,function(a){var b=a.item;b.selected=a.checkNode.checked;
return b}))},getSelectedItems:function(){var a=this.getAllTreeNodeWidgets(),a=m.filter(a,c.hitch(this,function(a){return a.checkNode.checked}));return m.map(a,c.hitch(this,function(a){return a.item}))},getFilteredItems:function(a){var b=this.getAllTreeNodeWidgets(),b=m.map(b,c.hitch(this,function(a){var b=a.item;b.selected=a.checkNode.checked;return b}));return m.filter(b,c.hitch(this,function(b){return a(b)}))},getTreeNodeByItemId:function(a){for(var b=this._getAllTreeNodeDoms(),c=0;c<b.length;c++){var d=
q.byNode(b[c]);if(d.item.id.toString()===a.toString())return d}return null},selectItem:function(a){(a=this.getTreeNodeByItemId(a))&&a.isLeaf&&this.selectNodeWidget(a)},unselectItem:function(a){(a=this.getTreeNodeByItemId(a))&&a.isLeaf&&a.unselect()},getAllLeafTreeNodeWidgets:function(){var a=this.getAllTreeNodeWidgets();return m.filter(a,c.hitch(this,function(a){return a.isLeaf}))},getAllTreeNodeWidgets:function(){var a=this._getAllTreeNodeDoms();return m.map(a,c.hitch(this,function(a){return q.byNode(a)}))},
isLeafItem:function(a){return a&&a.isLeaf},_getAllTreeNodeDoms:function(){return f(".dijitTreeNode",this.domNode)},_createTreeNode:function(a){a.isLeaf=this.isLeafItem(a.item);this.multiple||(a.groupId=this.uniqueId);return new r(a)},_onTreeNodeSelect:function(a){this.emit("item-select",{item:a.item,treeNode:a})},_onTreeNodeUnselect:function(a){this.emit("item-unselect",{item:a.item,treeNode:a})},selectNodeWidget:function(a){this.multiple||this.unselectAllLeafNodeWidgets();a.select()},_jimuBeforeClick:function(a,
c,d){c.isLeaf&&(b.hasClass(d.target||d.srcElement,"jimu-tree-check-node")||(this.multiple?c.toggleSelect():this.selectNodeWidget(c)));return arguments},_onCheckNodeClick:function(a,b,e){!this.multiple&&b&&this.unselectAllLeafNodeWidgets();d.stop(e);this.focusNode(a);setTimeout(c.hitch(this,function(){b?this.selectNodeWidget(a):a.unselect();this.onClick(a.item,a,e)}),0)},unselectAllLeafNodeWidgets:function(){var a=this.getAllLeafTreeNodeWidgets();m.forEach(a,c.hitch(this,function(a){a.unselect()}))}})})},
"jimu/dijit/LayerChooserFromMapWithDropbox":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/html dojo/on dojo/Evented dojo/Deferred dijit/popup dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/LayerChooserFromMapWithDropbox.html jimu/LayerInfos/LayerInfos".split(" "),function(k,p,s,e,c,b,m,d,f,v,g){return k([d,f,c],{templateString:v,baseClass:"jimu-layer-chooser-from-map-withdropbox",declaredClass:"jimu.dijit.LayerChooserFromMapWithDropbox",_selectedItem:null,_isLayerChooserShow:!1,
layerInfosObj:null,layerChooser:null,postCreate:function(){this.inherited(arguments);this.layerInfosObj=g.getInstanceSync();s.addClass(this.layerChooser.domNode,"jimu-layer-chooser-from-map-withdropbox-popup");this.layerChooser.domNode.style.zIndex=1;this.layerChooser.tree.domNode.style.borderTop="0";this.own(e(this.layerChooser,"tree-click",p.hitch(this,this._onTreeClick)));this.own(e(this.layerChooser,"update",p.hitch(this,this._onLayerChooserUpdate)));this.own(e(document.body,"click",p.hitch(this,
this._onBodyClicked)))},destroy:function(){this.hideLayerChooser();this.layerChooser&&this.layerChooser.destroy();this.layerChooser=null;this.inherited(arguments)},getLayerChooser:function(){return this.layerChooser},setSelectedLayer:function(a){var c=new b;if(a){var d=this.layerInfosObj.getLayerInfoById(a.id);d?this.layerChooser.filter(d).then(p.hitch(this,function(b){b?(this._onSelectNewItem({layerInfo:d,name:d.title,url:a.url}),c.resolve(!0)):c.resolve(!1)}),p.hitch(this,function(){c.resolve(!1)})):
c.resolve(!1)}else this._onSelectNewItem(null),c.resolve(!0);return c},getSelectedItem:function(){return this._selectedItem},getSelectedItems:function(){return[this._selectedItem]},_onBodyClicked:function(a){a=a.target||a.srcElement;a===this.domNode||s.isDescendant(a,this.domNode)||a===this.layerChooser.domNode||s.isDescendant(a,this.layerChooser.domNode)||this.hideLayerChooser()},_onDropDownClick:function(a){a.stopPropagation();a.preventDefault();this._isLayerChooserShow?this.hideLayerChooser():
this.showLayerChooser()},_getSelectedItems:function(){return this.layerChooser.getSelectedItems()},showLayerChooser:function(){var a=this.domNode.clientWidth;200>a&&(a=200);this.layerChooser.domNode.style.width=a+2+"px";m.open({parent:this,popup:this.layerChooser,around:this.domNode});(a=this.layerChooser.domNode.parentNode)&&s.addClass(a,"jimu-layer-chooser-from-map-withdropbox-popup");this._isLayerChooserShow=!0},hideLayerChooser:function(){m.close(this.layerChooser);this._isLayerChooserShow=!1},
_onLayerChooserUpdate:function(){this._selectedItem&&this.layerChooser.onlyShowVisible&&!this._selectedItem.layerInfo.isShowInMap()&&(this._selectedItem=null,this.emit("selection-change",[]))},_onSelectNewItem:function(a){var b=p.getObject("layerInfo.id",!1,this._selectedItem)||-1,c=p.getObject("layerInfo.id",!1,a)||-1,b=b!==c;this._selectedItem=a;this.hideLayerChooser();a=p.getObject("layerInfo.title",!1,this._selectedItem)||"";this.layerNameNode.innerHTML=a;a=p.getObject("layerInfo.layerObject",
!1,this._selectedItem);b&&this.emit("selection-change",[a])},_onTreeClick:function(){var a=this._getSelectedItems();this._onSelectNewItem(0<a.length?a[0]:null)}})})},"widgets/DistrictLookup/setting/_build-generate_module":function(){define(["dojo/text!./Setting.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings"],function(){})},"url:widgets/DistrictLookup/setting/SymbolChooserPopup.html":'\x3cdiv style\x3d"width: 100%; height: 100%;"\x3e\r\n    \x3cdiv class\x3d"esriCTSymbolChooserContainer"\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"symbolData" title\x3d"${symbolChooserTitle}" class\x3d"common-input esriCTSymbolData"\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"buttonsDiv" class\x3d"buttonsDiv"\x3e\r\n        \x3cdiv class\x3d"button-container button-container-absolute" style\x3d"padding: 0px;"\x3e\r\n            \x3cdiv class\x3d"jimu-btn jimu-float-trailing jimu-leading-margin1" data-dojo-attach-point\x3d"okButton"\x3e\r\n                ${nls.ok}\x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/DistrictLookup/setting/NetworkServiceChooser.html":'\x3cdiv style\x3d"width: 100%; height: 100%;"\x3e\r\n    \x3cdiv class\x3d"public-search-radios esriCTSearchRadio" data-dojo-attach-point\x3d"routeSearch"\x3e\r\n        \x3cinput data-dojo-attach-point\x3d"organizationRadio" checked type\x3d"radio" name\x3d"routeSearchRadio"\r\n            class\x3d"jimu-float-leading portal-public-radio routeSearchRadio" id\x3d"org_Radio"\x3e\r\n        \x3clabel data-dojo-attach-point\x3d"organizationLabel" class\x3d"jimu-float-leading portal-public-label"\r\n            for\x3d"org_Radio" style\x3d"cursor: pointer;"\x3e\r\n            ${nls.networkServiceChooser.arcgislabel}\x3c/label\x3e\r\n        \x3cinput data-dojo-attach-point\x3d"inputRouteURLRadio" type\x3d"radio" name\x3d"routeSearchRadio"\r\n            class\x3d"jimu-float-leading online-public-radio routeSearchRadio" id\x3d"route_URL_Radio"\x3e\r\n        \x3clabel data-dojo-attach-point\x3d"inputRouteURLLabel" class\x3d"jimu-float-leading online-public-label"\r\n            for\x3d"route_URL_Radio" style\x3d"cursor: pointer;"\x3e\r\n            ${nls.networkServiceChooser.serviceURLabel}\x3c/label\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"itemSelectDiv" class\x3d"esriCTItemSelectDiv"\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"serviceUrlDiv" class\x3d"esriCTServiceUrlDiv esriCTHidden"\x3e\r\n        \x3cdiv class\x3d"serviceUrlContainer row"\x3e\r\n            \x3cdiv class\x3d"esriCTServiceLable" title\x3d"${nls.networkServiceChooser.routeURL}"\x3e\r\n                ${nls.networkServiceChooser.routeURL}\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"esriCTServiceField"\x3e\r\n                \x3cdiv class\x3d"esriCTSetServiceURL" data-dojo-type\x3d"dijit/form/ValidationTextBox" required\x3d"true" trim\x3d"true"\r\n                    data-dojo-attach-point\x3d"serviceURL"\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv class\x3d"jimu-btn jimu-float-trailing jimu-leading-margin1 urlButton esriCTBtnEllipsis jimu-state-disabled"\r\n                    title\x3d"${nls.networkServiceChooser.validateRouteURL}" data-dojo-attach-point\x3d"validateRouteURL"\x3e\r\n                    ${nls.networkServiceChooser.validateRouteURL}\x3c/div\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"esriCTExampleUrl row"\x3e\r\n            \x3cdiv class\x3d"esriCTServiceLable" title\x3d" ${nls.networkServiceChooser.exampleText}"\x3e\r\n                ${nls.networkServiceChooser.exampleText}\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"esriCTServiceField"\x3e\r\n                \x3cdiv class\x3d"esriCTHint esriCTNetworkChooserHint"\x3e\r\n                    \x3cdiv class\x3d"esriCTExampleUrl"\x3e\r\n                        ${nls.networkServiceChooser.hintRouteURL1}\x3c/div\x3e\r\n                    \x3cdiv class\x3d"esriCTExampleUrl"\x3e\r\n                        ${nls.networkServiceChooser.hintRouteURL2}\x3c/div\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"routeLayerList" class\x3d"esriCTRouteListDiv"\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"agolRouteLayerList" class\x3d"esriCTAgolRouteListDiv esriCTHidden"\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"buttonsDiv" class\x3d"buttonsDiv"\x3e\r\n        \x3cdiv class\x3d"button-container button-container-absolute" style\x3d"padding: 0px;"\x3e\r\n            \x3cdiv class\x3d"jimu-btn jimu-float-trailing jimu-leading-margin1" data-dojo-attach-point\x3d"cancelButton"\x3e\r\n                ${nls.cancel}\x3c/div\x3e\r\n            \x3cdiv class\x3d"jimu-btn jimu-float-trailing jimu-leading-margin1 jimu-state-disabled"\r\n                data-dojo-attach-point\x3d"okButton"\x3e\r\n                ${nls.ok}\x3c/div\x3e\r\n            \x3cdiv class\x3d"jimu-btn jimu-float-trailing next jimu-state-disabled" data-dojo-attach-point\x3d"btnNext"\x3e\r\n                ${nls.next}\x3c/div\x3e\r\n            \x3cdiv class\x3d"jimu-btn jimu-float-trailing back esriCTHidden" data-dojo-attach-point\x3d"btnBack"\r\n                data-dojo-attach-event\x3d"onclick:_onBtnBackClicked"\x3e\r\n                ${nls.back}\x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:jimu/dijit/templates/ItemSelector.html":'\x3cdiv\x3e\r\n\t\x3cdiv class\x3d"setting-tab-container"\x3e\r\n\t\t\x3cdiv data-dojo-attach-point\x3d"tabNode"\x3e\x3c/div\x3e\r\n\r\n\t\t\x3cdiv class\x3d"tab-content mycontent-tab" data-dojo-attach-point\x3d"mycontentTabNode"\x3e\r\n\t\t\t\x3cdiv class\x3d"tab-content-main mycontent-tab-content-main"\x3e\r\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"mycontentSearch" data-dojo-type\x3d"jimu/dijit/Search" data-dojo-props\x3d\'searchWhenInput:false\' data-dojo-attach-event\x3d"onSearch:_onMyContentSearch" style\x3d"position:absolute;width:100%;top:0;"\x3e\x3c/div\x3e\r\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"mycontentItemTable" data-dojo-type\x3d"jimu/dijit/_ItemTable" data-dojo-props\x3d\'types:${_itemTypes},typeKeywords:${_typeKeywords}\'style\x3d"top:50px;"\x3e\x3c/div\x3e\r\n\t\t\t\x3c/div\x3e\r\n\t\t\x3c/div\x3e\r\n\r\n\t\t\x3cdiv class\x3d"tab-content organization-tab" data-dojo-attach-point\x3d"organizationTabNode"\x3e\r\n\t\t\t\x3cdiv class\x3d"tab-content-main organization-tab-content-main"\x3e\r\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"organizationSearch" data-dojo-type\x3d"jimu/dijit/Search" data-dojo-props\x3d\'searchWhenInput:false\' data-dojo-attach-event\x3d"onSearch:_onOrganizationSearch" style\x3d"position:absolute;width:100%;top:0;"\x3e\x3c/div\x3e\r\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"organizationItemTable" data-dojo-type\x3d"jimu/dijit/_ItemTable" data-dojo-props\x3d\'types:${_itemTypes},typeKeywords:${_typeKeywords}\' style\x3d"top:50px;"\x3e\x3c/div\x3e\r\n\t\t\t\x3c/div\x3e\r\n\t\t\x3c/div\x3e\r\n\r\n\t\t\x3cdiv class\x3d"tab-content group-tab" data-dojo-attach-point\x3d"groupTabNode"\x3e\r\n\t\t\t\x3cdiv class\x3d"tab-content-main group-tab-content-main"\x3e\r\n\t\t\t\t\x3cdiv class\x3d"groups-section" style\x3d"position:absolute;width:100%;top:50px;" data-dojo-attach-point\x3d"groupsSection"\x3e\r\n\t\t\t\t\t\x3cspan\x3e${nls.groups}:\x3c/span\x3e\r\n\t\t\t\t\t\x3cselect class\x3d"groups-select" data-dojo-attach-point\x3d"groupsSelect"\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"nodata"\x3e${nls.noneGroups}\x3c/option\x3e\r\n\t\t\t\t\t\x3c/select\x3e\r\n\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"groupSearch" data-dojo-type\x3d"jimu/dijit/Search" data-dojo-props\x3d\'searchWhenInput:false\' data-dojo-attach-event\x3d"onSearch:_onGroupSearch" style\x3d"position:absolute;width:100%;top:0;"\x3e\x3c/div\x3e\r\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"groupItemTable" data-dojo-type\x3d"jimu/dijit/_ItemTable" data-dojo-props\x3d\'types:${_itemTypes},typeKeywords:${_typeKeywords}\' style\x3d"top:85px;"\x3e\x3c/div\x3e\r\n\t\t\t\x3c/div\x3e\r\n\t\t\x3c/div\x3e\r\n\r\n\t\t\x3cdiv class\x3d"tab-content public-tab" data-dojo-attach-point\x3d"publicTabNode"\x3e\r\n\t\t\t\x3cdiv class\x3d"tab-content-main public-tab-content-main"\x3e\r\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"publicSearch" data-dojo-type\x3d"jimu/dijit/Search" data-dojo-props\x3d\'searchWhenInput:false\' data-dojo-attach-event\x3d"onSearch:_onPublicSearch" style\x3d"position:absolute;width:100%;top:0;"\x3e\x3c/div\x3e\r\n\t\t\t\t\x3cdiv class\x3d"public-search-radios"\x3e\r\n\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"portalPublicRaido" type\x3d"radio" name\x3d"publicSearchRadio" class\x3d"jimu-float-leading portal-public-radio" /\x3e\r\n\t\t\t\t\t\x3clabel data-dojo-attach-point\x3d"portalPublicLabel" class\x3d"jimu-float-leading portal-public-label"\x3ePortal\x3c/label\x3e\r\n\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"onlinePublicRaido" type\x3d"radio" name\x3d"publicSearchRadio" class\x3d"jimu-float-leading online-public-radio" /\x3e\r\n\t\t\t\t\t\x3clabel data-dojo-attach-point\x3d"onlinePublicLabel" class\x3d"jimu-float-leading online-public-label"\x3eArcGIS Online\x3c/label\x3e\r\n\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"publicItemSection" class\x3d"public-item-section"\x3e\r\n\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"publicPortalItemTable" data-dojo-type\x3d"jimu/dijit/_ItemTable" data-dojo-props\x3d\'types:${_itemTypes},typeKeywords:${_typeKeywords}\'\x3e\x3c/div\x3e\r\n\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"publicOnlineItemTable" data-dojo-type\x3d"jimu/dijit/_ItemTable" data-dojo-props\x3d\'types:${_itemTypes},typeKeywords:${_typeKeywords}\'\x3e\x3c/div\x3e\r\n\t\t\t\t\x3c/div\x3e\r\n\t\t\t\x3c/div\x3e\r\n\t\t\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv class\x3d"signin-section" data-dojo-attach-point\x3d"signinSection" style\x3d"display:none;"\x3e\r\n\t\t\x3cdiv class\x3d"signin-tip"\x3e${nls.signInTip}\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e',
"url:jimu/dijit/templates/_ItemTable.html":'\x3cdiv\x3e\r\n\t\x3cdiv class\x3d"items-section all-items-section" data-dojo-attach-point\x3d"allItemsSection"\x3e\r\n\t\t\x3cdiv class\x3d"items-table-div" data-dojo-attach-point\x3d"allItemsTableDiv" data-dojo-attach-event\x3d"onscroll:_onAllItemsSectionScroll"\x3e\r\n\t\t\t\x3ctable class\x3d"items-table" cellpadding\x3d"10" data-dojo-attach-point\x3d"allItemsTable" data-dojo-attach-event\x3d"onclick:_onItemsTableClicked"\x3e\r\n\t\t\t\t\x3ctbody data-dojo-attach-point\x3d"allItemTbody"\x3e\x3c/tbody\x3e\r\n\t\t\t\x3c/table\x3e\r\n\t\t\x3c/div\x3e\r\n\t\t\x3cdiv data-dojo-type\x3d"jimu/dijit/LoadingIndicator" data-dojo-attach-point\x3d"allItemsShelter" data-dojo-props\x3d\'hidden:true\'\x3e\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv class\x3d"items-section filtered-items-section" data-dojo-attach-point\x3d"filteredItemsSection"\x3e\r\n\t\t\x3cdiv class\x3d"items-table-div" data-dojo-attach-point\x3d"filteredItemsTableDiv" data-dojo-attach-event\x3d"onscroll:_onFilteredItemsSectionScroll"\x3e\r\n\t\t\t\x3ctable class\x3d"items-table" cellpadding\x3d"10" data-dojo-attach-point\x3d"filteredItemsTable" data-dojo-attach-event\x3d"onclick:_onItemsTableClicked"\x3e\r\n\t\t\t\t\x3ctbody data-dojo-attach-point\x3d"filteredItemsTbody"\x3e\x3c/tbody\x3e\r\n\t\t\t\x3c/table\x3e\r\n\t\t\x3c/div\x3e\r\n\t\t\x3cdiv class\x3d"search-none-tip-section" data-dojo-attach-point\x3d"searchNoneTipSection" style\x3d"display:none;"\x3e\r\n\t\t\t\x3cspan class\x3d"search-none-icon jimu-icon jimu-icon-error"\x3e\x3c/span\x3e\r\n\t\t\t\x3cspan class\x3d"search-none-tip jimu-state-error-text"\x3e${nls.searchNone}\x3c/span\x3e\r\n\t\t\x3c/div\x3e\r\n\t\t\x3cdiv data-dojo-type\x3d"jimu/dijit/LoadingIndicator" data-dojo-attach-point\x3d"filteredItemShelter" data-dojo-props\x3d\'hidden:true\'\x3e\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e',
"url:dijit/templates/TreeNode.html":'\x3cdiv class\x3d"dijitTreeNode" role\x3d"presentation"\r\n\t\x3e\x3cdiv data-dojo-attach-point\x3d"rowNode" class\x3d"dijitTreeRow" role\x3d"presentation"\r\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"expandoNode" class\x3d"dijitInline dijitTreeExpando" role\x3d"presentation"\x3e\x3c/span\r\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"expandoNodeText" class\x3d"dijitExpandoText" role\x3d"presentation"\x3e\x3c/span\r\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"contentNode"\r\n\t\t\tclass\x3d"dijitTreeContent" role\x3d"presentation"\x3e\r\n\t\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitTreeIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan data-dojo-attach-point\x3d"labelNode,focusNode" class\x3d"dijitTreeLabel" role\x3d"treeitem"\r\n\t\t\t\t   tabindex\x3d"-1" aria-selected\x3d"false" id\x3d"${id}_label"\x3e\x3c/span\x3e\r\n\t\t\x3c/span\r\n\t\x3e\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitTreeNodeContainer" role\x3d"presentation"\r\n\t\t style\x3d"display: none;" aria-labelledby\x3d"${id}_label"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:dijit/templates/Tree.html":'\x3cdiv role\x3d"tree"\x3e\r\n\t\x3cdiv class\x3d"dijitInline dijitTreeIndent" style\x3d"position: absolute; top: -9999px" data-dojo-attach-point\x3d"indentDetector"\x3e\x3c/div\x3e\r\n\t\x3cdiv class\x3d"dijitTreeExpando dijitTreeExpandoLoading" data-dojo-attach-point\x3d"rootLoadingIndicator"\x3e\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitTreeContainer" role\x3d"presentation"\x3e\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:widgets/DistrictLookup/setting/LayerChooser.html":'\x3cdiv style\x3d"width: 100%; height: 100%;"\x3e\r\n    \x3cdiv class\x3d"esriCTLayerSelectorDiv"\x3e\r\n        \x3cdiv class\x3d"esriCTLayerChooserContainer row"\x3e\r\n            \x3cdiv class\x3d"esriCTlabel esriCTLabelContainer esriCTLayerChooserLabel" title\x3d"${nls.layerSelector.selectPolygonLayerLabel}"\x3e\r\n                ${nls.layerSelector.selectPolygonLayerLabel}\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"esriCTLayerChooserField"\x3e\r\n                \x3cdiv data-dojo-attach-point\x3d"itemSelectDiv"\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv class\x3d"esriCTHint"\x3e\r\n                    ${nls.layerSelector.selectPolygonLayerHintText}\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"esriCTLayerChooserContainer row"\x3e\r\n            \x3cdiv class\x3d"esriCTlabel esriCTLabelContainer esriCTLayerChooserLabel" title\x3d"${nls.layerSelector.selectRelatedPointLayerLabel}"\x3e\r\n                ${nls.layerSelector.selectRelatedPointLayerLabel}\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"esriCTLayerChooserField"\x3e\r\n                \x3cselect data-dojo-attach-point\x3d"relationshipSelect" style\x3d"width: 232px;" data-dojo-type\x3d"dijit/form/Select"\x3e\r\n                \x3c/select\x3e\r\n                \x3cdiv class\x3d"esriCTHint"\x3e\r\n                    ${nls.layerSelector.selectRelatedPointLayerHintText}\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"buttonsDiv" class\x3d"buttonsDiv"\x3e\r\n        \x3cdiv class\x3d"button-container button-container-absolute" style\x3d"padding: 0px;"\x3e\r\n            \x3cdiv class\x3d"jimu-btn jimu-float-trailing jimu-leading-margin1" data-dojo-attach-point\x3d"cancelButton"\x3e\r\n                ${nls.cancel}\x3c/div\x3e\r\n            \x3cdiv class\x3d"jimu-btn jimu-float-trailing jimu-leading-margin1 jimu-state-disabled"\r\n                data-dojo-attach-point\x3d"okButton"\x3e\r\n                ${nls.ok}\x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:jimu/dijit/templates/_TreeNode.html":'\x3cdiv class\x3d"dijitTreeNode" role\x3d"presentation"\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"rowNode" class\x3d"dijitTreeRow" role\x3d"presentation"\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d"expandoNode" class\x3d"dijitInline dijitTreeExpando" role\x3d"presentation"\x3e\x3c/span\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d"expandoNodeText" class\x3d"dijitExpandoText" role\x3d"presentation"\x3e\x3c/span\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d"contentNode" class\x3d"dijitTreeContent" role\x3d"presentation"\x3e\r\n\t\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitTreeIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\r\n\t\t\t\x3cspan data-dojo-attach-point\x3d"labelNode,focusNode" class\x3d"dijitTreeLabel" role\x3d"treeitem" tabindex\x3d"-1" aria-selected\x3d"false"\x3e\x3c/span\x3e\r\n\t\t\x3c/span\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitTreeNodeContainer" role\x3d"presentation" style\x3d"display: none;"\x3e\x3c/div\x3e\r\n\x3c/div\x3e',
"url:jimu/dijit/templates/LayerChooserFromMapWithDropbox.html":'\x3cdiv\x3e\r\n  \x3ctable data-dojo-attach-event\x3d"onclick: _onDropDownClick"\x3e\r\n    \x3ccolgroup\x3e\r\n      \x3ccol width\x3d"10px"\x3e\x3c/col\x3e\r\n      \x3ccol width\x3d"auto"\x3e\x3c/col\x3e\r\n      \x3ccol width\x3d"30px"\x3e\x3c/col\x3e\r\n    \x3c/colgroup\x3e\r\n    \x3ctbody\x3e\r\n      \x3ctr\x3e\r\n        \x3ctd\x3e\x3c/td\x3e\r\n        \x3ctd\x3e\r\n          \x3cdiv class\x3d"layer-name jimu-ellipsis" data-dojo-attach-point\x3d"layerNameNode"\x3e\x3c/div\x3e\r\n        \x3c/td\x3e\r\n        \x3ctd\x3e\r\n          \x3cdiv class\x3d"drop-select jimu-float-trailing" data-dojo-attach-point\x3d"dropArrowNode"\x3e\r\n            \x3cdiv class\x3d"jimu-icon jimu-icon-down-arrow-8"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3c/td\x3e\r\n      \x3c/tr\x3e\r\n    \x3c/tbody\x3e\r\n  \x3c/table\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/DistrictLookup/setting/Setting.html":'\x3cdiv class\x3d"esriCTMainContainer"  style\x3d"width: 100%;height: 100%;"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"tabDiv" class\x3d"esriCTFullHeight"\x3e\r\n        \x3c!-- Search Settings tab --\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"searchTabNode" class\x3d"esriCTFullHeight esriCTTabNode"\x3e\r\n            \x3cdiv\x3e\r\n                \x3cdiv class\x3d"esriCTLayerContainer row"\x3e\r\n                    \x3cdiv class\x3d"esriCTlabel esriCTLabelContainer" title\x3d"${nls.layerSetting.selectLayersLabel}"\x3e\r\n                        ${nls.layerSetting.selectLayersLabel}\r\n                    \x3c/div\x3e\r\n                    \x3cdiv class\x3d"esriCTLayerField"\x3e\r\n                        \x3cdiv class\x3d"esriCTSelectedLayersDiv" data-dojo-attach-point\x3d"layerListNode"\x3e\r\n                        \x3c/div\x3e\r\n                        \x3cdiv class\x3d"esriCTSetButton jimu-btn jimu-float-trailing" title\x3d"${nls.layerSetting.buttonSet}"\r\n                            data-dojo-attach-point\x3d"setPrecinctLayerBtnNode"\x3e\r\n                            ${nls.layerSetting.buttonSet}\x3c/div\x3e\r\n                        \x3cdiv class\x3d"esriCTHint"\x3e\r\n                            ${nls.layerSetting.selectLayersHintText}\r\n                        \x3c/div\x3e\r\n                    \x3c/div\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv class\x3d"esriCTLayerContainer row"\x3e\r\n                    \x3cdiv class\x3d"esriCTlabel esriCTLabelContainer" title\x3d"${nls.layerSetting.selectPrecinctSymbolLabel}"\x3e\r\n                        ${nls.layerSetting.selectPrecinctSymbolLabel}\r\n                    \x3c/div\x3e\r\n                    \x3cdiv class\x3d"esriCTLayerField"\x3e\r\n                        \x3cdiv class\x3d"esriCTPreviewField" data-dojo-attach-point\x3d"precinctSymbolNode"\x3e\r\n                        \x3c/div\x3e\r\n                        \x3cdiv class\x3d"esriCTHint esriCTPreviewHintField"\x3e\r\n                            ${nls.layerSetting.precinctSymbolHintText}\x3c/div\x3e\r\n                    \x3c/div\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv class\x3d"esriCTLayerContainer row"\x3e\r\n                    \x3cdiv class\x3d"esriCTlabel" title\x3d"${nls.layerSetting.selectGraphicLocationSymbol}"\x3e\r\n                        ${nls.layerSetting.selectGraphicLocationSymbol}\r\n                    \x3c/div\x3e\r\n                    \x3cdiv class\x3d"esriCTLayerField"\x3e\r\n                        \x3cdiv class\x3d"esriCTPreviewField" data-dojo-attach-point\x3d"pointSymbolNode"\x3e\r\n                        \x3c/div\x3e\r\n                        \x3cdiv class\x3d"esriCTHint esriCTPreviewHintField"\x3e\r\n                            ${nls.layerSetting.graphicLocationSymbolHintText}\x3c/div\x3e\r\n                    \x3c/div\x3e\r\n                \x3c/div\x3e\r\n                 \x3cdiv class\x3d"esriCTLayerContainer row"\x3e\r\n                    \x3cdiv class\x3d"esriCTlabel" title\x3d"${nls.layerSetting.selectColorForPoint}"\x3e\r\n                        ${nls.layerSetting.selectColorForPoint}\r\n                    \x3c/div\x3e\r\n                    \x3cdiv class\x3d"esriCTLayerField"\x3e\r\n                        \x3cdiv class\x3d"esriCTPreviewField" data-dojo-attach-point\x3d"colorPickerNode"\x3e\r\n                        \x3c/div\x3e\r\n                        \x3cdiv class\x3d"esriCTHint esriCTPreviewHintField"\x3e\r\n                            ${nls.layerSetting.selectColorForPointHintText}\x3c/div\x3e\r\n                    \x3c/div\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3c!-- Direction Settings tab --\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"directionTabNode"\x3e\r\n            \x3cdiv class\x3d"esriCTHidden esriCTTabNode" data-dojo-attach-point\x3d"routeSettingsNode"\x3e\r\n                \x3cdiv class\x3d"esriCTLayerContainer row"\x3e\r\n                    \x3cdiv class\x3d"esriCTlabel esriCTLabelContainer" data-dojo-attach-point\x3d"routeServiceLabelNode"\r\n                        title\x3d"${nls.routeSetting.routeServiceUrl}"\x3e\r\n                        ${nls.routeSetting.routeServiceUrl}\r\n                    \x3c/div\x3e\r\n                    \x3cdiv class\x3d"esriCTLayerField"\x3e\r\n                        \x3cdiv class\x3d"esriCTSetRouteURL" data-dojo-type\x3d"dijit/form/ValidationTextBox" data-dojo-attach-point\x3d"routeServiceURLNode"\r\n                            trim\x3d"true" required\x3d"true" disabled\x3e\r\n                        \x3c/div\x3e\r\n                        \x3cdiv class\x3d"jimu-btn jimu-float-trailing esriCTURLSetButton" data-dojo-attach-point\x3d"onSetBtnClickNode" title\x3d"${nls.routeSetting.buttonSet}"\x3e\r\n                            ${nls.routeSetting.buttonSet}\x3c/div\x3e\r\n                        \x3cdiv class\x3d"esriCTHint"\x3e\r\n                            ${nls.routeSetting.routeServiceUrlHintText}\r\n                        \x3c/div\x3e\r\n                    \x3c/div\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv class\x3d"esriCTLayerContainer row"\x3e\r\n                    \x3cdiv class\x3d"esriCTlabel" data-dojo-attach-point\x3d"directionLengthUnitLabelNode" title\x3d"${nls.routeSetting.directionLengthUnit}"\x3e\r\n                        ${nls.routeSetting.directionLengthUnit}\r\n                    \x3c/div\x3e\r\n                    \x3cdiv class\x3d"esriCTLayerField"\x3e\r\n                        \x3cselect style\x3d"width: 100%;" data-dojo-attach-point\x3d"directionLengthUnitNode" data-dojo-type\x3d"dijit/form/Select"\x3e\r\n                            \x3coption value\x3d"MILES"\x3e${nls.units.miles}\x3c/option\x3e\r\n                            \x3coption value\x3d"KILOMETERS"\x3e${nls.units.kilometers}\x3c/option\x3e\r\n                        \x3c/select\x3e\r\n                    \x3c/div\x3e\r\n                    \x3cdiv class\x3d"esriCTHint esriCTMargin"\x3e\r\n                        ${nls.routeSetting.unitsForRouteHintText}\r\n                    \x3c/div\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv class\x3d"esriCTLayerContainer row"\x3e\r\n                    \x3cdiv class\x3d"esriCTLabelHintContainer"\x3e\r\n                        \x3cdiv class\x3d"esriCTlabel" data-dojo-attach-point\x3d"routeSymbolLabelNode" title\x3d"${nls.routeSetting.selectRouteSymbol}"\x3e\r\n                            ${nls.routeSetting.selectRouteSymbol}\r\n                        \x3c/div\x3e\r\n                    \x3c/div\x3e\r\n                    \x3cdiv class\x3d"esriCTLayerField"\x3e\r\n                        \x3cdiv class\x3d"esriCTSymbolPreviewField" data-dojo-attach-point\x3d"routeSymbolNode"\x3e\r\n                        \x3c/div\x3e\r\n                        \x3cdiv class\x3d"esriCTHint esriCTSymbolPreviewHintField"\x3e\r\n                            ${nls.routeSetting.routeSymbolHintText}\x3c/div\x3e\r\n                    \x3c/div\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"esriCTHidden esriCTLayerContainer row" data-dojo-attach-point\x3d"routingDisabledMsg"\x3e\r\n                ${nls.routeSetting.routingDisabledMsg}\x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/DistrictLookup/setting/css/style.css":".jimu-widget-districtlookup-setting .esriCTMainContainer{width: 100%; height: 100%;}.jimu-widget-districtlookup-setting .esriCTTabNode{margin-top: 20px;}.jimu-widget-districtlookup-setting .esriCTHint{margin: 5px 5px 10px 0; float: left; font-size: 12px; color: #a0acbf; font-style: oblique;}.jimu-widget-districtlookup-setting .esriCTLabelHintContainer{width: 25%; float: left;}.jimu-widget-districtlookup-setting .esriCTHidden{display: none;}.jimu-widget-districtlookup-setting .esriCTSelectedLayersDiv{max-height: 200px; min-height: 60px; overflow: auto; width: 88%; float: left; border: 1px solid #d2dae2; background: #e3ecf2; margin-right: 10px;}.jimu-widget-districtlookup-setting .esriCTSetButton{float: right; margin-top: 12PX; max-width: 70px; text-overflow: ellipsis; overflow: hidden; white-space: nowrap;}.jimu-widget-districtlookup-setting .esriCTURLSetButton {line-height: 30px; float: right; max-width: 70px; text-overflow: ellipsis; overflow: hidden; white-space: nowrap;} .jimu-widget-districtlookup-setting .esriCTLayerListItem{height: 30px; color: #7989a0; padding: 0px 5px; text-overflow: ellipsis; overflow: hidden; white-space: nowrap; line-height: 30px; background-color: #e3ecf2 !important; font-size: 14px;}.jimu-widget-districtlookup-setting .esriCTLabelContainer{width: 45%; float: left;}.jimu-widget-districtlookup-setting .esriCTlabel{width: 25%; padding: 5px 10px 5px 0px; word-break: break-all; margin-top: 5px; margin-bottom: 5px; float: left; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; min-width: 250px; color: #596679; font-size: 14px;}.jimu-widget-districtlookup-setting .esriCTLayerChooserLabel{min-width: 300px;}.jimu-widget-districtlookup-setting .row{clear: both;}.jimu-widget-districtlookup-setting .esriCTLayerContainer{width: 100%; float: left; margin: 0px;}.jimu-widget-districtlookup-setting .esriCTLayerField{width: 73%; float: left;}.jimu-widget-districtlookup-setting .esriCTLayerChooserField{width: 55%; float: left;}.jimu-widget-districtlookup-setting .dijitValidationTextBoxLabel{max-width: 200px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; float: left;}.jimu-widget-districtlookup-setting .esriCTLayerSelectorDiv{height: 135px; overflow-y: auto;}.jimu-widget-districtlookup-setting .esriCTLayerChooserContainer{width: 99%; float: left; margin: 10px 0 0 5px;}.jimu-widget-districtlookup-setting .esriCTLayerListNode{height: 62px; border: 1px solid #ccc; background-color: #F0F0F0; overflow: auto;}.jimu-widget-districtlookup-setting .esriCTGeometryTypeIcon{height: 16px; width: 16px; background-repeat: no-repeat; margin: 9px 2px 0px 10px; float: left;}.jimu-widget-districtlookup-setting .jimu-layer-chooser-from-map-withdropbox .layer-name{text-overflow: ellipsis; overflow: hidden; white-space: nowrap; padding: 0px 18px 0px 9px;}.jimu-widget-districtlookup-setting .esriCTSetRouteURL{width: 88%; float: left; border: 1px solid #d2dae2; background: #e3ecf2; margin-right: 10px;}.jimu-widget-districtlookup-setting .buttonsDiv .jimu-popup .button-container{padding: 0px;}.jimu-widget-districtlookup-setting .jimu-float-leading{margin-right: 10px;}.jimu-widget-districtlookup-setting .esriCTServiceUrlDiv{float: left; width: 100%;}.jimu-widget-districtlookup-setting .esriCTRouteLayersDiv{float: left; width: 100%;}.jimu-widget-districtlookup-setting .esriCTItemSelectDiv{margin-top: 10px; float: left; height: 450px; width: 100%;}.jimu-widget-districtlookup-setting .esriCTExampleUrl{float: left; width: 100%;}.jimu-widget-districtlookup-setting .esriCTRouteListDiv{margin-top: 10px; float: left; width: 100%; height: 360px; overflow: auto; border: 1px solid #ccc;}.jimu-widget-districtlookup-setting .esriCTAgolRouteListDiv{margin-top: 10px; float: left; width: 100%; height: 450px; overflow: auto; border: 1px solid #ccc;}.jimu-widget-districtlookup-setting .esriCTSearchRadio{float: left; width: 100%;}.jimu-widget-districtlookup-setting .serviceUrlContainer{float: left; width: 100%; margin-top: 10px;}.jimu-widget-districtlookup-setting .esriCTServiceLable{float: left; width: 100px; line-height: 30px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;}.jimu-widget-districtlookup-setting .esriCTServiceField{width: 85%; float: left;}.jimu-widget-districtlookup-setting .esriCTSetServiceURL{float: left; width: 85%;}.jimu-widget-districtlookup-setting .esriCTBtnEllipsis{max-width: 80px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;}.jimu-widget-districtlookup-setting .urlButton{line-height: 30px;}.claro .dijitTreeRowFocused{background-repeat: repeat;}.claro .dijitTreeExpando{background-position: -93px -10px; display: none;}.claro .dijitTreeExpando: :first-child{display: block; background-position: -35px 0;}.jimu-widget-districtlookup-setting .esriCTSymbolChooserNode{text-align: center; cursor: pointer; min-width: 80px;}.jimu-widget-districtlookup-setting .esriCTColorChooserNode{text-align: center; cursor: pointer; min-width: 80px;}.jimu-widget-districtlookup-setting .esriCTColorChooserNode .jimu-color-picker{display:inline-block;}.jimu-widget-districtlookup-setting .esriCTSymbolPreviewText{padding-right: 5px; color: #596679; font-size: 14px; max-width: 130px; text-overflow: ellipsis; overflow: hidden; white-space:nowrap;}.jimu-widget-districtlookup-setting .esriCTPreviewField{width: 25%; float: left;}.jimu-widget-districtlookup-setting .esriCTPreviewHintField{width: 70%; line-height: 30px; margin-left: 10px;}.jimu-widget-districtlookup-setting .esriCTSymbolPreviewField{width: 35%; min-width: 250px; float: left; margin-left: 10px;}table{border-spacing: 0; padding: 0; margin: 0;}.jimu-widget-districtlookup-setting .esriCTSymbolPreviewHintField{width: 50%; line-height: 20px; margin-left: 5px; float: right;}.jimu-widget-districtlookup-setting .esriCTSymbolChooserContainer{height: calc(100% - 50px); overflow: auto;}.claro .dijitTextBoxDisabled .dijitInputContainer, .claro .dijitTextBox .dijitInputInner, .claro .dijitTextBox, .claro .dijitInputContainer{color: #7989a0; background-color: #e3ecf2 !important; font-size: 14px;}.claro .dijitSelect .dijitInputField{background-color: #fafafc !important; color: #7989a0; font-size: 14px; margin-right: 8px;}.claro .dijitTextBox, .claro .dijitSelect{border-color: #d2dae2;}.claro .dijitSelect .dijitArrowButton{background-color: #fafafc; background-image: none; border-color: #fafafc;}.jimu-widget-districtlookup-setting .dijitSelect .dijitButtonContents{border-style: none none none none; background-color: #fafafc;}.esriRtl .jimu-widget-districtlookup-setting .esriCTHint{margin: 5px 0px 10px 5px; float: right;}.esriRtl .jimu-widget-districtlookup-setting .esriCTPreviewHintField{margin-right: 10px;}.esriRtl .jimu-widget-districtlookup-setting .esriCTlabel{padding: 5px 0px 5px 10px; float: right;}.esriRtl .jimu-widget-districtlookup-setting .esriCTSelectedLayersDiv{float: right; margin-left: 10px; margin-right: 0px;}.esriRtl .jimu-widget-districtlookup-setting .esriCTPreviewField{float: right;}.esriRtl .jimu-widget-districtlookup-setting .esriCTGeometryTypeIcon{float: right;}.esriRtl .jimu-widget-districtlookup-setting .esriCTSetButton{float: left;}.esriRtl .jimu-widget-districtlookup-setting .esriCTSetRouteURL{float: right; margin: 0 0 0 10px;}.esriRtl .jimu-widget-districtlookup-setting .esriCTURLSetButton{float: left;}.esriRtl .jimu-widget-districtlookup-setting .esriCTSymbolPreviewField{float: right;}.esriRtl .jimu-widget-districtlookup-setting .esriCTLabelHintContainer{float: right;}.esriRtl .jimu-widget-districtlookup-setting .esriCTSymbolPreviewText{padding: 0 0 0 5px;}.esriRtl .jimu-widget-districtlookup-setting .esriCTServiceLable{float: right;}.esriRtl .jimu-widget-districtlookup-setting .esriCTSetServiceURL{float: right;}.esriRtl .jimu-widget-districtlookup-setting .esriCTLayerChooserField{float: right;}.esriRtl .jimu-widget-districtlookup-setting .esriCTLayerField{float: right;}.esriRtl .jimu-widget-districtlookup-setting .esriCTLayerChooserContainer{float: none;}.esriRtl .jimu-widget-districtlookup-setting .esriCTSymbolPreviewHintField{margin-right: 5px; float: left; margin-left: 0px;}",
"*now":function(k){k(['dojo/i18n!*preload*widgets/DistrictLookup/setting/nls/Setting*["ar","cs","da","de","en","el","es","et","fi","fr","he","hr","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sr","sv","th","tr","zh-cn","vi","zh-hk","zh-tw","ROOT"]'])}}});
define("dojo/_base/declare jimu/BaseWidgetSetting dijit/_WidgetsInTemplateMixin dojo/_base/lang dojo/dom-construct dojo/dom-class dojo/query dojo/on ./SymbolChooserPopup jimu/utils esri/symbols/jsonUtils jimu/dijit/Message jimu/dijit/LoadingIndicator jimu/dijit/Popup ./NetworkServiceChooser ./LayerChooser jimu/portalUtils dojo/dom-style dojo/_base/array jimu/dijit/TabContainer3 jimu/symbolUtils jimu/dijit/ColorPicker dojo/_base/Color dojo/domReady!".split(" "),function(k,p,s,e,c,b,m,d,f,v,g,a,q,l,
t,r,n,x,u,C,E,y,B){return k([p,s],{baseClass:"jimu-widget-districtlookup-setting",UnitsDetails:{},_symbolParams:{},startup:function(){this.inherited(arguments)},postMixInProperties:function(){this.nls=e.mixin(this.nls,window.jimuNls.common)},postCreate:function(){this._initTabs();this.UnitsDetails={MILES:{value:"MILES",label:this.nls.units.miles},KILOMETERS:{value:"KILOMETERS",label:this.nls.units.kilometers}};this.map.webMapResponse.itemInfo.itemData&&this.map.webMapResponse.itemInfo.itemData.applicationProperties&&
this.map.webMapResponse.itemInfo.itemData.applicationProperties.viewing&&this.map.webMapResponse.itemInfo.itemData.applicationProperties.viewing.routing&&this.map.webMapResponse.itemInfo.itemData.applicationProperties.viewing.routing.enabled?b.remove(this.routeSettingsNode,"esriCTHidden"):b.remove(this.routingDisabledMsg,"esriCTHidden");this._createSymbolPicker(this.precinctSymbolNode,"precinctSymbol","esriGeometryPolygon",this.nls.layerSetting.selectPrecinctSymbolLabel);this._createSymbolPicker(this.routeSymbolNode,
"routeSymbol","esriGeometryPolyline",this.nls.routeSetting.selectRouteSymbol);this._createSymbolPicker(this.pointSymbolNode,"graphicLocationSymbol","esriGeometryPoint",this.nls.layerSetting.selectGraphicLocationSymbol);this.own(d(this.setPrecinctLayerBtnNode,"click",e.hitch(this,this._showLayerChooser)));this.own(d(this.onSetBtnClickNode,"click",e.hitch(this,this._showRouteChooser)));this._createColorPicker();this.setConfig()},_initTabs:function(){this.tab=new C({tabs:[{title:this.nls.layerSetting.layerSettingTabTitle,
content:this.searchTabNode},{title:this.nls.routeSetting.routeSettingTabTitle,content:this.directionTabNode}]});this.tab.placeAt(this.tabDiv)},getConfig:function(){return!this.precinctLayerInfo?(this._errorMessage(this.nls.layerSelector.errorInSelectingPolygonLayer),!1):!this.pollingPlaceLayerInfo?(this._errorMessage(this.nls.layerSelector.errorInSelectingRelatedLayer),!1):this.config={highlightColor:this._highlightColorPicker.color.toHex(),precinctLayerInfo:this.precinctLayerInfo,pollingPlaceLayerInfo:this.pollingPlaceLayerInfo,
routeService:this.routeServiceURLNode.value,directionLengthUnit:this.UnitsDetails[this.directionLengthUnitNode.value],symbols:this._symbolParams}},setConfig:function(){var a=n.getPortal(this.appConfig.portalUrl).helperServices;this.config&&(this.config.highlightColor&&this._highlightColorPicker.setColor(new B(this.config.highlightColor)),this.config.precinctLayerInfo&&this.config.pollingPlaceLayerInfo&&(this._updateConfig(),this._setLayerInfos(this.config.precinctLayerInfo,this.config.pollingPlaceLayerInfo)),
this.config.directionLengthUnit&&this.directionLengthUnitNode.set("value",this.config.directionLengthUnit.value),this.config.routeService?this.routeServiceURLNode.set("value",this.config.routeService):a&&a.route&&a.route.url?this.routeServiceURLNode.set("value",a.route.url):this.routeServiceURLNode.set("value",window.location.protocol+"//route.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World"))},_updateConfig:function(){e.mixin(this.config.precinctLayerInfo,this._getLayerDetailsFromMap(this.config.precinctLayerInfo.baseURL,
this.config.precinctLayerInfo.layerId));e.mixin(this.config.pollingPlaceLayerInfo,this._getLayerDetailsFromMap(this.config.pollingPlaceLayerInfo.baseURL,this.config.pollingPlaceLayerInfo.layerId))},_createSymbolPicker:function(a,b,c,f){var k,l,m;c&&(k={},k.type=v.getSymbolTypeByGeometryType(c),this.config&&this.config.symbols&&this.config.symbols.hasOwnProperty(b)&&(k.symbol=g.fromJson(this.config.symbols[b])),l=this._createPreviewContainer(a),m={symbolChooserTitle:f,symbolParams:k,symbolType:b,nls:this.nls},
this._showSelectedSymbol(l,k.symbol,b),this.own(d(l,"click",e.hitch(this,function(){k.symbol=g.fromJson(this._symbolParams[b]);this._initSymbolChooserPopup(m,l)}))))},_createPreviewContainer:function(a){var b;a=c.create("table",{cellspacing:"0",cellpadding:"0"},a);a=c.create("tr",{style:"height:30px"},a);b=c.create("td",{},a);c.create("div",{innerHTML:this.nls.symbolPickerPreviewText,"class":"esriCTSymbolPreviewText"},b);a=c.create("td",{},a);return c.create("div",{"class":"esriCTSymbolChooserNode"},
a)},_initSymbolChooserPopup:function(a,b){var c=new f(a);c.onOkClick=e.hitch(this,function(){var d=c.symbolChooser.getSymbol();this._showSelectedSymbol(b,d,a.symbolType);c.popup.close()})},_showSelectedSymbol:function(a,b,d){c.empty(a);if(b){var e=E.createSymbolNode(b);e||(e=c.create("div"));c.place(e,a);this._symbolParams[d]=b.toJson()}},_initLoading:function(){var a;this.loading=new q({hidden:!0});a=m(".widget-setting-popup")[0];this.loading.placeAt(a);this.loading.startup()},_createColorPicker:function(){var a,
b;a=c.create("table",{cellspacing:"0",cellpadding:"0"},this.colorPickerNode);a=c.create("tr",{style:"height:30px"},a);b=c.create("td",{},a);c.create("div",{innerHTML:this.nls.symbolPickerPreviewText,"class":"esriCTSymbolPreviewText"},b);a=c.create("td",{},a);a=c.create("div",{"class":"esriCTColorChooserNode"},a);this._highlightColorPicker=new y(null,c.create("div",{},a))},_errorMessage:function(b){(new a({message:b})).message=b},_showRouteChooser:function(){var a,b;a=new t({portalUrl:this.appConfig.portalUrl,
nls:this.nls,folderUrl:this.folderUrl});b=new l({titleLabel:this.nls.routeSetting.routeServiceUrl,width:830,height:600,content:a});a.onOkClick=e.hitch(this,function(){a.selectRouteURL&&(this.routeServiceURLNode.set("value",a.selectRouteURL),b.close())});a.onCancelClick=e.hitch(this,function(){b.close()})},_showLayerChooser:function(){var a,b;a=new r({portalUrl:this.appConfig.portalUrl,nls:this.nls,folderUrl:this.folderUrl,map:this.map});b=new l({titleLabel:this.nls.layerSetting.selectLayersLabel,
width:830,height:250,content:a});a.onCancleClick=e.hitch(this,function(){b.close()});a.onOkClick=e.hitch(this,function(a){this._setLayerInfos(a.polygonLayerInfo,a.relatedLayerInfo);b.close()})},_setLayerInfos:function(a,b){var d,e,f=[];this.precinctLayerInfo=a;this.pollingPlaceLayerInfo=b;f.push(a);f.push(b);c.empty(this.layerListNode);for(d=0;d<f.length;d++)if(f[d].geometryType){"esriGeometryPoint"===f[d].geometryType?e="point_layer.png":"esriGeometryPolygon"===f[d].geometryType?e="polygon_layer.png":
"esriGeometryLine"===f[d].geometryType&&(e="line_layer.png");var g=c.create("div",{"class":"esriCTLayerList"},this.layerListNode);if(e){var k=c.create("div",{"class":"esriCTGeometryTypeIcon"},g);x.set(k,"backgroundImage","url("+this.folderUrl+"images/"+e+")")}c.create("div",{"class":"esriCTLayerListItem",innerHTML:f[d].title,title:f[d].title},g)}},_getLayerDetailsFromMap:function(a,b){var c={};this.map&&(this.map.webMapResponse&&this.map.webMapResponse.itemInfo&&this.map.webMapResponse.itemInfo.itemData&&
this.map.webMapResponse.itemInfo.itemData.operationalLayers)&&u.forEach(this.map.webMapResponse.itemInfo.itemData.operationalLayers,e.hitch(this,function(d){d.layerObject&&("ArcGISMapServiceLayer"===d.layerType||"ArcGISTiledMapServiceLayer"===d.layerType?a.substring(0,a.length-1)===d.url&&(u.forEach(d.resourceInfo.layers,e.hitch(this,function(a){a.id===parseInt(b,10)&&(c.title=a.name)})),u.forEach(d.layers,e.hitch(this,function(a){a.id===parseInt(b,10)&&(a.name&&(c.title=a.name),c.popupInfo=a.popupInfo,
a.layerDefinition&&a.layerDefinition.definitionExpression&&(c.definitionExpression=a.layerDefinition.definitionExpression))}))):d.url.replace(/.*?:\/\//g,"")===(a+b).replace(/.*?:\/\//g,"")&&(c.title=d.title,c.popupInfo=d.popupInfo,d.layerDefinition&&d.layerDefinition.definitionExpression&&(c.definitionExpression=d.layerDefinition.definitionExpression)))}));return c}})});