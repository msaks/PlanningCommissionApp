// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"jimu/dijit/FilterParameters":function(){define("dojo/on dojo/Evented dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/_base/lang dojo/_base/html dojo/_base/array dojo/query dijit/registry jimu/filterUtils jimu/utils ./_SingleFilterParameter".split(" "),function(q,u,l,r,p,k,h,c,a,n,g,f,b,e){return l([r,p,k,u],{baseClass:"jimu-filter-parameters",templateString:'\x3cdiv\x3e\x3ctable style\x3d"width:100%;border-collapse:collapse;"\x3e\x3ctbody data-dojo-attach-point\x3d"tbody"\x3e\x3c/tbody\x3e\x3c/table\x3e\x3c/div\x3e',
nls:null,partsObj:null,layerInfo:null,OPERATORS:null,url:null,_filterUtils:null,postMixInProperties:function(){this.nls=window.jimuNls.filterBuilder;this._filterUtils=new f;this.OPERATORS=h.clone(this._filterUtils.OPERATORS)},destroy:function(){this.clear();this._filterUtils=null;this.inherited(arguments)},getFilterExpr:function(e){void 0===e&&(e=!0);for(var a=this.partsObj,d=this._getAllInteractiveSinglePartArray(a),f=0;f<d.length;f++){var t=d[f],w=t.spId;if(w&&(w=n("#"+w,this.tbody)[0])){w=g.byNode(w).getValueObj(e);
if(!w)return null;t.valueObj=w}}this._filterUtils.isHosted=b.isHostedService(this.url);return this._filterUtils.getExprByFilterObj(a)},clear:function(){this.url=null;var e=n(".jimu-widget-query-single-parameter",this.tbody);a.forEach(e,h.hitch(this,function(e){g.byNode(e).destroy()}));c.empty(this.tbody);this.layerInfo=this.partsObj=null},build:function(f,b,d){this.clear();this.url=f;this.layerInfo=b;this.partsObj=h.clone(d);f=this._getAllInteractiveSinglePartArray(this.partsObj);a.forEach(f,h.hitch(this,
function(d){var f=c.create("tr",{innerHTML:"\x3ctd\x3e\x3c/td\x3e"},this.tbody),f=n("td",f)[0],a=this._getFieldInfo(d.fieldObj.name,this.layerInfo),a=new e({nls:this.nls,part:d,fieldInfo:a,OPERATORS:this.OPERATORS,url:this.url});this.own(q(a,"change",h.hitch(this,this._onSingleFilterParameterChanged)));a.placeAt(f);a.startup();d.spId=a.id}))},_getFieldInfo:function(e,a){for(var d=a.fields,f=0;f<d.length;f++){var t=d[f];if(e===t.name)return t}return null},_getAllInteractiveSinglePartArray:function(e){for(var a=
[],d=0;d<e.parts.length;d++){var f=e.parts[d];if(f.parts)for(var t=0;t<f.parts.length;t++){var b=f.parts[t];b.interactiveObj&&a.push(b)}else f.interactiveObj&&a.push(f)}return a},_onSingleFilterParameterChanged:function(){this.emit("change",this.getFilterExpr(!1))}})})},"jimu/dijit/_SingleFilterParameter":function(){define("dojo/on dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/_SingleFilterParameter.html dojo/_base/lang dojo/_base/html dojo/_base/array dojo/store/Memory jimu/utils dijit/form/FilteringSelect dijit/form/ValidationTextBox dijit/form/DateTextBox dijit/form/NumberTextBox".split(" "),
function(q,u,l,r,p,k,h,c,a,n,g){return u([l,r,p],{baseClass:"jimu-single-filter-parameter",templateString:k,fieldInfo:null,part:null,nls:null,OPERATORS:null,url:null,_type:-1,postCreate:function(){this.inherited(arguments);var f=new n({idProperty:"id",data:[]});this.stringUniqueValuesSelect.set("store",f);f=new n({idProperty:"id",data:[]});this.numberUniqueValuesSelect.set("store",f);this.fieldInfo&&this.part&&this.build(this.fieldInfo,this.part);var b=["dijit.form.FilteringSelect","dijit.form.ValidationTextBox",
"dijit.form.DateTextBox","dijit.form.NumberTextBox"];this._attachPoints&&0<this._attachPoints.length&&a.forEach(this._attachPoints,h.hitch(this,function(e){(e=this[e])&&e.domNode&&0<=b.indexOf(e.declaredClass)&&this.own(q(e,"change",h.hitch(this,this._onDijitChanged)))}))},getValueObj:function(f){var a=null,e=this.part.fieldObj.shortType;"string"===e?a=this._getStirngValueObj(f):"number"===e?a=this._getNumberValueObj(f):"date"===e&&(a=this._getDateValueObj(f));a&&(a.type=this.part.valueObj.type,a.isValid=
!0);return a},_getStirngValueObj:function(a){var b=null;if(1===this._type){if(!this.stringTextBox.validate())return a&&this._showValidationErrorTip(this.stringTextBox),null;b={};b.value=this.stringTextBox.get("value")}else if(2===this._type){if(!this.stringCodedValuesFS.validate())return a&&this._showValidationErrorTip(this.stringCodedValuesFS),null;b={};a=this._getSelectedFilteringItem(this.stringCodedValuesFS);b.value=a.code}else if(3===this._type){if(!this.stringUniqueValuesSelect.validate())return a&&
this._showValidationErrorTip(this.stringUniqueValuesSelect),null;b={};a=this._getSelectedFilteringItem(this.stringUniqueValuesSelect);b.value=a.value}return b},_getNumberValueObj:function(a){var b=null;if(1===this._type){if(!this.numberTextBox.validate())return a&&this._showValidationErrorTip(this.numberTextBox),null;b={};b.value=parseFloat(this.numberTextBox.get("value"))}else if(2===this._type){if(!this.numberCodedValuesFS.validate())return a&&this._showValidationErrorTip(this.numberCodedValuesFS),
null;b={};a=this._getSelectedFilteringItem(this.numberCodedValuesFS);b.value=parseFloat(a.code)}else if(3===this._type){if(!this.numberTextBox1.validate())return a&&this._showValidationErrorTip(this.numberTextBox1),null;if(!this.numberTextBox2.validate())return a&&this._showValidationErrorTip(this.numberTextBox2),null;b={};b.value1=parseFloat(this.numberTextBox1.get("value"));b.value2=parseFloat(this.numberTextBox2.get("value"))}else if(4===this._type){if(!this.numberUniqueValuesSelect.validate())return a&&
this._showValidationErrorTip(this.numberUniqueValuesSelect),null;b={};a=this.numberUniqueValuesSelect.get("item");b.value=parseFloat(a.value)}return b},_getDateValueObj:function(a){var b=null;if(1===this._type){if(!this.dateTextBox.validate())return a&&this._showValidationErrorTip(this.dateTextBox),null;b={};b.value=this.dateTextBox.get("value").toDateString()}else if(2===this._type){if(!this.dateTextBox1.validate())return a&&this._showValidationErrorTip(this.dateTextBox1),null;if(!this.dateTextBox2.validate())return a&&
this._showValidationErrorTip(this.dateTextBox2),null;b={};b.value1=this.dateTextBox1.get("value").toDateString();b.value2=this.dateTextBox2.get("value").toDateString()}return b},build:function(a,b){this.fieldInfo=a;this.part=b;var e=b.interactiveObj;e&&(this.promptNode.innerHTML=e.prompt||"",this.hintNode.innerHTML=e.hint||"");e=this.part.fieldObj.shortType;"string"===e?this._buildString(a,this.part):"number"===e?this._buildNumber(a,this.part):"date"===e&&this._buildDate(a,this.part)},_getCodedValues:function(a){var b=
null;if((a=a.domain)&&"codedValue"===a.type&&a.codedValues&&0<a.codedValues.length)b=a.codedValues;return b},_buildString:function(f,b){c.setStyle(this.stringTextBoxContainer,"display","block");c.setStyle(this.numberTextBoxContainer,"display","none");c.setStyle(this.dateTextBoxContainer,"display","none");this._hideDijit(this.stringTextBox);this._hideDijit(this.stringCodedValuesFS);this._hideDijit(this.stringUniqueValuesSelect);var e=b.fieldObj,m=b.valueObj,s=m.type,d=this._getCodedValues(f);d?(this._type=
2,this._showDijit(this.stringCodedValuesFS),s=a.map(d,h.hitch(this,function(d,a){var e=h.mixin({},d);e.id=a;return e})),d=new n({data:s}),this.stringCodedValuesFS.set("store",d),m&&(d=a.filter(s,h.hitch(this,function(d){return d.code===m.value})),0<d.length?this.stringCodedValuesFS.set("value",d[0].id):this.stringCodedValuesFS.set("value",s[0].id))):"unique"===s?(this._type=3,this._showDijit(this.stringUniqueValuesSelect),g.getUniqueValues(this.url,e.name).then(h.hitch(this,function(d){var t=-1;d=
a.map(d,h.hitch(this,function(d,a){var f=d;"number"===e.shortType&&(d=parseFloat(d),f=this._tryLocaleNumber(d));f={id:a,value:d,label:f};m&&m.value===d&&(t=a);return f}));this.stringUniqueValuesSelect.store.setData(d);0<=t&&(d=this.stringUniqueValuesSelect.store.get(t))&&this.stringUniqueValuesSelect.set("item",d)}),h.hitch(this,function(d){console.error(d)}))):(this._type=1,this._showDijit(this.stringTextBox),this.stringTextBox.set("value",m.value||""))},_tryLocaleNumber:function(a){var b=g.localizeNumber(a);
if(null===b||void 0===b)b=a;return b},_buildNumber:function(f,b){c.setStyle(this.stringTextBoxContainer,"display","none");c.setStyle(this.numberTextBoxContainer,"display","block");c.setStyle(this.dateTextBoxContainer,"display","none");this._hideDijit(this.numberTextBox);this._hideDijit(this.numberCodedValuesFS);c.setStyle(this.numberRangeTable,"display","none");this._hideDijit(this.numberUniqueValuesSelect);var e=b.fieldObj,m=b.valueObj,s=m.type,d=b.operator,v=d===this.OPERATORS.numberOperatorIsNotBetween;
if(d===this.OPERATORS.numberOperatorIsBetween||v)this._type=3,c.setStyle(this.numberRangeTable,"display","table"),g.isValidNumber(m.value1)&&this.numberTextBox1.set("value",m.value1),g.isValidNumber(m.value2)&&this.numberTextBox2.set("value",m.value2);else if(c.setStyle(this.numberRangeTable,"display","none"),d=this._getCodedValues(f))if(this._type=2,this._showDijit(this.numberCodedValuesFS),s=a.map(d,h.hitch(this,function(d,a){var e=h.clone(d);e.id=a;return e})),d=new n({data:s}),this.numberCodedValuesFS.set("store",
d),m&&g.isValidNumber(m.value)){var t=parseFloat(m.value),d=a.filter(s,h.hitch(this,function(d){return parseFloat(d.code)===t}));0<d.length?this.numberCodedValuesFS.set("value",d[0].id):this.numberCodedValuesFS.set("value",s[0].id)}else this.numberCodedValuesFS.set("value",s[0].id);else"unique"===s?(this._type=4,this._showDijit(this.numberUniqueValuesSelect),g.getUniqueValues(this.url,e.name).then(h.hitch(this,function(d){var t=-1;d=a.map(d,h.hitch(this,function(d,a){var f=d;"number"===e.shortType&&
(d=parseFloat(d),f=this._tryLocaleNumber(d));f={id:a,value:d,label:f};m&&m.value===d&&(t=a);return f}));this.numberUniqueValuesSelect.store.setData(d);0<=t&&(d=this.numberUniqueValuesSelect.store.get(t))&&this.numberUniqueValuesSelect.set("item",d)}),h.hitch(this,function(d){console.error(d)}))):(this._type=1,this._showDijit(this.numberTextBox),m&&g.isValidNumber(m.value)&&this.numberTextBox.set("value",m.value))},_buildDate:function(a,b){c.setStyle(this.stringTextBoxContainer,"display","none");c.setStyle(this.numberTextBoxContainer,
"display","none");c.setStyle(this.dateTextBoxContainer,"display","block");var e=b.valueObj,m=b.operator,g=m===this.OPERATORS.dateOperatorIsNotBetween;m===this.OPERATORS.dateOperatorIsBetween||g?(this._type=2,c.setStyle(this.dateRangeTable,"display","table"),this._hideDijit(this.dateTextBox),this.dateTextBox1.set("value",new Date(e.value1)),this.dateTextBox2.set("value",new Date(e.value2))):(this._type=1,c.setStyle(this.dateRangeTable,"display","none"),this._showDijit(this.dateTextBox),this.dateTextBox.set("value",
new Date(e.value)))},_getSelectedFilteringItem:function(a){if(a.validate()){var b=a.get("item");if(b)return b}this._showValidationErrorTip(a);return null},_showValidationErrorTip:function(a){!a.validate()&&a.domNode&&a.focusNode&&(a.focusNode.focus(),a.focusNode.blur())},_showDijit:function(a){a&&a.domNode&&c.setStyle(a.domNode,"display","inline-block")},_hideDijit:function(a){a&&a.domNode&&c.setStyle(a.domNode,"display","none")},_onRangeNumberBlur:function(){if(this.numberTextBox1.validate()&&this.numberTextBox2.validate()){var a=
parseFloat(this.numberTextBox1.get("value")),b=parseFloat(this.numberTextBox2.get("value"));a>b&&(this.numberTextBox1.set("value",b),this.numberTextBox2.set("value",a))}},_onRangeDateBlur:function(){if(this.dateTextBox1.validate()&&this.dateTextBox2.validate()){var a=this.dateTextBox1.get("value"),b=a.getTime(),e=this.dateTextBox2.get("value"),m=e.getTime();b>m&&(this.dateTextBox1.set("value",e),this.dateTextBox2.set("value",a))}},_onDijitChanged:function(){this.emit("change")}})})},"dijit/form/FilteringSelect":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/when","./MappedTextBox","./ComboBoxMixin"],function(q,u,l,r,p){return q("dijit.form.FilteringSelect",[r,p],{required:!0,_lastDisplayedValue:"",_isValidSubset:function(){return this._opened},isValid:function(){return!!this.item||!this.required&&""==this.get("displayedValue")},_refreshState:function(){this.searchTimer||this.inherited(arguments)},_callbackSetLabel:function(k,h,c,a){h&&h[this.searchAttr]!==this._lastQuery||!h&&k.length&&this.store.getIdentity(k[0])!=this._lastQuery||
(k.length?this.set("item",k[0],a):this.set("value","",a||void 0===a&&!this.focused,this.textbox.value,null))},_openResultList:function(k,h,c){h[this.searchAttr]===this._lastQuery&&(this.inherited(arguments),void 0===this.item&&this.validate(!0))},_getValueAttr:function(){return this.valueNode.value},_getValueField:function(){return"value"},_setValueAttr:function(k,h,c,a){this._onChangeActive||(h=null);if(void 0===a){if(null===k||""===k)if(k="",!u.isString(c)){this._setDisplayedValueAttr(c||"",h);
return}var n=this;this._lastQuery=k;l(this.store.get(k),function(a){n._callbackSetLabel(a?[a]:[],void 0,void 0,h)})}else this.valueNode.value=k,this.inherited(arguments,[k,h,c,a])},_setItemAttr:function(k,h,c){this.inherited(arguments);this._lastDisplayedValue=this.textbox.value},_getDisplayQueryString:function(k){return k.replace(/([\\\*\?])/g,"\\$1")},_setDisplayedValueAttr:function(k,h){null==k&&(k="");if(!this._created){if(!("displayedValue"in this.params))return;h=!1}if(this.store){this.closeDropDown();
var c=u.clone(this.query),a=this._getDisplayQueryString(k),n;this.store._oldAPI?n=a:(n=this._patternToRegExp(a),n.toString=function(){return a});this._lastQuery=c[this.searchAttr]=n;this._lastDisplayedValue=this.textbox.value=k;this._set("displayedValue",k);var g=this,f={queryOptions:{ignoreCase:this.ignoreCase,deep:!0}};u.mixin(f,this.fetchProperties);this._fetchHandle=this.store.query(c,f);l(this._fetchHandle,function(a){g._fetchHandle=null;g._callbackSetLabel(a||[],c,f,h)},function(a){g._fetchHandle=
null;g._cancelingQuery||console.error("dijit.form.FilteringSelect: "+a.toString())})}},undo:function(){this.set("displayedValue",this._lastDisplayedValue)}})})},"dijit/form/DateTextBox":function(){define(["dojo/_base/declare","../Calendar","./_DateTimeTextBox"],function(q,u,l){return q("dijit.form.DateTextBox",l,{baseClass:"dijitTextBox dijitComboBox dijitDateTextBox",popupClass:u,_selector:"date",maxHeight:Infinity,value:new Date("")})})},"dijit/Calendar":function(){define("dojo/_base/array dojo/date dojo/date/locale dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/_base/kernel dojo/keys dojo/_base/lang dojo/on dojo/sniff ./CalendarLite ./_Widget ./_CssStateMixin ./_TemplatedMixin ./form/DropDownButton".split(" "),
function(q,u,l,r,p,k,h,c,a,n,g,f,b,e,m,s,d){var v=r("dijit.Calendar",[b,e,m],{baseClass:"dijitCalendar",cssStateNodes:{decrementMonth:"dijitCalendarArrow",incrementMonth:"dijitCalendarArrow",previousYearLabelNode:"dijitCalendarPreviousYear",nextYearLabelNode:"dijitCalendarNextYear"},setValue:function(a){c.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",a)},_createMonthWidget:function(){return new v._MonthDropDownButton({id:this.id+"_mddb",
tabIndex:-1,onMonthSelect:n.hitch(this,"_onMonthSelect"),lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode)},postCreate:function(){this.inherited(arguments);this.own(g(this.domNode,"keydown",n.hitch(this,"_onKeyDown")),g(this.dateRowsNode,"mouseover",n.hitch(this,"_onDayMouseOver")),g(this.dateRowsNode,"mouseout",n.hitch(this,"_onDayMouseOut")),g(this.dateRowsNode,"mousedown",n.hitch(this,"_onDayMouseDown")),g(this.dateRowsNode,"mouseup",n.hitch(this,"_onDayMouseUp")))},_onMonthSelect:function(a){var d=
new this.dateClassObj(this.currentFocus);d.setDate(1);d.setMonth(a);a=this.dateModule.getDaysInMonth(d);var e=this.currentFocus.getDate();d.setDate(Math.min(e,a));this._setCurrentFocusAttr(d)},_onDayMouseOver:function(a){if((a=k.contains(a.target,"dijitCalendarDateLabel")?a.target.parentNode:a.target)&&(a.dijitDateValue&&!k.contains(a,"dijitCalendarDisabledDate")||a==this.previousYearLabelNode||a==this.nextYearLabelNode))k.add(a,"dijitCalendarHoveredDate"),this._currentNode=a},_onDayMouseOut:function(a){this._currentNode&&
!(a.relatedTarget&&a.relatedTarget.parentNode==this._currentNode)&&(a="dijitCalendarHoveredDate",k.contains(this._currentNode,"dijitCalendarActiveDate")&&(a+=" dijitCalendarActiveDate"),k.remove(this._currentNode,a),this._currentNode=null)},_onDayMouseDown:function(a){if((a=a.target.parentNode)&&a.dijitDateValue&&!k.contains(a,"dijitCalendarDisabledDate"))k.add(a,"dijitCalendarActiveDate"),this._currentNode=a},_onDayMouseUp:function(a){(a=a.target.parentNode)&&a.dijitDateValue&&k.remove(a,"dijitCalendarActiveDate")},
handleKey:function(d){var e=-1,b,f=this.currentFocus;switch(d.keyCode){case a.RIGHT_ARROW:e=1;case a.LEFT_ARROW:b="day";this.isLeftToRight()||(e*=-1);break;case a.DOWN_ARROW:e=1;case a.UP_ARROW:b="week";break;case a.PAGE_DOWN:e=1;case a.PAGE_UP:b=d.ctrlKey||d.altKey?"year":"month";break;case a.END:f=this.dateModule.add(f,"month",1),b="day";case a.HOME:f=new this.dateClassObj(f);f.setDate(1);break;default:return!0}b&&(f=this.dateModule.add(f,b,e));this._setCurrentFocusAttr(f);return!1},_onKeyDown:function(a){this.handleKey(a)||
(a.stopPropagation(),a.preventDefault())},onValueSelected:function(){},onChange:function(a){this.onValueSelected(a)},getClassForDate:function(){}});v._MonthDropDownButton=r("dijit.Calendar._MonthDropDownButton",d,{onMonthSelect:function(){},postCreate:function(){this.inherited(arguments);this.dropDown=new v._MonthDropDown({id:this.id+"_mdd",onChange:this.onMonthSelect})},_setMonthAttr:function(a){var d=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,a);this.dropDown.set("months",
d);this.containerNode.innerHTML=(6==f("ie")?"":"\x3cdiv class\x3d'dijitSpacer'\x3e"+this.dropDown.domNode.innerHTML+"\x3c/div\x3e")+"\x3cdiv class\x3d'dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'\x3e"+d[a.getMonth()]+"\x3c/div\x3e"}});v._MonthDropDown=r("dijit.Calendar._MonthDropDown",[e,s,m],{months:[],baseClass:"dijitCalendarMonthMenu dijitMenu",templateString:"\x3cdiv data-dojo-attach-event\x3d'ondijitclick:_onClick'\x3e\x3c/div\x3e",_setMonthsAttr:function(a){this.domNode.innerHTML=
"";q.forEach(a,function(a,d){h.create("div",{className:"dijitCalendarMonthLabel",month:d,innerHTML:a},this.domNode)._cssState="dijitCalendarMonthLabel"},this)},_onClick:function(a){this.onChange(p.get(a.target,"month"))},onChange:function(){}});return v})},"dijit/CalendarLite":function(){define("dojo/_base/array dojo/_base/declare dojo/cldr/supplemental dojo/date dojo/date/locale dojo/date/stamp dojo/dom dojo/dom-class dojo/_base/lang dojo/on dojo/sniff dojo/string ./_WidgetBase ./_TemplatedMixin dojo/text!./templates/Calendar.html ./a11yclick ./hccss".split(" "),
function(q,u,l,r,p,k,h,c,a,n,g,f,b,e,m){var s=u("dijit.CalendarLite",[b,e],{templateString:m,dowTemplateString:'\x3cth class\x3d"dijitReset dijitCalendarDayLabelTemplate" role\x3d"columnheader" scope\x3d"col"\x3e\x3cspan class\x3d"dijitCalendarDayLabel"\x3e${d}\x3c/span\x3e\x3c/th\x3e',dateTemplateString:'\x3ctd class\x3d"dijitReset" role\x3d"gridcell" data-dojo-attach-point\x3d"dateCells"\x3e\x3cspan class\x3d"dijitCalendarDateLabel" data-dojo-attach-point\x3d"dateLabels"\x3e\x3c/span\x3e\x3c/td\x3e',
weekTemplateString:'\x3ctr class\x3d"dijitReset dijitCalendarWeekTemplate" role\x3d"row"\x3e${d}${d}${d}${d}${d}${d}${d}\x3c/tr\x3e',value:new Date(""),datePackage:"",dayWidth:"narrow",tabIndex:"0",dayOffset:-1,currentFocus:new Date,_setSummaryAttr:"gridNode",baseClass:"dijitCalendar dijitCalendarLite",_isValidDate:function(a){return a&&!isNaN(a)&&"object"==typeof a&&a.toString()!=this.constructor.prototype.value.toString()},_getValueAttr:function(){var a=this._get("value");if(a&&!isNaN(a)){var e=
new this.dateClassObj(a);e.setHours(0,0,0,0);e.getDate()<a.getDate()&&(e=this.dateModule.add(e,"hour",1));return e}return null},_setValueAttr:function(a,e){"string"==typeof a&&(a=k.fromISOString(a));a=this._patchDate(a);if(this._isValidDate(a)&&!this.isDisabledDate(a,this.lang)){if(this._set("value",a),this.set("currentFocus",a),this._markSelectedDates([a]),this._created&&(e||"undefined"==typeof e))this.onChange(this.get("value"))}else this._set("value",null),this._markSelectedDates([])},_patchDate:function(a){a&&
(a=new this.dateClassObj(a),a.setHours(1,0,0,0));return a},_setText:function(a,e){for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(a.ownerDocument.createTextNode(e))},_populateGrid:function(){var a=new this.dateClassObj(this.currentFocus);a.setDate(1);var a=this._patchDate(a),e=a.getDay(),b=this.dateModule.getDaysInMonth(a),f=this.dateModule.getDaysInMonth(this.dateModule.add(a,"month",-1)),m=new this.dateClassObj,n=0<=this.dayOffset?this.dayOffset:l.getFirstDayOfWeek(this.lang);n>e&&
(n-=7);if(!this.summary){var g=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,a);this.gridNode.setAttribute("summary",g[a.getMonth()])}this._date2cell={};q.forEach(this.dateCells,function(g,s){var k=s+n,h=new this.dateClassObj(a),c="dijitCalendar",l=0;k<e?(k=f-e+k+1,l=-1,c+="Previous"):k>=e+b?(k=k-e-b+1,l=1,c+="Next"):(k=k-e+1,c+="Current");l&&(h=this.dateModule.add(h,"month",l));h.setDate(k);this.dateModule.compare(h,m,"date")||(c="dijitCalendarCurrentDate "+c);this.isDisabledDate(h,
this.lang)?(c="dijitCalendarDisabledDate "+c,g.setAttribute("aria-disabled","true")):(c="dijitCalendarEnabledDate "+c,g.removeAttribute("aria-disabled"),g.setAttribute("aria-selected","false"));(l=this.getClassForDate(h,this.lang))&&(c=l+" "+c);g.className=c+"Month dijitCalendarDateTemplate";c=h.valueOf();this._date2cell[c]=g;g.dijitDateValue=c;this._setText(this.dateLabels[s],h.getDateLocalized?h.getDateLocalized(this.lang):h.getDate())},this)},_populateControls:function(){var a=new this.dateClassObj(this.currentFocus);
a.setDate(1);this.monthWidget.set("month",a);var e=a.getFullYear()-1,b=new this.dateClassObj;q.forEach(["previous","current","next"],function(a){b.setFullYear(e++);this._setText(this[a+"YearLabelNode"],this.dateLocaleModule.format(b,{selector:"year",locale:this.lang}))},this)},goToToday:function(){this.set("value",new this.dateClassObj)},constructor:function(e){this.dateModule=e.datePackage?a.getObject(e.datePackage,!1):r;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=e.datePackage?
a.getObject(e.datePackage+".locale",!1):p},_createMonthWidget:function(){return s._MonthWidget({id:this.id+"_mddb",lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode)},buildRendering:function(){var a=this.dowTemplateString,e=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang),b=0<=this.dayOffset?this.dayOffset:l.getFirstDayOfWeek(this.lang);this.dayCellsHtml=f.substitute([a,a,a,a,a,a,a].join(""),{d:""},function(){return e[b++%7]});a=f.substitute(this.weekTemplateString,
{d:this.dateTemplateString});this.dateRowsHtml=[a,a,a,a,a,a].join("");this.dateCells=[];this.dateLabels=[];this.inherited(arguments);h.setSelectable(this.domNode,!1);a=new this.dateClassObj(this.currentFocus);this.monthWidget=this._createMonthWidget();this.set("currentFocus",a,!1)},postCreate:function(){this.inherited(arguments);this._connectControls()},_connectControls:function(){var e=a.hitch(this,function(e,d,b){this[e].dojoClick=!0;return n(this[e],"click",a.hitch(this,function(){this._setCurrentFocusAttr(this.dateModule.add(this.currentFocus,
d,b))}))});this.own(e("incrementMonth","month",1),e("decrementMonth","month",-1),e("nextYearLabelNode","year",1),e("previousYearLabelNode","year",-1))},_setCurrentFocusAttr:function(a,e){var b=this.currentFocus,f=this._getNodeByDate(b);a=this._patchDate(a);this._set("currentFocus",a);if(!this._date2cell||0!=this.dateModule.difference(b,a,"month"))this._populateGrid(),this._populateControls(),this._markSelectedDates([this.value]);b=this._getNodeByDate(a);b.setAttribute("tabIndex",this.tabIndex);(this.focused||
e)&&b.focus();f&&f!=b&&(g("webkit")?f.setAttribute("tabIndex","-1"):f.removeAttribute("tabIndex"))},focus:function(){this._setCurrentFocusAttr(this.currentFocus,!0)},_onDayClick:function(a){a.stopPropagation();a.preventDefault();for(a=a.target;a&&!a.dijitDateValue;a=a.parentNode);a&&!c.contains(a,"dijitCalendarDisabledDate")&&this.set("value",a.dijitDateValue)},_getNodeByDate:function(a){return(a=this._patchDate(a))&&this._date2cell?this._date2cell[a.valueOf()]:null},_markSelectedDates:function(e){function b(a,
e){c.toggle(e,"dijitCalendarSelectedDate",a);e.setAttribute("aria-selected",a?"true":"false")}q.forEach(this._selectedCells||[],a.partial(b,!1));this._selectedCells=q.filter(q.map(e,this._getNodeByDate,this),function(a){return a});q.forEach(this._selectedCells,a.partial(b,!0))},onChange:function(){},isDisabledDate:function(){},getClassForDate:function(){}});s._MonthWidget=u("dijit.CalendarLite._MonthWidget",b,{_setMonthAttr:function(a){var e=this.dateLocaleModule.getNames("months","wide","standAlone",
this.lang,a),b=6==g("ie")?"":"\x3cdiv class\x3d'dijitSpacer'\x3e"+q.map(e,function(a){return"\x3cdiv\x3e"+a+"\x3c/div\x3e"}).join("")+"\x3c/div\x3e";this.domNode.innerHTML=b+"\x3cdiv class\x3d'dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'\x3e"+e[a.getMonth()]+"\x3c/div\x3e"}});return s})},"dijit/form/_DateTimeTextBox":function(){define("dojo/date dojo/date/locale dojo/date/stamp dojo/_base/declare dojo/_base/lang ./RangeBoundTextBox ../_HasDropDown dojo/text!./templates/DropDownBox.html".split(" "),
function(q,u,l,r,p,k,h,c){new Date("X");return r("dijit.form._DateTimeTextBox",[k,h],{templateString:c,hasDownArrow:!0,cssStateNodes:{_buttonNode:"dijitDownArrowButton"},_unboundedConstraints:{},pattern:u.regexp,datePackage:"",postMixInProperties:function(){this.inherited(arguments);this._set("type","text")},compare:function(a,c){var g=this._isInvalidDate(a),f=this._isInvalidDate(c);if(g||f)return g&&f?0:!g?1:-1;var g=this.format(a,this._unboundedConstraints),f=this.format(c,this._unboundedConstraints),
b=this.parse(g,this._unboundedConstraints),e=this.parse(f,this._unboundedConstraints);return g==f?0:q.compare(b,e,this._selector)},autoWidth:!0,format:function(a,c){return!a?"":this.dateLocaleModule.format(a,c)},parse:function(a,c){return this.dateLocaleModule.parse(a,c)||(this._isEmpty(a)?null:void 0)},serialize:function(a,c){a.toGregorian&&(a=a.toGregorian());return l.toISOString(a,c)},dropDownDefaultValue:new Date,value:new Date(""),_blankValue:null,popupClass:"",_selector:"",constructor:function(a){a=
a||{};this.dateModule=a.datePackage?p.getObject(a.datePackage,!1):q;this.dateClassObj=this.dateModule.Date||Date;this.dateClassObj instanceof Date||(this.value=new this.dateClassObj(this.value));this.dateLocaleModule=a.datePackage?p.getObject(a.datePackage+".locale",!1):u;this._set("pattern",this.dateLocaleModule.regexp);this._invalidDate=this.constructor.prototype.value.toString()},buildRendering:function(){this.inherited(arguments);this.hasDownArrow||(this._buttonNode.style.display="none");this.hasDownArrow||
(this._buttonNode=this.domNode,this.baseClass+=" dijitComboBoxOpenOnClick")},_setConstraintsAttr:function(a){a.selector=this._selector;a.fullYear=!0;var c=l.fromISOString;"string"==typeof a.min&&(a.min=c(a.min),this.dateClassObj instanceof Date||(a.min=new this.dateClassObj(a.min)));"string"==typeof a.max&&(a.max=c(a.max),this.dateClassObj instanceof Date||(a.max=new this.dateClassObj(a.max)));this.inherited(arguments);this._unboundedConstraints=p.mixin({},this.constraints,{min:null,max:null})},_isInvalidDate:function(a){return!a||
isNaN(a)||"object"!=typeof a||a.toString()==this._invalidDate},_setValueAttr:function(a,c,g){void 0!==a&&("string"==typeof a&&(a=l.fromISOString(a)),this._isInvalidDate(a)&&(a=null),a instanceof Date&&!(this.dateClassObj instanceof Date)&&(a=new this.dateClassObj(a)));this.inherited(arguments,[a,c,g]);this.value instanceof Date&&(this.filterString="");!1!==c&&this.dropDown&&this.dropDown.set("value",a,!1)},_set:function(a,c){if("value"==a){c instanceof Date&&!(this.dateClassObj instanceof Date)&&
(c=new this.dateClassObj(c));var g=this._get("value");if(g instanceof this.dateClassObj&&0==this.compare(c,g))return}this.inherited(arguments)},_setDropDownDefaultValueAttr:function(a){this._isInvalidDate(a)&&(a=new this.dateClassObj);this._set("dropDownDefaultValue",a)},openDropDown:function(a){this.dropDown&&this.dropDown.destroy();var c=p.isString(this.popupClass)?p.getObject(this.popupClass,!1):this.popupClass,g=this,f=this.get("value");this.dropDown=new c({onChange:function(a){g.set("value",
a,!0)},id:this.id+"_popup",dir:g.dir,lang:g.lang,value:f,textDir:g.textDir,currentFocus:!this._isInvalidDate(f)?f:this.dropDownDefaultValue,constraints:g.constraints,filterString:g.filterString,datePackage:g.datePackage,isDisabledDate:function(a){return!g.rangeCheck(a,g.constraints)}});this.inherited(arguments)},_getDisplayedValueAttr:function(){return this.textbox.value},_setDisplayedValueAttr:function(a,c){this._setValueAttr(this.parse(a,this.constraints),c,a)}})})},"dojo/NodeList":function(){define(["./query"],
function(q){return q.NodeList})},"widgets/Filter/_build-generate_module":function(){define(["dojo/text!./Widget.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings"],function(){})},"url:jimu/dijit/templates/_SingleFilterParameter.html":'\x3cdiv\x3e\r\n  \x3ctable style\x3d"width:100%;"\x3e\r\n    \x3ctbody\x3e\r\n      \x3ctr class\x3d"first-tr"\x3e\r\n        \x3ctd\x3e\r\n          \x3cdiv class\x3d"prompt" data-dojo-attach-point\x3d"promptNode"\x3e\x3c/div\x3e\r\n        \x3c/td\x3e\r\n      \x3c/tr\x3e\r\n      \x3ctr class\x3d"second-tr"\x3e\r\n        \x3ctd\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"allValueBoxContainer" style\x3d"width:100%;"\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"stringTextBoxContainer" style\x3d"display:none;"\x3e\r\n              \x3cinput data-dojo-attach-point\x3d"stringTextBox" data-dojo-type\x3d"dijit/form/ValidationTextBox" data-dojo-props\x3d"required:true,trim:true" style\x3d"display:none;width:100%;" class\x3d"dijit-form-ValidationTextBox" /\x3e\r\n\r\n              \x3cdiv data-dojo-attach-point\x3d"stringCodedValuesFS" data-dojo-type\x3d"dijit/form/FilteringSelect" data-dojo-props\x3d\'searchAttr:"name",required:true,intermediateChanges:true\' class\x3d"dijit-form-FilteringSelect" style\x3d"display:none;width:100%;"\x3e\x3c/div\x3e\r\n\r\n              \x3cdiv data-dojo-attach-point\x3d"stringUniqueValuesSelect" data-dojo-type\x3d"dijit/form/FilteringSelect" data-dojo-props\x3d\'searchAttr:"label",required:true,intermediateChanges:true\' class\x3d"dijit-form-FilteringSelect" style\x3d"display:none;width:100%;"\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n\r\n            \x3cdiv data-dojo-attach-point\x3d"numberTextBoxContainer" style\x3d"display:none;"\x3e\r\n              \x3cinput data-dojo-attach-point\x3d"numberTextBox" data-dojo-type\x3d"dijit/form/NumberTextBox" data-dojo-props\x3d\'"required":true,intermediateChanges:true,constraints: {pattern: "#####0.##########"}\' class\x3d"dijit-form-NumberTextBox" style\x3d"display:none;width:100%;" /\x3e\r\n\r\n              \x3cdiv data-dojo-attach-point\x3d"numberCodedValuesFS" data-dojo-type\x3d"dijit/form/FilteringSelect" data-dojo-props\x3d\'searchAttr:"name",required:true,intermediateChanges:true\' class\x3d"dijit-form-FilteringSelect" style\x3d"display:none;width:100%;"\x3e\x3c/div\x3e\r\n\r\n              \x3ctable data-dojo-attach-point\x3d"numberRangeTable" style\x3d"display:none;width:100%;border-collapse:collapse;" cellpadding\x3d"0" cellspacing\x3d"0"\x3e\r\n                \x3ctbody\x3e\r\n                  \x3ctr\x3e\r\n                    \x3ctd style\x3d"width:40%;"\x3e\r\n                      \x3cinput data-dojo-attach-point\x3d"numberTextBox1" data-dojo-type\x3d"dijit/form/NumberTextBox" data-dojo-attach-event\x3d"blur:_onRangeNumberBlur" data-dojo-props\x3d\'"required":true,intermediateChanges:true,constraints: {pattern: "#####0.##########"}\' class\x3d"dijit-form-NumberTextBox" style\x3d"width:100%;" /\x3e\r\n                    \x3c/td\x3e\r\n                    \x3ctd style\x3d"width:20%;text-align:center;"\x3e\r\n                      \x3cspan\x3e${nls.and}\x3c/span\x3e\r\n                    \x3c/td\x3e\r\n                    \x3ctd style\x3d"width:40%;"\x3e\r\n                      \x3cinput data-dojo-attach-point\x3d"numberTextBox2" data-dojo-type\x3d"dijit/form/NumberTextBox" data-dojo-attach-event\x3d"blur:_onRangeNumberBlur" data-dojo-props\x3d\'"required":true,intermediateChanges:true,constraints: {pattern: "#####0.##########"}\' class\x3d"dijit-form-NumberTextBox" style\x3d"width:100%;" /\x3e\r\n                    \x3c/td\x3e\r\n                  \x3c/tr\x3e\r\n                \x3c/tbody\x3e\r\n              \x3c/table\x3e\r\n\r\n              \x3cdiv data-dojo-attach-point\x3d"numberUniqueValuesSelect" data-dojo-type\x3d"dijit/form/FilteringSelect" data-dojo-props\x3d\'searchAttr:"label",required:true,intermediateChanges:true\' class\x3d"dijit-form-FilteringSelect" style\x3d"display:none;width:100%;"\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n\r\n            \x3cdiv data-dojo-attach-point\x3d"dateTextBoxContainer" style\x3d"display:none;"\x3e\r\n              \x3cinput data-dojo-attach-point\x3d"dateTextBox" data-dojo-type\x3d"dijit/form/DateTextBox" data-dojo-props\x3d\'required:true, trim:true\' class\x3d"dijit-form-DateTextBox" style\x3d"display:none;width:100%;" /\x3e\r\n\r\n              \x3ctable data-dojo-attach-point\x3d"dateRangeTable" style\x3d"display:none;width:100%;border-collapse:collapse;" cellpadding\x3d"0" cellspacing\x3d"0"\x3e\r\n                \x3ctbody\x3e\r\n                  \x3ctr\x3e\r\n                    \x3ctd style\x3d"width:40%;"\x3e\r\n                      \x3cinput data-dojo-attach-point\x3d"dateTextBox1" data-dojo-type\x3d"dijit/form/DateTextBox" data-dojo-attach-event\x3d"change:_onRangeDateBlur" data-dojo-props\x3d\'value:new Date(),required:true,trim:true\' class\x3d"dijit-form-DateTextBox" style\x3d"width:100%;" /\x3e\r\n                    \x3c/td\x3e\r\n                    \x3ctd style\x3d"width:20%;text-align:center;"\x3e\r\n                      \x3cspan\x3e${nls.and}\x3c/span\x3e\r\n                    \x3c/td\x3e\r\n                    \x3ctd\x3e\r\n                      \x3cinput data-dojo-attach-point\x3d"dateTextBox2" data-dojo-type\x3d"dijit/form/DateTextBox" data-dojo-attach-event\x3d"change:_onRangeDateBlur" data-dojo-props\x3d\'value:new Date(),required:true,trim:true\' class\x3d"dijit-form-DateTextBox" style\x3d"width:100%;" /\x3e\r\n                    \x3c/td\x3e\r\n                  \x3c/tr\x3e\r\n                \x3c/tbody\x3e\r\n              \x3c/table\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/td\x3e\r\n      \x3c/tr\x3e\r\n      \x3ctr class\x3d"third-tr"\x3e\r\n        \x3ctd\x3e\r\n          \x3cdiv class\x3d"hint" data-dojo-attach-point\x3d"hintNode"\x3e\x3c/div\x3e\r\n        \x3c/td\x3e\r\n      \x3c/tr\x3e\r\n    \x3c/tbody\x3e\r\n  \x3c/table\x3e\r\n\x3c/div\x3e',
"url:dijit/templates/Calendar.html":'\x3cdiv class\x3d"dijitCalendarContainer dijitInline" role\x3d"presentation" aria-labelledby\x3d"${id}_mddb ${id}_year"\x3e\r\n\t\x3cdiv class\x3d"dijitReset dijitCalendarMonthContainer" role\x3d"presentation"\x3e\r\n\t\t\x3cdiv class\x3d\'dijitReset dijitCalendarArrow dijitCalendarDecrementArrow\' data-dojo-attach-point\x3d"decrementMonth"\x3e\r\n\t\t\t\x3cimg src\x3d"${_blankGif}" alt\x3d"" class\x3d"dijitCalendarIncrementControl dijitCalendarDecrease" role\x3d"presentation"/\x3e\r\n\t\t\t\x3cspan data-dojo-attach-point\x3d"decreaseArrowNode" class\x3d"dijitA11ySideArrow"\x3e-\x3c/span\x3e\r\n\t\t\x3c/div\x3e\r\n\t\t\x3cdiv class\x3d\'dijitReset dijitCalendarArrow dijitCalendarIncrementArrow\' data-dojo-attach-point\x3d"incrementMonth"\x3e\r\n\t\t\t\x3cimg src\x3d"${_blankGif}" alt\x3d"" class\x3d"dijitCalendarIncrementControl dijitCalendarIncrease" role\x3d"presentation"/\x3e\r\n\t\t\t\x3cspan data-dojo-attach-point\x3d"increaseArrowNode" class\x3d"dijitA11ySideArrow"\x3e+\x3c/span\x3e\r\n\t\t\x3c/div\x3e\r\n\t\t\x3cdiv data-dojo-attach-point\x3d"monthNode" class\x3d"dijitInline"\x3e\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\t\x3ctable cellspacing\x3d"0" cellpadding\x3d"0" role\x3d"grid" data-dojo-attach-point\x3d"gridNode"\x3e\r\n\t\t\x3cthead\x3e\r\n\t\t\t\x3ctr role\x3d"row"\x3e\r\n\t\t\t\t${!dayCellsHtml}\r\n\t\t\t\x3c/tr\x3e\r\n\t\t\x3c/thead\x3e\r\n\t\t\x3ctbody data-dojo-attach-point\x3d"dateRowsNode" data-dojo-attach-event\x3d"ondijitclick: _onDayClick" class\x3d"dijitReset dijitCalendarBodyContainer"\x3e\r\n\t\t\t\t${!dateRowsHtml}\r\n\t\t\x3c/tbody\x3e\r\n\t\x3c/table\x3e\r\n\t\x3cdiv class\x3d"dijitReset dijitCalendarYearContainer" role\x3d"presentation"\x3e\r\n\t\t\x3cdiv class\x3d"dijitCalendarYearLabel"\x3e\r\n\t\t\t\x3cspan data-dojo-attach-point\x3d"previousYearLabelNode" class\x3d"dijitInline dijitCalendarPreviousYear" role\x3d"button"\x3e\x3c/span\x3e\r\n\t\t\t\x3cspan data-dojo-attach-point\x3d"currentYearLabelNode" class\x3d"dijitInline dijitCalendarSelectedYear" role\x3d"button" id\x3d"${id}_year"\x3e\x3c/span\x3e\r\n\t\t\t\x3cspan data-dojo-attach-point\x3d"nextYearLabelNode" class\x3d"dijitInline dijitCalendarNextYear" role\x3d"button"\x3e\x3c/span\x3e\r\n\t\t\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/Filter/Widget.html":'\x3cdiv\x3e\r\n  \x3cul class\x3d"filter-list" data-dojo-attach-point\x3d"filterList"\x3e\x3c/ul\x3e\r\n\x3c/div\x3e',"url:widgets/Filter/css/style.css":".jimu-widget-filter {width: 100%; height: 100%; position: relative;}.jimu-widget-filter .filter-list,.jimu-widget-filter .filter-list li {margin: 0; padding: 0;}.jimu-widget-filter .filter-list li {list-style: none;}.jimu-widget-filter .filter-list .filter-item{border-bottom: 1px solid #d7d7d7; font-size: 12px; color: #000; overflow: hidden;}.jimu-widget-filter .filter-list .filter-item .header{vertical-align: middle; padding-top: 12px; padding-bottom: 12px; min-height: 40px; cursor: pointer; position: relative;}.jimu-widget-filter .filter-list .filter-item .header:hover{background-color: #eee;}.jimu-widget-filter .filter-list .filter-item.config-parameters .header .item-title{font-family: 'Avenir Medium', Verdana, Geneva, sans-serif;}.jimu-widget-filter .filter-list .filter-item .body{display: none;}.jimu-widget-filter .filter-list .filter-item.config-parameters .body{display: block;}.jimu-widget-filter .filter-list .filter-item .header\x3e*{display: inline-block; vertical-align: middle; word-break: break-word;}.jimu-widget-filter .filter-list .filter-item .header\x3e.icon{vertical-align: top;}.jimu-widget-filter .filter-list .filter-item .header:after{content: \"\"; height: 100%; min-height: 16px; vertical-align: top; display: inline-block;}.jimu-widget-filter .filter-list .filter-item .header .icon{width: 16px; height: 16px;}.jimu-widget-filter .filter-list .filter-item .header .icon img{width: 100%; height: 100%;}.jimu-widget-filter .filter-list .filter-item .header .setting,.jimu-widget-filter .filter-list .filter-item .header .done{width: 16px; min-height: 16px; display: none; position: absolute; top: 12px;}.jimu-widget-filter .filter-list .filter-item .header .done{right: 0px;}.jimu-rtl .jimu-widget-filter .filter-list .filter-item .header .done{right: auto; left: 0px;}.jimu-widget-filter .filter-list .filter-item .header .setting{background: url('./images/setting_normal.svg') no-repeat center; z-index: 10; right: 22px;}.jimu-widget-filter .filter-list .filter-item .header .setting:hover{background: url('./images/setting_hover.svg') no-repeat center;}.jimu-rtl .jimu-widget-filter .filter-list .filter-item .header .setting{right: auto; left: 22px;}.jimu-widget-filter .filter-list .filter-item .header:hover .setting,.jimu-widget-filter .filter-list .filter-item.config-parameters .setting{display: block;}.jimu-widget-filter .filter-list .filter-item .header:hover .setting{background-color: #eee;}.jimu-widget-filter .filter-list .filter-item .header .done,.jimu-widget-filter .filter-list .filter-item .header .setting{-webkit-animation: none; -moz-animation: none; -ms-animation: none; -o-animation: none; animation: none; -webkit-transform: none; -moz-transform: none; -ms-transform: none; -o-transform: none; transform: none;}.jimu-widget-filter .filter-list .filter-item .header .done{background: url('./images/done.svg') no-repeat center;}@-webkit-keyframes load8 {0% {-webkit-transform: rotate(0deg); transform: rotate(0deg);} 100% {-webkit-transform: rotate(360deg); transform: rotate(360deg);}}@-moz-keyframes load8 {0% {-moz-transform: rotate(0deg); transform: rotate(0deg);} 100% {-moz-transform: rotate(360deg); transform: rotate(360deg);}}@-ms-keyframes load8 {0% {-ms-transform: rotate(0deg); transform: rotate(0deg);} 100% {-ms-transform: rotate(360deg); transform: rotate(360deg);}}@keyframes load8 {0% {-webkit-transform: rotate(0deg); -ms-transform: rotate(0deg); -moz-transform: rotate(0deg); transform: rotate(0deg);} 100% {-webkit-transform: rotate(360deg); -ms-transform: rotate(360deg); -moz-transform: rotate(360deg); transform: rotate(360deg);}}.jimu-widget-filter .filter-list .filter-item.applying .header .done,.jimu-widget-filter .filter-list .filter-item.requesting .header .setting{content: ''; border-radius: 50%; position: absolute; width: 16px; height: 16px; top: 12px; text-indent: -9999em; background: none; border-top: 2.2px solid #d6d6d6; border-right: 2.2px solid #d6d6d6; border-bottom: 2.2px solid #d6d6d6; border-left: 2.2px solid #4A4A4A; -webkit-animation: load8 1.1s infinite linear; -moz-animation: load8 1.1s infinite linear; -ms-animation: load8 1.1s infinite linear; -o-animation: load8 1.1s infinite linear; animation: load8 1.1s infinite linear; -webkit-transform: translateZ(0); -moz-transform: translateZ(0); -ms-transform: translateZ(0); -o-transform: translateZ(0); transform: translateZ(0);}.jimu-widget-filter .filter-list .filter-item.applying .header .done,.jimu-widget-filter .filter-list .filter-item.applied .header .done,.jimu-widget-filter .filter-list .filter-item.requesting .header .setting{display: block;}.jimu-widget-filter .filter-list .filter-item .body .parameters{margin: 0 30px;}.jimu-widget-filter .filter-list .filter-item .body .jimu-btn{background: #fff; border-radius: 0; width: 82px; border: 1px solid #c7c7c7; color: #000; font-size: 12px; margin-bottom: 15px;}.jimu-widget-filter .filter-list .filter-item .body .jimu-btn:hover{border: 1px solid #000;}.jimu-widget-filter .jimu-loading-shelter .loading-container{width: auto;}",
"*now":function(q){q(['dojo/i18n!*preload*widgets/Filter/nls/Widget*["ar","cs","da","de","en","el","es","et","fi","fr","he","hr","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sr","sv","th","tr","zh-cn","vi","zh-hk","zh-tw","ROOT"]'])}}});
define("dojo/_base/declare dojo/_base/array dojo/_base/html dojo/_base/lang dojo/query dojo/on dijit/_WidgetsInTemplateMixin jimu/BaseWidget jimu/filterUtils jimu/dijit/FilterParameters jimu/LayerInfos/LayerInfos jimu/FilterManager esri/request dojo/NodeList dojo/NodeList-dom".split(" "),function(q,u,l,r,p,k,h,c,a,n,g,f,b){return q([c,h],{name:"Filter",baseClass:"jimu-widget-filter",_itemTemplate:'\x3cli class\x3d"filter-item" data-index\x3d"${index}"\x3e\x3cdiv class\x3d"header jimu-leading-padding1" \x3e\x3cspan class\x3d"icon jimu-trailing-margin05"\x3e\x3cimg src\x3d"${icon}" /\x3e\x3c/span\x3e\x3cspan class\x3d"item-title"\x3e${title}\x3c/span\x3e\x3cspan class\x3d"done jimu-float-trailing jimu-leading-margin1"\x3e\x3c/span\x3e\x3cspan class\x3d"setting jimu-float-trailing" title\x3d"${toggleTip}" style\x3d"display:${hasValue}"\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"body"\x3e\x3cdiv class\x3d"parameters"\x3e\x3c/div\x3e\x3cspan class\x3d"jimu-btn apply jimu-float-trailing jimu-trailing-margin25"\x3e${apply}\x3c/span\x3e\x3c/div\x3e\x3c/li\x3e',
_store:null,postCreate:function(){this.inherited(arguments);this._store={};this.layerInfosObj=g.getInstanceSync();this.filterUtils=new a;this.filterManager=f.getInstance();u.forEach(this.config.filters,function(a,b){var c=this.filterUtils.isAskForValues(a.filter),c={icon:a.icon?a.icon:this.folderUrl+"/css/images/default_task_icon.png",index:b,title:a.name,toggleTip:this.nls.toggleTip,hasValue:c?window.appInfo.isRunInMobile?"block !important":"":"none",isAskForValue:c,apply:r.getObject("jimuNls.common.apply",
!1,window)||"Apply"};this._store[a.layerId]||(this._store[a.layerId]={});var d=r.replace(this._itemTemplate,c,/\$\{([^\}]+)\}/ig),d=l.toDom(d);l.place(d,this.filterList);this.own(p(".header",d).on("click",r.hitch(this,"enableFilter",d,a,c)));"none"!==c.hasValue&&(this.own(p(".setting",d).on("click",r.hitch(this,"configFilter",d,a))),this.own(p(".apply",d).on("click",r.hitch(this,"applyFilterValues",d,a))),l.addClass(d,"requesting"),this.configFilter(d,a))},this)},startup:function(){this.inherited(arguments);
this.resize()},_setItemFilter:function(a,b,c){this._store[a]["filter_item_"+b]=c},_removeItemFilter:function(a,b){delete this._store[a]["filter_item_"+b]},_getExpr:function(a){if(!this._store[a])return null;var b=[];a=this._store[a];for(var c in a){var d=a[c];d&&b.push("("+d+")")}return b.join(" AND ")},_bindMapUpdateEvents:function(a,b){k.once(this.map,"update-start",r.hitch(this,function(){l.addClass(a,"applying")}));k.once(this.map,"update-end",r.hitch(this,function(){b?l.addClass(a,"applied"):
l.removeClass(a,"applied");l.removeClass(a,"applying")}))},enableFilter:function(a,b,c){if(!l.hasClass(a,"config-parameters")||a.filterParams&&a.filterParams.getFilterExpr())if(c.isAskForValue&&(!a.filterParams||!a.filterParams.getFilterExpr()))this.configFilter(a,b);else{c=b.layerId;var d=l.getAttr(a,"data-index"),f=null,f=this.layerInfosObj.getLayerInfoById(c),g=l.hasClass(a,"applied");f.isShowInMap()&&f.isInScale()?this._bindMapUpdateEvents(a,!g?!0:!1):g?l.removeClass(a,"applied"):l.addClass(a,
"applied");g?this._removeItemFilter(c,d):this._setItemFilter(c,d,a.filterParams?a.filterParams.getFilterExpr():b.filter.expr);f=this._getExpr(c);this.filterManager.applyWidgetFilter(c,this.id,f)}},configFilter:function(a,c,f){a.filterParams?l.hasClass(a,"config-parameters")?(l.removeClass(a,"config-parameters"),this._changeItemTitleWidth(a,window.appInfo.isRunInMobile?60:45)):(l.addClass(a,"config-parameters"),this._changeItemTitleWidth(a,60)):b({url:c.url,content:{f:"json"},handleAs:"json",callbackPrams:"callback"}).then(r.hitch(this,
function(b){l.addClass(a,"config-parameters");l.removeClass(a,"requesting");var f=p(".parameters",a)[0];a.handles=[];a.filterParams=new n;var g=r.clone(c.filter);a.filterParams.build(c.url,b,g);this.own(k(a.filterParams,"change",r.hitch(this,function(b){b?(p(".apply",a).removeClass("disable-apply"),a.expr=b):(delete a.expr,p(".apply",a).addClass("disable-apply"))})));a.expr=a.filterParams.getFilterExpr();a.expr?p(".apply",a).removeClass("disable-apply"):(delete a.expr,p(".apply",a).addClass("disable-apply"));
a.filterParams.placeAt(f);this._changeItemTitleWidth(a,60)}));f&&f.target&&f.stopPropagation()},applyFilterValues:function(a,b,c){var d=a.filterParams&&(a.expr||a.filterParams.getFilterExpr());if(d){a.expr=d;b=b.layerId;var d=l.getAttr(a,"data-index"),f=this.layerInfosObj.getLayerInfoById(b);f.isShowInMap()&&f.isInScale()?this._bindMapUpdateEvents(a,!0):l.addClass(a,"applied");this._setItemFilter(b,d,a.expr);a=this._getExpr(b);this.filterManager.applyWidgetFilter(b,this.id,a)}c.stopPropagation()},
resize:function(){this.inherited(arguments);this._changeItemTitleWidth(this.domNode,window.appInfo.isRunInMobile?60:45)},_changeItemTitleWidth:function(a,b){var c=p(".header",a)[0];c&&(c=l.getContentBox(c).w-b,0<c&&p(".header .item-title",a).style({maxWidth:c+"px"}))},destroy:function(){p(".filter-item",this.filterList).forEach(function(a){delete a.filterParams;delete a.expr});if(this._store)for(var a in this._store)a&&this.filterManager.applyWidgetFilter(a,this.id,"");this.inherited(arguments)}})});