// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"widgets/Geoprocessing/editorManager":function(){define("dojo/_base/array dojo/on dojo/aspect dijit/form/Select dijit/form/TextBox jimu/dijit/CheckBox jimu/dijit/URLInput jimu/utils ./editors/simpleEditors ./editors/FeatureSetEditorChooser ./editors/FeatureSetResultEditor ./editors/SelectFeatureSetFromUrl ./editors/SelectFeatureSetFromLayer ./editors/SelectFeatureSetFromFile ./editors/SelectFeatureSetFromDraw ./editors/DataFileEditor ./editors/RasterLayerEditor ./editors/RecordSetEditor".split(" "),
function(h,e,l,f,c,a,b,p,g,n,r,k,u,s,v,w,d,z){function x(m,d,a){if(m.editorName&&0>m.dataType.indexOf("GPMultiValue"))return m.editorName;if("input"===d)return"GPMultiValue:GPFeatureRecordSetLayer"===m.dataType?"UnsupportEditor":-1<m.dataType.indexOf("GPMultiValue")&&m.choiceList&&0<m.choiceList.length?"MultiValueChooser":-1<m.dataType.indexOf("GPMultiValue")&&(!m.choiceList||0===m.choiceList.length)?"MultiValueEditor":"GPLong"===m.dataType?"LongNumberTextBox":"GPDouble"===m.dataType?"DoubleNumberTextBox":
"GPString"===m.dataType?m.choiceList&&0<m.choiceList.length?"Select":"TextBox":"GPBoolean"===m.dataType?"CheckBox":"GPLinearUnit"===m.dataType?"LinerUnitEditor":"GPDate"===m.dataType?"DateTimeEditor":"GPDataFile"===m.dataType?"DataFileEditor":"GPRasterDataLayer"===m.dataType?"RasterLayerEditor":"GPRecordSet"===m.dataType?"SimpleJsonEditor":"GPFeatureRecordSetLayer"===m.dataType?"setting"===a?"FeatureSetEditorChooser":"draw"===m.featureSetMode?"SelectFeatureSetFromDraw":"layers"===m.featureSetMode?
"SelectFeatureSetFromLayer":"url"===m.featureSetMode?"SelectFeatureSetFromUrl":"file"===m.featureSetMode?"SelectFeatureSetFromFile":"UnsupportEditor":"UnsupportEditor";m="GPFeatureRecordSetLayer"===m.dataType?"FeatureSetResultEditor":"GPRecordSet"===m.dataType?"RecordSetEditor":"ShowMessage";return m}var m={},D,C=[],A;m.createEditor=function(t,y,q,E){var B;y=x(t,y,q);q={param:t,widgetUID:E?E.uid:void 0,config:E?E.config:void 0,appConfig:E?E.appConfig:void 0,map:D,nls:A,context:q,editorManager:m,style:{width:"100%"}};
"UnsupportEditor"===y?(q.message="type "+t.dataType+" is not supported for now.",B=new g.UnsupportEditor(q)):"ShowMessage"===y?(q.message="GPRecordSet"===t.dataType?"table":"GPDataFile"===t.dataType||"GPRasterDataLayer"===t.dataType?"link":"text",B=new g.UnsupportEditor(q)):"RecordSetEditor"===y?B=new z(q):"MultiValueChooser"===y?B=new g.MultiValueChooser(q):"MultiValueEditor"===y?B=new g.MultiValueEditor(q):"LongNumberTextBox"===y?B=new g.LongNumberEditor(q):"DoubleNumberTextBox"===y?B=new g.DoubleNumberEditor(q):
"Select"===y?(q.gEditor=new f({options:h.map(t.choiceList,function(m){return{label:m,value:m}}),value:void 0===t.defaultValue?"":t.defaultValue}),q.editorName="Select",B=new g.GeneralEditorWrapperEditor(q)):"TextBox"===y?(q.gEditor=new c({value:void 0===t.defaultValue?"":t.defaultValue}),B=new g.GeneralEditorWrapperEditor(q)):"CheckBox"===y?(q.gEditor=new a({checked:void 0===t.defaultValue?!1:t.defaultValue}),B=new g.GeneralEditorWrapperEditor(q)):"LinerUnitEditor"===y?B=new g.LinerUnitEditor(q):
"DateTimeEditor"===y?B=new g.DateTimeEditor(q):"URLInput"===y?(q.gEditor=new b({value:void 0===t.defaultValue?"":t.defaultValue}),B=new g.GeneralEditorWrapperEditor(q)):"ObjectUrlEditor"===y?(t.defaultValue&&"string"===typeof t.defaultValue&&(q.value=t.defaultValue),B=new g.ObjectUrlEditor(q)):"SimpleJsonEditor"===y?(t.defaultValue&&(q.value=t.defaultValue),B=new g.SimpleJsonEditor(q)):"DataFileEditor"===y?(t.defaultValue&&(q.value=t.defaultValue),B=new w(q)):"RasterLayerEditor"===y?(t.defaultValue&&
(q.value=t.defaultValue),B=new d(q)):"SelectFeatureSetFromDraw"===y?void 0===t.defaultValue?(q.message="No defaultValue property.",B=new g.UnsupportEditor(q)):(t.defaultValue&&t.defaultValue.geometryType&&(E=p.getTypeByGeometryType(t.defaultValue.geometryType),q.types=[E]),q.showClear=!0,B=new v(q)):"SelectFeatureSetFromLayer"===y?(t.defaultValue&&(q.value=t.defaultValue),B=new u(q)):"SelectFeatureSetFromUrl"===y?(q.querySetting=t.defaultValue,B=new k(q)):"SelectFeatureSetFromFile"===y?B=new s(q):
"FeatureSetEditorChooser"===y?B=new n(q):"FeatureSetResultEditor"===y?B=new r(q):"GetUrlObjectFromLayer"===y?(t.defaultValue&&(q.value=t.defaultValue),B=new g.GetUrlObjectFromLayer(q)):(q.message="wrong editorName."+y,B=new g.UnsupportEditor(q));t.editorDependParamName&&(B.dependParam=t.editorDependParamName);l.before(B,"destroy",function(){C.splice(C.indexOf(B),1)});B.dependParam&&h.forEach(C,function(m){m.param.name===B.dependParam&&B.update(m.getValue())});"SelectFeatureSetFromLayer"===y&&e(B,
"change",function(){h.forEach(C,function(m){m.dependParam===t.name&&m.update(B.getValue())})});C.push(B);return B};m.setMap=function(m){D=m};m.setNls=function(m){A=m};return m})},"widgets/Geoprocessing/editors/simpleEditors":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/html dojo/on dojo/Deferred dojo/promise/all dojo/json dijit/form/NumberTextBox dijit/form/Select dijit/form/Textarea dijit/form/DateTextBox dijit/form/TimeTextBox jimu/dijit/CheckBox jimu/dijit/URLInput jimu/utils esri/tasks/LinearUnit ../BaseEditor".split(" "),
function(h,e,l,f,c,a,b,p,g,n,r,k,u,s,v,w,d,z){var x={};x.UnsupportEditor=h(z,{baseClass:"jimu-gp-editor-base jimu-gp-editor-unsupport",editorName:"UnsupportEditor",postCreate:function(){this.inherited(arguments);f.setAttr(this.domNode,"innerHTML",w.sanitizeHTML(this.message))},getValue:function(){return null}});x.ShowMessage=h(z,{baseClass:"jimu-gp-editor-base jimu-gp-editor-message",editorName:"ShowMessage",postCreate:function(){this.inherited(arguments);f.setAttr(this.domNode,"innerHTML",w.sanitizeHTML(this.message))},
getValue:function(){return null}});x.GeneralEditorWrapperEditor=h(z,{baseClass:"jimu-gp-editor-base jimu-gp-editor-wrapper",editorName:"GeneralEditorWrapperEditor",postCreate:function(){this.inherited(arguments);f.setStyle(this.gEditor.domNode,"width","100%");"Select"===this.editorName&&f.addClass(this.gEditor.domNode,"restrict-select-width");this.gEditor.placeAt(this.domNode)},getValue:function(){return this.gEditor.getValue()}});x.LongNumberEditor=h(z,{baseClass:"jimu-gp-editor-base jimu-gp-editor-long",
editorName:"LongNumberEditor",postCreate:function(){this.inherited(arguments);this.value=this.param.defaultValue?this.param.defaultValue:NaN;this.editor=new g({value:this.value,constraints:{places:0}});this.editor.placeAt(this.domNode)},getValue:function(){var m=this.editor.getValue();return isNaN(m)?null:m}});x.DoubleNumberEditor=h(z,{baseClass:"jimu-gp-editor-base jimu-gp-editor-double",editorName:"DoubleNumberEditor",postCreate:function(){this.inherited(arguments);this.value=this.param.defaultValue?
this.param.defaultValue:NaN;this.editor=new g({value:this.value});this.editor.placeAt(this.domNode)},getValue:function(){var m=this.editor.getValue();return isNaN(m)?null:m}});x.MultiValueChooser=h(z,{baseClass:"jimu-gp-editor-base jimu-gp-editor-multivalue-chooser",editorName:"MultiValueChooser",postCreate:function(){this.inherited(arguments);this.checkBoxs=[];l.forEach(this.param.choiceList,function(m){m=new s({label:m,checked:this.param.defaultValue&&-1<this.param.defaultValue.indexOf(m)?!0:!1});
m.placeAt(this.domNode);this.checkBoxs.push(m)},this)},getValue:function(){var m=[];l.forEach(this.checkBoxs,function(d){d.checked&&m.push(d.label)},this);return m}});x.MultiValueEditor=h(z,{baseClass:"jimu-gp-editor-base jimu-gp-editor-multivalue",editorName:"MultiValueEditor",postCreate:function(){this.inherited(arguments);this.editors=[];var m=f.create("div",{"class":"input-list"},this.domNode),d=e.clone(this.param,m);d.dataType=this.param.dataType.substr(13,this.param.dataType.length);d.originParam=
this.param;setTimeout(e.hitch(this,this._initChildEditors,d,m),100);this._createAddInputNode(d,m)},_initChildEditors:function(m,d){this.param.defaultValue&&0<this.param.defaultValue.length?l.forEach(this.param.defaultValue,function(a){m.defaultValue=a;this._createSingleInputContainerNode(m,d)},this):(delete m.defaultValue,this._createSingleInputContainerNode(m,d))},getValue:function(){var m=[];l.forEach(this.editors,function(d){m.push(d.getValue())},this);return m},getGPValue:function(){var m=new a,
d=[];l.forEach(this.editors,function(m){d.push(m.getGPValue())},this);b(d).then(function(d){m.resolve(d)},function(d){m.reject(d)});return m},destroy:function(){l.forEach(this.editors,function(m){m.destroy()});this.editors=[];this.inherited(arguments)},_createSingleInputContainerNode:function(m,d){var a=f.create("div",{"class":"single-input"},d),g=this.editorManager.createEditor(m,"input",this.context,{widgetUID:this.widgetUID,config:this.config}),b=f.getContentBox(this.domNode).w-30-3;f.setStyle(g.domNode,
{display:"inline-block",width:b+"px"});g.placeAt(a);this._createRemoveInputNode(a);a.inputEditor=g;this.editors.push(g);return a},_createRemoveInputNode:function(m){var d=f.create("div",{"class":"remove",innerHTML:"-"},m);this.own(c(d,"click",e.hitch(this,function(){this.editors.splice(this.editors.indexOf(m.inputEditor),1);m.inputEditor.destroy();f.destroy(m)})));return d},_createAddInputNode:function(m,d){var a=f.create("div",{"class":"add-input"},this.domNode),g=f.create("div",{"class":"add-btn",
innerHTML:"+"},a);this.own(c(g,"click",e.hitch(this,function(){this._createSingleInputContainerNode(m,d)})));return a}});x.LinerUnitEditor=h(z,{baseClass:"jimu-gp-editor-base jimu-gp-editor-liner-unit",editorName:"LinerUnitEditor",postCreate:function(){this.inherited(arguments);this.distance=this.param.defaultValue?this.param.defaultValue.distance:0;this.units=this.param.defaultValue?this.param.defaultValue.units:"esriMeters";this.inputDijit=new g({value:this.distance});this.selectDijit=new n({value:this.units,
options:[{label:this.nls.meters,value:"esriMeters"},{label:this.nls.kilometers,value:"esriKilometers"},{label:this.nls.feet,value:"esriFeet"},{label:this.nls.miles,value:"esriMiles"},{label:this.nls.nauticalMiles,value:"esriNauticalMiles"},{label:this.nls.yards,value:"esriYards"}]});f.addClass(this.selectDijit.domNode,"restrict-select-width");this.inputDijit.placeAt(this.domNode);this.selectDijit.placeAt(this.domNode)},getValue:function(){var m=new d;m.distance=this.inputDijit.getValue();m.units=
this.selectDijit.getValue();return m}});x.DateTimeEditor=h(z,{baseClass:"jimu-gp-editor-base jimu-gp-editor-datatime",editorName:"DateTimeEditor",postCreate:function(){var m=new Date(this.param.defaultValue);this.value=this.param.defaultValue?new Date(m.getFullYear(),m.getMonth(),m.getDate(),m.getHours(),m.getMinutes(),m.getSeconds()):null;this.inherited(arguments);this.dateDijit=new k({value:this.value,style:{width:"60%"}});this.timeDijit=new u({value:this.value,style:{width:"40%"},constraints:{timePattern:"HH:mm:ss",
clickableIncrement:"T00:15:00",visibleIncrement:"T00:15:00"}});this.dateDijit.placeAt(this.domNode);this.timeDijit.placeAt(this.domNode)},startup:function(){this.dateDijit.startup();this.timeDijit.startup()},getValue:function(){var m=new Date,d=this.dateDijit.getValue(),a=this.timeDijit.getValue();return null!==d&&null!==a?(m.setFullYear(d.getFullYear()),m.setMonth(d.getMonth()),m.setDate(d.getDate()),m.setHours(a.getHours()),m.setMinutes(a.getMinutes()),m.setSeconds(a.getSeconds()),m.getTime()):
null}});x.GetUrlObjectFromLayer=h([z,n],{editorName:"GetUrlObjectFromLayer",postCreate:function(){this.options=[];l.forEach(this.map.graphicsLayerIds,function(m){m=this.map.getLayer(m);if("esri.layers.FeatureLayer"===m.declaredClass&&(!this.geometryType||m.geometryType===this.geometryType))this.options.push({label:m.label||m.title||m.name||m.id,value:m.id})},this);this.inherited(arguments);this.setValue(this.value);f.addClass(this.domNode,"jimu-gp-editor-sffl");f.addClass(this.domNode,"jimu-gp-editor-base")},
getValue:function(){return this.value},getGPValue:function(){var m,d;l.forEach(this.map.graphicsLayerIds,function(d){var a=this.map.getLayer(d);d===this.getValue()&&(m=a.url)},this);d={url:m};d=this.wrapGPValue(d);return this.wrapValueToDeferred(d)}});x.ObjectUrlEditor=h([z,v],{editorName:"ObjectUrlEditor",postCreate:function(){this.rest=!1;this.inherited(arguments);f.addClass(this.domNode,"jimu-gp-editor-ourl");f.addClass(this.domNode,"jimu-gp-editor-base")},getValue:function(){return this.value},
getGPValue:function(){var m;m=this.getValue()?{url:this.getValue()}:null;m=this.wrapGPValue(m);return this.wrapValueToDeferred(m)}});x.SimpleJsonEditor=h([z,r],{editorName:"SimpleJsonEditor",postMixInProperties:function(){this.inherited(arguments);"object"===typeof this.value&&(this.value=p.stringify(this.value))},postCreate:function(){this.inherited(arguments);f.addClass(this.domNode,"jimu-gp-editor-json");f.addClass(this.domNode,"jimu-gp-editor-base")},getValue:function(){return this.value},getGPValue:function(){var m;
m=this.getValue()?p.parse(this.getValue()):null;m=this.wrapGPValue(m);return this.wrapValueToDeferred(m)}});return x})},"dijit/form/Textarea":function(){define(["dojo/_base/declare","dojo/dom-style","./_ExpandingTextAreaMixin","./SimpleTextarea"],function(h,e,l,f){return h("dijit.form.Textarea",[f,l],{baseClass:"dijitTextBox dijitTextArea dijitExpandingTextArea",cols:"",buildRendering:function(){this.inherited(arguments);e.set(this.textbox,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",
MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"})}})})},"dijit/form/_ExpandingTextAreaMixin":function(){define("dojo/_base/declare dojo/dom-construct dojo/has dojo/_base/lang dojo/on dojo/_base/window ../Viewport".split(" "),function(h,e,l,f,c,a,b){l.add("textarea-needs-help-shrinking",function(){var b=a.body(),g=e.create("textarea",{rows:"5",cols:"20",value:" ",style:{zoom:1,fontSize:"12px",height:"96px",overflow:"hidden",visibility:"hidden",position:"absolute",border:"5px solid white",
margin:"0",padding:"0",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"}},b,"last"),c=g.scrollHeight>=g.clientHeight;b.removeChild(g);return c});return h("dijit.form._ExpandingTextAreaMixin",null,{_setValueAttr:function(){this.inherited(arguments);this.resize()},postCreate:function(){this.inherited(arguments);var a=this.textbox;a.style.overflowY="hidden";this.own(c(a,"focus, resize",f.hitch(this,"_resizeLater")))},startup:function(){this.inherited(arguments);
this.own(b.on("resize",f.hitch(this,"_resizeLater")));this._resizeLater()},_onInput:function(a){this.inherited(arguments);this.resize()},_estimateHeight:function(){var a=this.textbox;a.rows=(a.value.match(/\n/g)||[]).length+1},_resizeLater:function(){this.defer("resize")},resize:function(){function a(){var b=!1;""===g.value&&(g.value=" ",b=!0);var d=g.scrollHeight;b&&(g.value="");return d}var g=this.textbox;"hidden"==g.style.overflowY&&(g.scrollTop=0);if(!this.busyResizing){this.busyResizing=!0;if(a()||
g.offsetHeight){var b=a()+Math.max(g.offsetHeight-g.clientHeight,0),c=b+"px";c!=g.style.height&&(g.style.height=c,g.rows=1);if(l("textarea-needs-help-shrinking")){var k=a(),e=g.style.minHeight,f=4,h=g.scrollTop;g.style.minHeight=c;for(g.style.height="auto";0<b;){g.style.minHeight=Math.max(b-f,4)+"px";c=a();k-=c;b-=k;if(k<f)break;k=c;f<<=1}g.style.height=b+"px";g.style.minHeight=e;g.scrollTop=h}g.style.overflowY=a()>g.clientHeight?"auto":"hidden";"hidden"==g.style.overflowY&&(g.scrollTop=0)}else this._estimateHeight();
this.busyResizing=!1}}})})},"dijit/form/SimpleTextarea":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/sniff","./TextBox"],function(h,e,l,f){return h("dijit.form.SimpleTextarea",f,{baseClass:"dijitTextBox dijitTextArea",rows:"3",cols:"20",templateString:"\x3ctextarea ${!nameAttrSetting} data-dojo-attach-point\x3d'focusNode,containerNode,textbox' autocomplete\x3d'off'\x3e\x3c/textarea\x3e",postMixInProperties:function(){!this.value&&this.srcNodeRef&&(this.value=this.srcNodeRef.value);
this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);l("ie")&&this.cols&&e.add(this.textbox,"dijitTextAreaCols")},filter:function(c){c&&(c=c.replace(/\r/g,""));return this.inherited(arguments)},_onInput:function(c){if(this.maxLength){var a=parseInt(this.maxLength),b=this.textbox.value.replace(/\r/g,""),a=b.length-a;if(0<a){var e=this.textbox;if(e.selectionStart){var g=e.selectionStart,f=0;l("opera")&&(f=(this.textbox.value.substring(0,g).match(/\r/g)||[]).length);this.textbox.value=
b.substring(0,g-a-f)+b.substring(g-f);e.setSelectionRange(g-a,g-a)}else this.ownerDocument.selection&&(e.focus(),b=this.ownerDocument.selection.createRange(),b.moveStart("character",-a),b.text="",b.select())}}this.inherited(arguments)}})})},"dijit/form/DateTextBox":function(){define(["dojo/_base/declare","../Calendar","./_DateTimeTextBox"],function(h,e,l){return h("dijit.form.DateTextBox",l,{baseClass:"dijitTextBox dijitComboBox dijitDateTextBox",popupClass:e,_selector:"date",maxHeight:Infinity,value:new Date("")})})},
"dijit/Calendar":function(){define("dojo/_base/array dojo/date dojo/date/locale dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/_base/kernel dojo/keys dojo/_base/lang dojo/on dojo/sniff ./CalendarLite ./_Widget ./_CssStateMixin ./_TemplatedMixin ./form/DropDownButton".split(" "),function(h,e,l,f,c,a,b,p,g,n,r,k,u,s,v,w,d){var z=f("dijit.Calendar",[u,s,v],{baseClass:"dijitCalendar",cssStateNodes:{decrementMonth:"dijitCalendarArrow",incrementMonth:"dijitCalendarArrow",previousYearLabelNode:"dijitCalendarPreviousYear",
nextYearLabelNode:"dijitCalendarNextYear"},setValue:function(d){p.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",d)},_createMonthWidget:function(){return new z._MonthDropDownButton({id:this.id+"_mddb",tabIndex:-1,onMonthSelect:n.hitch(this,"_onMonthSelect"),lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode)},postCreate:function(){this.inherited(arguments);this.own(r(this.domNode,"keydown",n.hitch(this,"_onKeyDown")),
r(this.dateRowsNode,"mouseover",n.hitch(this,"_onDayMouseOver")),r(this.dateRowsNode,"mouseout",n.hitch(this,"_onDayMouseOut")),r(this.dateRowsNode,"mousedown",n.hitch(this,"_onDayMouseDown")),r(this.dateRowsNode,"mouseup",n.hitch(this,"_onDayMouseUp")))},_onMonthSelect:function(d){var m=new this.dateClassObj(this.currentFocus);m.setDate(1);m.setMonth(d);d=this.dateModule.getDaysInMonth(m);var a=this.currentFocus.getDate();m.setDate(Math.min(a,d));this._setCurrentFocusAttr(m)},_onDayMouseOver:function(d){if((d=
a.contains(d.target,"dijitCalendarDateLabel")?d.target.parentNode:d.target)&&(d.dijitDateValue&&!a.contains(d,"dijitCalendarDisabledDate")||d==this.previousYearLabelNode||d==this.nextYearLabelNode))a.add(d,"dijitCalendarHoveredDate"),this._currentNode=d},_onDayMouseOut:function(d){this._currentNode&&!(d.relatedTarget&&d.relatedTarget.parentNode==this._currentNode)&&(d="dijitCalendarHoveredDate",a.contains(this._currentNode,"dijitCalendarActiveDate")&&(d+=" dijitCalendarActiveDate"),a.remove(this._currentNode,
d),this._currentNode=null)},_onDayMouseDown:function(d){if((d=d.target.parentNode)&&d.dijitDateValue&&!a.contains(d,"dijitCalendarDisabledDate"))a.add(d,"dijitCalendarActiveDate"),this._currentNode=d},_onDayMouseUp:function(d){(d=d.target.parentNode)&&d.dijitDateValue&&a.remove(d,"dijitCalendarActiveDate")},handleKey:function(d){var m=-1,a,b=this.currentFocus;switch(d.keyCode){case g.RIGHT_ARROW:m=1;case g.LEFT_ARROW:a="day";this.isLeftToRight()||(m*=-1);break;case g.DOWN_ARROW:m=1;case g.UP_ARROW:a=
"week";break;case g.PAGE_DOWN:m=1;case g.PAGE_UP:a=d.ctrlKey||d.altKey?"year":"month";break;case g.END:b=this.dateModule.add(b,"month",1),a="day";case g.HOME:b=new this.dateClassObj(b);b.setDate(1);break;default:return!0}a&&(b=this.dateModule.add(b,a,m));this._setCurrentFocusAttr(b);return!1},_onKeyDown:function(d){this.handleKey(d)||(d.stopPropagation(),d.preventDefault())},onValueSelected:function(){},onChange:function(d){this.onValueSelected(d)},getClassForDate:function(){}});z._MonthDropDownButton=
f("dijit.Calendar._MonthDropDownButton",d,{onMonthSelect:function(){},postCreate:function(){this.inherited(arguments);this.dropDown=new z._MonthDropDown({id:this.id+"_mdd",onChange:this.onMonthSelect})},_setMonthAttr:function(d){var m=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,d);this.dropDown.set("months",m);this.containerNode.innerHTML=(6==k("ie")?"":"\x3cdiv class\x3d'dijitSpacer'\x3e"+this.dropDown.domNode.innerHTML+"\x3c/div\x3e")+"\x3cdiv class\x3d'dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'\x3e"+
m[d.getMonth()]+"\x3c/div\x3e"}});z._MonthDropDown=f("dijit.Calendar._MonthDropDown",[s,w,v],{months:[],baseClass:"dijitCalendarMonthMenu dijitMenu",templateString:"\x3cdiv data-dojo-attach-event\x3d'ondijitclick:_onClick'\x3e\x3c/div\x3e",_setMonthsAttr:function(d){this.domNode.innerHTML="";h.forEach(d,function(m,d){b.create("div",{className:"dijitCalendarMonthLabel",month:d,innerHTML:m},this.domNode)._cssState="dijitCalendarMonthLabel"},this)},_onClick:function(d){this.onChange(c.get(d.target,"month"))},
onChange:function(){}});return z})},"dijit/CalendarLite":function(){define("dojo/_base/array dojo/_base/declare dojo/cldr/supplemental dojo/date dojo/date/locale dojo/date/stamp dojo/dom dojo/dom-class dojo/_base/lang dojo/on dojo/sniff dojo/string ./_WidgetBase ./_TemplatedMixin dojo/text!./templates/Calendar.html ./a11yclick ./hccss".split(" "),function(h,e,l,f,c,a,b,p,g,n,r,k,u,s,v){var w=e("dijit.CalendarLite",[u,s],{templateString:v,dowTemplateString:'\x3cth class\x3d"dijitReset dijitCalendarDayLabelTemplate" role\x3d"columnheader" scope\x3d"col"\x3e\x3cspan class\x3d"dijitCalendarDayLabel"\x3e${d}\x3c/span\x3e\x3c/th\x3e',
dateTemplateString:'\x3ctd class\x3d"dijitReset" role\x3d"gridcell" data-dojo-attach-point\x3d"dateCells"\x3e\x3cspan class\x3d"dijitCalendarDateLabel" data-dojo-attach-point\x3d"dateLabels"\x3e\x3c/span\x3e\x3c/td\x3e',weekTemplateString:'\x3ctr class\x3d"dijitReset dijitCalendarWeekTemplate" role\x3d"row"\x3e${d}${d}${d}${d}${d}${d}${d}\x3c/tr\x3e',value:new Date(""),datePackage:"",dayWidth:"narrow",tabIndex:"0",dayOffset:-1,currentFocus:new Date,_setSummaryAttr:"gridNode",baseClass:"dijitCalendar dijitCalendarLite",
_isValidDate:function(d){return d&&!isNaN(d)&&"object"==typeof d&&d.toString()!=this.constructor.prototype.value.toString()},_getValueAttr:function(){var d=this._get("value");if(d&&!isNaN(d)){var a=new this.dateClassObj(d);a.setHours(0,0,0,0);a.getDate()<d.getDate()&&(a=this.dateModule.add(a,"hour",1));return a}return null},_setValueAttr:function(d,b){"string"==typeof d&&(d=a.fromISOString(d));d=this._patchDate(d);if(this._isValidDate(d)&&!this.isDisabledDate(d,this.lang)){if(this._set("value",d),
this.set("currentFocus",d),this._markSelectedDates([d]),this._created&&(b||"undefined"==typeof b))this.onChange(this.get("value"))}else this._set("value",null),this._markSelectedDates([])},_patchDate:function(d){d&&(d=new this.dateClassObj(d),d.setHours(1,0,0,0));return d},_setText:function(d,a){for(;d.firstChild;)d.removeChild(d.firstChild);d.appendChild(d.ownerDocument.createTextNode(a))},_populateGrid:function(){var d=new this.dateClassObj(this.currentFocus);d.setDate(1);var d=this._patchDate(d),
a=d.getDay(),b=this.dateModule.getDaysInMonth(d),m=this.dateModule.getDaysInMonth(this.dateModule.add(d,"month",-1)),g=new this.dateClassObj,c=0<=this.dayOffset?this.dayOffset:l.getFirstDayOfWeek(this.lang);c>a&&(c-=7);if(!this.summary){var k=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,d);this.gridNode.setAttribute("summary",k[d.getMonth()])}this._date2cell={};h.forEach(this.dateCells,function(t,k){var q=k+c,e=new this.dateClassObj(d),A="dijitCalendar",f=0;q<a?(q=m-a+q+1,
f=-1,A+="Previous"):q>=a+b?(q=q-a-b+1,f=1,A+="Next"):(q=q-a+1,A+="Current");f&&(e=this.dateModule.add(e,"month",f));e.setDate(q);this.dateModule.compare(e,g,"date")||(A="dijitCalendarCurrentDate "+A);this.isDisabledDate(e,this.lang)?(A="dijitCalendarDisabledDate "+A,t.setAttribute("aria-disabled","true")):(A="dijitCalendarEnabledDate "+A,t.removeAttribute("aria-disabled"),t.setAttribute("aria-selected","false"));(f=this.getClassForDate(e,this.lang))&&(A=f+" "+A);t.className=A+"Month dijitCalendarDateTemplate";
A=e.valueOf();this._date2cell[A]=t;t.dijitDateValue=A;this._setText(this.dateLabels[k],e.getDateLocalized?e.getDateLocalized(this.lang):e.getDate())},this)},_populateControls:function(){var d=new this.dateClassObj(this.currentFocus);d.setDate(1);this.monthWidget.set("month",d);var a=d.getFullYear()-1,b=new this.dateClassObj;h.forEach(["previous","current","next"],function(m){b.setFullYear(a++);this._setText(this[m+"YearLabelNode"],this.dateLocaleModule.format(b,{selector:"year",locale:this.lang}))},
this)},goToToday:function(){this.set("value",new this.dateClassObj)},constructor:function(d){this.dateModule=d.datePackage?g.getObject(d.datePackage,!1):f;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=d.datePackage?g.getObject(d.datePackage+".locale",!1):c},_createMonthWidget:function(){return w._MonthWidget({id:this.id+"_mddb",lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode)},buildRendering:function(){var d=this.dowTemplateString,a=this.dateLocaleModule.getNames("days",
this.dayWidth,"standAlone",this.lang),g=0<=this.dayOffset?this.dayOffset:l.getFirstDayOfWeek(this.lang);this.dayCellsHtml=k.substitute([d,d,d,d,d,d,d].join(""),{d:""},function(){return a[g++%7]});d=k.substitute(this.weekTemplateString,{d:this.dateTemplateString});this.dateRowsHtml=[d,d,d,d,d,d].join("");this.dateCells=[];this.dateLabels=[];this.inherited(arguments);b.setSelectable(this.domNode,!1);d=new this.dateClassObj(this.currentFocus);this.monthWidget=this._createMonthWidget();this.set("currentFocus",
d,!1)},postCreate:function(){this.inherited(arguments);this._connectControls()},_connectControls:function(){var d=g.hitch(this,function(d,a,m){this[d].dojoClick=!0;return n(this[d],"click",g.hitch(this,function(){this._setCurrentFocusAttr(this.dateModule.add(this.currentFocus,a,m))}))});this.own(d("incrementMonth","month",1),d("decrementMonth","month",-1),d("nextYearLabelNode","year",1),d("previousYearLabelNode","year",-1))},_setCurrentFocusAttr:function(d,a){var b=this.currentFocus,m=this._getNodeByDate(b);
d=this._patchDate(d);this._set("currentFocus",d);if(!this._date2cell||0!=this.dateModule.difference(b,d,"month"))this._populateGrid(),this._populateControls(),this._markSelectedDates([this.value]);b=this._getNodeByDate(d);b.setAttribute("tabIndex",this.tabIndex);(this.focused||a)&&b.focus();m&&m!=b&&(r("webkit")?m.setAttribute("tabIndex","-1"):m.removeAttribute("tabIndex"))},focus:function(){this._setCurrentFocusAttr(this.currentFocus,!0)},_onDayClick:function(d){d.stopPropagation();d.preventDefault();
for(d=d.target;d&&!d.dijitDateValue;d=d.parentNode);d&&!p.contains(d,"dijitCalendarDisabledDate")&&this.set("value",d.dijitDateValue)},_getNodeByDate:function(d){return(d=this._patchDate(d))&&this._date2cell?this._date2cell[d.valueOf()]:null},_markSelectedDates:function(d){function a(d,m){p.toggle(m,"dijitCalendarSelectedDate",d);m.setAttribute("aria-selected",d?"true":"false")}h.forEach(this._selectedCells||[],g.partial(a,!1));this._selectedCells=h.filter(h.map(d,this._getNodeByDate,this),function(d){return d});
h.forEach(this._selectedCells,g.partial(a,!0))},onChange:function(){},isDisabledDate:function(){},getClassForDate:function(){}});w._MonthWidget=e("dijit.CalendarLite._MonthWidget",u,{_setMonthAttr:function(d){var a=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,d),b=6==r("ie")?"":"\x3cdiv class\x3d'dijitSpacer'\x3e"+h.map(a,function(m){return"\x3cdiv\x3e"+m+"\x3c/div\x3e"}).join("")+"\x3c/div\x3e";this.domNode.innerHTML=b+"\x3cdiv class\x3d'dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'\x3e"+
a[d.getMonth()]+"\x3c/div\x3e"}});return w})},"dijit/form/_DateTimeTextBox":function(){define("dojo/date dojo/date/locale dojo/date/stamp dojo/_base/declare dojo/_base/lang ./RangeBoundTextBox ../_HasDropDown dojo/text!./templates/DropDownBox.html".split(" "),function(h,e,l,f,c,a,b,p){new Date("X");return f("dijit.form._DateTimeTextBox",[a,b],{templateString:p,hasDownArrow:!0,cssStateNodes:{_buttonNode:"dijitDownArrowButton"},_unboundedConstraints:{},pattern:e.regexp,datePackage:"",postMixInProperties:function(){this.inherited(arguments);
this._set("type","text")},compare:function(a,b){var c=this._isInvalidDate(a),k=this._isInvalidDate(b);if(c||k)return c&&k?0:!c?1:-1;var c=this.format(a,this._unboundedConstraints),k=this.format(b,this._unboundedConstraints),e=this.parse(c,this._unboundedConstraints),f=this.parse(k,this._unboundedConstraints);return c==k?0:h.compare(e,f,this._selector)},autoWidth:!0,format:function(a,b){return!a?"":this.dateLocaleModule.format(a,b)},parse:function(a,b){return this.dateLocaleModule.parse(a,b)||(this._isEmpty(a)?
null:void 0)},serialize:function(a,b){a.toGregorian&&(a=a.toGregorian());return l.toISOString(a,b)},dropDownDefaultValue:new Date,value:new Date(""),_blankValue:null,popupClass:"",_selector:"",constructor:function(a){a=a||{};this.dateModule=a.datePackage?c.getObject(a.datePackage,!1):h;this.dateClassObj=this.dateModule.Date||Date;this.dateClassObj instanceof Date||(this.value=new this.dateClassObj(this.value));this.dateLocaleModule=a.datePackage?c.getObject(a.datePackage+".locale",!1):e;this._set("pattern",
this.dateLocaleModule.regexp);this._invalidDate=this.constructor.prototype.value.toString()},buildRendering:function(){this.inherited(arguments);this.hasDownArrow||(this._buttonNode.style.display="none");this.hasDownArrow||(this._buttonNode=this.domNode,this.baseClass+=" dijitComboBoxOpenOnClick")},_setConstraintsAttr:function(a){a.selector=this._selector;a.fullYear=!0;var b=l.fromISOString;"string"==typeof a.min&&(a.min=b(a.min),this.dateClassObj instanceof Date||(a.min=new this.dateClassObj(a.min)));
"string"==typeof a.max&&(a.max=b(a.max),this.dateClassObj instanceof Date||(a.max=new this.dateClassObj(a.max)));this.inherited(arguments);this._unboundedConstraints=c.mixin({},this.constraints,{min:null,max:null})},_isInvalidDate:function(a){return!a||isNaN(a)||"object"!=typeof a||a.toString()==this._invalidDate},_setValueAttr:function(a,b,c){void 0!==a&&("string"==typeof a&&(a=l.fromISOString(a)),this._isInvalidDate(a)&&(a=null),a instanceof Date&&!(this.dateClassObj instanceof Date)&&(a=new this.dateClassObj(a)));
this.inherited(arguments,[a,b,c]);this.value instanceof Date&&(this.filterString="");!1!==b&&this.dropDown&&this.dropDown.set("value",a,!1)},_set:function(a,b){if("value"==a){b instanceof Date&&!(this.dateClassObj instanceof Date)&&(b=new this.dateClassObj(b));var c=this._get("value");if(c instanceof this.dateClassObj&&0==this.compare(b,c))return}this.inherited(arguments)},_setDropDownDefaultValueAttr:function(a){this._isInvalidDate(a)&&(a=new this.dateClassObj);this._set("dropDownDefaultValue",a)},
openDropDown:function(a){this.dropDown&&this.dropDown.destroy();var b=c.isString(this.popupClass)?c.getObject(this.popupClass,!1):this.popupClass,e=this,k=this.get("value");this.dropDown=new b({onChange:function(a){e.set("value",a,!0)},id:this.id+"_popup",dir:e.dir,lang:e.lang,value:k,textDir:e.textDir,currentFocus:!this._isInvalidDate(k)?k:this.dropDownDefaultValue,constraints:e.constraints,filterString:e.filterString,datePackage:e.datePackage,isDisabledDate:function(a){return!e.rangeCheck(a,e.constraints)}});
this.inherited(arguments)},_getDisplayedValueAttr:function(){return this.textbox.value},_setDisplayedValueAttr:function(a,b){this._setValueAttr(this.parse(a,this.constraints),b,a)}})})},"dijit/form/TimeTextBox":function(){define(["dojo/_base/declare","dojo/keys","dojo/_base/lang","../_TimePicker","./_DateTimeTextBox"],function(h,e,l,f,c){return h("dijit.form.TimeTextBox",c,{baseClass:"dijitTextBox dijitComboBox dijitTimeTextBox",popupClass:f,_selector:"time",value:new Date(""),maxHeight:-1,openDropDown:function(a){this.inherited(arguments);
this.dropDown.on("input",l.hitch(this,function(){this.set("value",this.dropDown.get("value"),!1)}))},_onInput:function(){this.inherited(arguments);var a=this.get("displayedValue");this.filterString=a&&!this.parse(a,this.constraints)?a.toLowerCase():"";this._opened&&this.closeDropDown();this.openDropDown()}})})},"dijit/_TimePicker":function(){define("dojo/_base/array dojo/date dojo/date/locale dojo/date/stamp dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/_base/kernel dojo/keys dojo/_base/lang dojo/sniff dojo/query dojo/mouse dojo/on ./_WidgetBase ./form/_ListMouseMixin".split(" "),
function(h,e,l,f,c,a,b,p,g,n,r,k,u,s,v,w){return c("dijit._TimePicker",[v,w],{baseClass:"dijitTimePicker",pickerMin:"T00:00:00",pickerMax:"T23:59:59",clickableIncrement:"T00:15:00",visibleIncrement:"T01:00:00",value:new Date,_visibleIncrement:2,_clickableIncrement:1,_totalIncrements:10,constraints:{},serialize:f.toISOString,buildRendering:function(){this.inherited(arguments);this.timeMenu=this.containerNode=this.domNode},setValue:function(d){p.deprecated("dijit._TimePicker:setValue() is deprecated.  Use set('value', ...) instead.",
"","2.0");this.set("value",d)},_setValueAttr:function(d){this._set("value",d);this._showText()},_setFilterStringAttr:function(d){this._set("filterString",d);this._showText()},isDisabledDate:function(){return!1},_getFilteredNodes:function(d,a,b,m){d=this.ownerDocument.createDocumentFragment();for(a=0;a<this._maxIncrement;a++)(b=this._createOption(a))&&d.appendChild(b);return d},_showText:function(){var a=f.fromISOString;this.domNode.innerHTML="";this._clickableIncrementDate=a(this.clickableIncrement);
this._visibleIncrementDate=a(this.visibleIncrement);var b=3600*this._clickableIncrementDate.getHours()+60*this._clickableIncrementDate.getMinutes()+this._clickableIncrementDate.getSeconds(),c=3600*this._visibleIncrementDate.getHours()+60*this._visibleIncrementDate.getMinutes()+this._visibleIncrementDate.getSeconds();(this.value||this.currentFocus).getTime();this._refDate=a(this.pickerMin);this._refDate.setFullYear(1970,0,1);this._clickableIncrement=1;this._visibleIncrement=c/b;a=a(this.pickerMax);
a.setFullYear(1970,0,1);a=0.0010*(a.getTime()-this._refDate.getTime());this._maxIncrement=Math.ceil((a+1)/b);b=this._getFilteredNodes();!b.firstChild&&this.filterString?(this.filterString="",this._showText()):this.domNode.appendChild(b)},constructor:function(){this.constraints={}},postMixInProperties:function(){this.inherited(arguments);this._setConstraintsAttr(this.constraints)},_setConstraintsAttr:function(a){for(var b in{clickableIncrement:1,visibleIncrement:1,pickerMin:1,pickerMax:1})b in a&&
(this[b]=a[b]);a.locale||(a.locale=this.lang)},_createOption:function(a){var c=new Date(this._refDate),k=this._clickableIncrementDate;c.setHours(c.getHours()+k.getHours()*a,c.getMinutes()+k.getMinutes()*a,c.getSeconds()+k.getSeconds()*a);"time"==this.constraints.selector&&c.setFullYear(1970,0,1);var m=l.format(c,this.constraints);if(this.filterString&&0!==m.toLowerCase().indexOf(this.filterString))return null;k=this.ownerDocument.createElement("div");k.className=this.baseClass+"Item";k.date=c;k.idx=
a;b.create("div",{"class":this.baseClass+"ItemInner",innerHTML:m},k);m=1>a%this._visibleIncrement&&-1<a%this._visibleIncrement;a=!m&&!(a%this._clickableIncrement);m?k.className+=" "+this.baseClass+"Marker":a&&(k.className+=" "+this.baseClass+"Tick");this.isDisabledDate(c)&&(k.className+=" "+this.baseClass+"ItemDisabled");this.value&&!e.compare(this.value,c,this.constraints.selector)&&(k.selected=!0,k.className+=" "+this.baseClass+"ItemSelected",this._selectedDiv=k,m?k.className+=" "+this.baseClass+
"MarkerSelected":a&&(k.className+=" "+this.baseClass+"TickSelected"),this._highlightOption(k,!0));return k},onOpen:function(){this.inherited(arguments);this.set("selected",this._selectedDiv)},_onOptionSelected:function(a,b){var c=a.target.date||a.target.parentNode.date;c&&!this.isDisabledDate(c)&&(this._set("value",c),this.emit("input"),b&&(this._highlighted_option=null,this.set("value",c),this.onChange(c)))},onChange:function(){},_highlightOption:function(d,b){if(d){if(b)this._highlighted_option&&
this._highlightOption(this._highlighted_option,!1),this._highlighted_option=d;else{if(this._highlighted_option!==d)return;this._highlighted_option=null}a.toggle(d,this.baseClass+"ItemHover",b);a.contains(d,this.baseClass+"Marker")?a.toggle(d,this.baseClass+"MarkerHover",b):a.toggle(d,this.baseClass+"TickHover",b)}},handleKey:function(a){if(a.keyCode==g.DOWN_ARROW)return this.selectNextNode(),this._onOptionSelected({target:this._highlighted_option},!1),a.stopPropagation(),a.preventDefault(),!1;if(a.keyCode==
g.UP_ARROW)return this.selectPreviousNode(),this._onOptionSelected({target:this._highlighted_option},!1),a.stopPropagation(),a.preventDefault(),!1;if(a.keyCode==g.ENTER||a.keyCode===g.TAB){if(!this._keyboardSelected&&a.keyCode===g.TAB)return!0;this._highlighted_option&&this._onOptionSelected({target:this._highlighted_option},!0);return a.keyCode===g.TAB}},onHover:function(a){this._highlightOption(a,!0)},onUnhover:function(a){this._highlightOption(a,!1)},onSelect:function(a){this._highlightOption(a,
!0)},onDeselect:function(a){this._highlightOption(a,!1)},onClick:function(a){this._onOptionSelected({target:a},!0)}})})},"esri/tasks/LinearUnit":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel"],function(h,e,l,f){return h(null,{declaredClass:"esri.tasks.LinearUnit",constructor:function(c){c&&e.mixin(this,c)},distance:0,units:null,toJson:function(){var c={};this.distance&&(c.distance=this.distance);this.units&&(c.units=this.units);return c}})})},"widgets/Geoprocessing/BaseEditor":function(){define(["dojo/_base/declare",
"dojo/Deferred","dijit/_WidgetBase","dijit/_TemplatedMixin"],function(h,e,l){return h([l],{baseClass:"jimu-gp-editor-base",editorName:"BaseEditor",dependParam:"",postCreate:function(){this.inherited(arguments)},getValue:function(){},getGPValue:function(){var f=new e;f.resolve(this.getValue());return f},wrapGPValue:function(e){if(!e)return e;e.toJson||(e.toJson=function(){return e});return e},wrapValueToDeferred:function(f){var c=new e;c.resolve(f);return c},update:function(e){}})})},"widgets/Geoprocessing/editors/FeatureSetEditorChooser":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/html dojo/on dojo/text!./FeatureSetEditorChooser.html dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin jimu/dijit/SymbolChooser jimu/dijit/CheckBox jimu/utils esri/symbols/jsonUtils ../BaseEditor dijit/form/RadioButton".split(" "),
function(h,e,l,f,c,a,b,p,g,n,r,k){return h([k,a,b],{baseClass:"jimu-gp-editor-base jimu-gp-editor-fsec",templateString:c,editorName:"FeatureSetEditorChooser",postCreate:function(){this.inherited(arguments);this.value={};this.featureSetUrl.set("placeholder",this.nls.urlPlaceholder);this.visibleCheckbox=new g({checked:"url"===this.param.featureSetMode&&this.param.showUrlContent,label:this.nls.showLayerContent,onChange:e.hitch(this,this._viewLayerContent)});this.visibleCheckbox.placeAt(this.visibleCheckboxDiv);
"url"===this.param.featureSetMode&&this.param.featureSetUrl&&this.featureSetUrl.setValue(this.param.featureSetUrl);this.param.featureSetMode&&(l.setAttr(this[this.param.featureSetMode+"Mode"],"checked",!0),f.emit(this[this.param.featureSetMode+"Mode"],"click",{cancelable:!0,bubble:!0}))},getValue:function(){this.featureSetUrl.value&&(this.value.featureSetUrl=this.featureSetUrl.value);this.symbolChooser&&"block"===l.getStyle(this.symbolChooserSection,"display")&&(this.value.symbol=this.symbolChooser.getSymbol().toJson());
"url"===this.value.featureSetMode&&(this.value.showUrlContent=this.visibleCheckbox.getValue());return this.value},_onDrawModeSelect:function(){this._showSymbolChooser();l.setStyle(this.urlOptionsDiv,"display","none");this.value.featureSetMode="draw"},_showSymbolChooser:function(){if(!this.param.defaultValue||!this.param.defaultValue.geometryType)l.setStyle(this.symbolChooserSection,"display","none");else{if(!this.symbolChooser){var a={};this.param.symbol?a.symbol=r.fromJson(this.param.symbol):a.type=
n.getSymbolTypeByGeometryType(this.param.defaultValue.geometryType);this.symbolChooser=new p(a,this.symbolChooserNode);this.symbolChooser.startup()}l.setStyle(this.symbolChooserSection,"display","block")}},_onLayersModeSelect:function(){l.setStyle(this.symbolChooserSection,"display","none");l.setStyle(this.urlOptionsDiv,"display","none");this.value.featureSetMode="layers"},_onFileModeSelect:function(){l.setStyle(this.symbolChooserSection,"display","none");l.setStyle(this.urlOptionsDiv,"display","none");
this.value.featureSetMode="file"},_onUrlModeSelect:function(){l.setStyle(this.urlOptionsDiv,"display","");this.visibleCheckbox.getValue()?this._showSymbolChooser():l.setStyle(this.symbolChooserSection,"display","none");this.value.featureSetMode="url"},_viewLayerContent:function(a){a?this._showSymbolChooser():l.setStyle(this.symbolChooserSection,"display","none")}})})},"dijit/form/RadioButton":function(){define(["dojo/_base/declare","./CheckBox","./_RadioButtonMixin"],function(h,e,l){return h("dijit.form.RadioButton",
[e,l],{baseClass:"dijitRadio"})})},"dijit/form/_RadioButtonMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/_base/lang dojo/query!css2 ../registry".split(" "),function(h,e,l,f,c,a){return e("dijit.form._RadioButtonMixin",null,{type:"radio",_getRelatedWidgets:function(){var b=[];c("input[type\x3dradio]",this.focusNode.form||this.ownerDocument).forEach(f.hitch(this,function(c){c.name==this.name&&c.form==this.focusNode.form&&(c=a.getEnclosingWidget(c))&&b.push(c)}));return b},
_setCheckedAttr:function(a){this.inherited(arguments);this._created&&a&&h.forEach(this._getRelatedWidgets(),f.hitch(this,function(a){a!=this&&a.checked&&a.set("checked",!1)}))},_getSubmitValue:function(a){return null==a?"on":a},_onClick:function(a){if(this.checked||this.disabled)return a.stopPropagation(),a.preventDefault(),!1;if(this.readOnly)return a.stopPropagation(),a.preventDefault(),h.forEach(this._getRelatedWidgets(),f.hitch(this,function(a){l.set(this.focusNode||this.domNode,"checked",a.checked)})),
!1;var c=!1,e;h.some(this._getRelatedWidgets(),function(a){return a.checked?(e=a,!0):!1});this.checked=!0;e&&(e.checked=!1);if(!1===this.onClick(a)||a.defaultPrevented)c=!0;this.checked=!1;e&&(e.checked=!0);c?a.preventDefault():this.set("checked",!0);return!c}})})},"widgets/Geoprocessing/editors/FeatureSetResultEditor":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/text!./FeatureSetResultEditor.html dijit/_TemplatedMixin ../BaseEditor ./FeatureSetRendererEditor jimu/dijit/PopupConfig jimu/dijit/TabContainer jimu/dijit/CheckBox".split(" "),
function(h,e,l,f,c,a,b,p,g,n){return h([a,c],{baseClass:"jimu-gp-editor-base jimu-gp-editor-fsrse",editorName:"FeatureSetResultEditor",templateString:f,featureSetRendererEditor:null,popupConfig:null,tab:null,args:null,constructor:function(a){this.args=e.mixin({},a)},postCreate:function(){this.inherited(arguments);this.tab=new g({tabs:[{title:this.nls.renderer,content:this.rendererTab},{title:this.nls.popup,content:this.popupConfigTab}],isNested:!0});this.tab.placeAt(this.domNode);this.tab.startup();
this.featureSetRendererEditor=new b(this.args);this.featureSetRendererEditor.placeAt(this.rendererTab);this.featureSetRendererEditor.startup();var a={};if(this.args&&this.args.param){this.args.param.defaultValue&&(a.fields=this.args.param.defaultValue.fields);var c=this.args.param.popup;if(c){var e=l.map(c.fields,function(a){return a.name});a.fields=l.map(a.fields,function(a){var b=0<=l.indexOf(e,a.name);a.visible=b;return a});a.title=c.title}}this.popupConfig=new p(a);this.popupConfig.placeAt(this.popupConfigTab);
this.popupConfig.startup();this.enablePopup=new n({checked:!this.args.param.popup||this.args.param.popup&&this.args.param.popup.enablePopup},this.enablePopupNode);this.enablePopup.startup()},destroy:function(){this.featureSetRendererEditor&&(this.featureSetRendererEditor.destroy(),this.featureSetRendererEditor=null);this.popupConfig&&(this.popupConfig.destroy(),this.popupConfig=null);this.inherited(arguments)},getValue:function(){var a={renderer:null,popup:this.popupConfig.getConfig()};a.popup.enablePopup=
this.enablePopup.checked?!0:!1;var b=this.featureSetRendererEditor.getValue();b&&(a.renderer=b.renderer);return a}})})},"widgets/Geoprocessing/editors/FeatureSetRendererEditor":function(){define("dojo/_base/declare dojo/_base/array esri/renderers/jsonUtils jimu/dijit/RendererChooser ../BaseEditor ./simpleEditors".split(" "),function(h,e,l,f,c,a){return h([c],{baseClass:"jimu-gp-editor-base jimu-gp-editor-fsre",editorName:"FeatureSetRendererEditor",postCreate:function(){this.inherited(arguments);var b=
{};if(this.param.renderer)b.renderer=l.fromJson(this.param.renderer);else if(b.type=this._getSymbolType(),!b.type){(new a.UnsupportEditor({message:this.nls.unSupportGeometryType})).placeAt(this.domNode);return}b.fields=e.map(this.param.defaultValue.fields,function(a){return a.name});this.renderer=new f(b);this.renderer.placeAt(this.domNode)},getValue:function(){return this.renderer?{renderer:this.renderer.getRenderer().toJson()}:null},_getSymbolType:function(){switch(this.param.defaultValue.geometryType){case "esriGeometryPoint":case "esriGeometryMultipoint":return"marker";
case "esriGeometryPolyline":return"line";case "esriGeometryPolygon":return"fill"}}})})},"jimu/dijit/RendererChooser":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/RendererChooser.html dojo/_base/lang dojo/_base/html dojo/_base/array dojo/on dojo/query dojox/gfx dojo/_base/Color jimu/symbolUtils jimu/rendererUtils esri/renderers/SimpleRenderer esri/renderers/UniqueValueRenderer esri/renderers/ClassBreaksRenderer esri/symbols/jsonUtils esri/symbols/SimpleMarkerSymbol dijit/form/Select dijit/form/ComboBox dijit/form/NumberSpinner dijit/form/NumberTextBox jimu/dijit/SymbolChooser".split(" "),
function(h,e,l,f,c,a,b,p,g,n,r,k,u,s,v,w,d,z,x){return h([e,l,f],{templateString:c,baseClass:"jimu-renderer-chooser",declaredClass:"jimu.dijit.RendererChooser",renderer:null,type:null,nls:null,fields:[],_uniqueColors:{color1:"#fce138 #fff799 #fcd27e #f1983c #a553b7 #b1a9d0 #6ecffc #4c81cd #fc6f84 #fc3e5a #69f488 #48885c".split(" "),color2:"#102432 #144d59 #ffc754 #ea9010 #a54e1d #661510 #d8341a #b31515 #4a0932 #8c213f #18382e #2c6954".split(" "),color3:"#be9626 #607100 #00734c #704489 #01acca #024e76 #f09100 #ea311f #c6004b #7570b3 #666666 #333333".split(" "),
color4:"#fffa00 #f5cb11 #9fd40c #46e29c #32b8a6 #7ff2fa #ad00f2 #c461ea #eb7200 #e8a784 #bf2e2e #6c7000".split(" "),color5:"#191921 #11495c #78b1c2 #454f4b #8f8f82 #99dbbc #87b051 #f7ec88 #ebdcc1 #dbb658 #c43541 #75351e".split(" "),color6:"#332424 #751555 #d47013 #d68989 #211173 #82aad6 #7bfaeb #6ec9a8 #6b6408 #e9da40 #ccc54a #1fc235".split(" ")},_classBreaksColors:{color1:["#eaf0fd","#03519e"],color2:["#ebf9e7","#046e2e"],color3:["#f5f5f5","#2a2a2a"],color4:["#ffeddd","#a83a00"],color5:["#f2eef6",
"#582890"],color6:["#ffe3d7","#a71713"],color7:["#ecf7fb","#006d2a"],color8:["#edf8fa","#83067e"],color9:["#eef9e8","#0167af"],color10:["#fff1d7","#b80201"],color11:["#f0eef6","#015b90"],color12:["#f5eff7","#006dfa"],color13:["#f1eef7","#9c0042"],color14:["#ffebe2","#7d0078"],color15:["#ffffc9","#016a35"],color16:["#ffffcb","#253197"],color17:["#fffed1","#9e3601"],color18:["#ffffad","#c20120"],color19:["#a9620d","#038772"],color20:["#d3168c","#46ae1b"],color21:["#7c2d96","#048936"],color22:["#eb6300",
"#603b9b"],color23:["#cc0117","#0471b2"],color24:["#ce0118","#424242"],color25:["#db1a10","#287cba"],color26:["#da1baf","#03983e"],color27:["#db1a10","#2483bb"]},_selectedUniqueValueTr:null,_selectedClassBreakTr:null,_isDrawing:!1,_jimuUrl:window.location.protocol+"//"+window.location.host+require.toUrl("jimu"),postMixInProperties:function(){this.nls=window.jimuNls.rendererChooser},postCreate:function(){this.inherited(arguments);this._initFields();this.own(g(this.rendererSelect,"change",a.hitch(this,
this._onRendererSelectChange)));this.own(g(this.btnDefaultSym,"click",a.hitch(this,this._showDefaultSymbol)));this.own(g(this.defaultSymbolChooser,"change",a.hitch(this,this._onDefaultSymbolChange)));this.own(g(this.selectedSymbolChooser,"change",a.hitch(this,this._onSelectedSymbolChange)));this._bindUniqueSettingEvents();this._bindClassBreaksEvents();this.renderer?this.showByRenderer(this.renderer):this.type&&this.showByType(this.type);this._onRendererSelectChange()},getRenderer:function(){var a=
null,d=this.rendererSelect.get("value");if("simple"===d)a=this._getSimpleRenderer();else if("unique"===d)a=this._getUniqueValueRenderer();else if("color"===d||"size"===d)a=this._getClassBreaksRenderer();return a},reset:function(){this.type=this.renderer=null;b.setStyle(this.domNode,"display","none")},showByRenderer:function(a){this.reset();b.setStyle(this.domNode,"display","block");this.renderer=a;this.type=null;this._setDefaultSymbol(this.renderer&&(this.renderer.defaultSymbol||this.renderer.symbol));
this._updateRendererSelect();s.isSimpleRenderer(this.renderer)?this.rendererSelect.set("value","simple"):s.isUniqueValueRenderer(this.renderer)?this._showUniqueValueRenderer(this.renderer):s.isClassBreaksRenderer(this.renderer)?this._showClassBreaksRenderer(this.renderer):this.showByType(this.type);(a=this.defaultSymbolChooser.getSymbol())&&this._onDefaultSymbolChange(a)},showByType:function(a){this.reset();this.type=this.renderer=null;"marker"!==a&&"line"!==a&&"fill"!==a||(b.setStyle(this.domNode,
"display","block"),this.type=a,this.defaultSymbolChooser.showByType(a),this._updateRendererSelect(),(a=this.defaultSymbolChooser.getSymbol())&&this._onDefaultSymbolChange(a))},_setDefaultSymbol:function(a){this.type=null;a&&(u.isSimpleMarkerSymbol(a)||u.isPictureMarkerSymbol(a)?this.type="marker":u.isSimpleLineSymbol(a)?this.type="line":u.isSimpleFillSymbol(a)&&(this.type="fill"),this.type&&this.defaultSymbolChooser.showBySymbol(a))},_onDefaultSymbolChange:function(a){b.empty(this.defaultSymPreviewDiv);
if(a){var d=null;(d=u.isSimpleLineSymbol(a)||u.isCartographicLineSymbol(a)?u.createSymbolNode(a,{width:80,height:30}):u.createSymbolNode(a))&&b.place(d,this.defaultSymPreviewDiv)}},_updateRendererSelect:function(){var a=this.rendererSelect.getOptions("size");"marker"===this.type?a||this.rendererSelect.addOption({value:"size",label:"Size"}):("line"===this.type||"fill"===this.type)&&a&&this.rendererSelect.removeOption(a)},_initFields:function(){if(this.fields&&0<this.fields.length){var m="";p.forEach(this.fields,
a.hitch(this,function(a){a&&"string"===typeof a&&(m||(m=a),this._addField(a))}));m&&!this.fieldComboBox.get("displayedValue")&&this.fieldComboBox.set("displayedValue",m)}},_addField:function(a){this.fieldComboBox.get("store").add({name:a})},_onRendererSelectChange:function(){var a=this.rendererSelect.get("value");"simple"===a?(b.setStyle(this.fieldSelectTr,"display","none"),b.setStyle(this.colorBlockTr,"display","none"),b.setStyle(this.colorBarTr,"display","none"),b.setStyle(this.domainTr,"display",
"none"),b.setStyle(this.classCountTr,"display","none"),b.setStyle(this.uniqueSetting,"display","none"),b.setStyle(this.classBreaksSetting,"display","none"),b.setStyle(this.defaultSymPreview,"display","none"),b.setStyle(this.symbolSizeDomainTr,"display","none")):"unique"===a?(b.setStyle(this.fieldSelectTr,"display","table-row"),b.setStyle(this.colorBlockTr,"display","table-row"),b.setStyle(this.colorBarTr,"display","none"),b.setStyle(this.domainTr,"display","none"),b.setStyle(this.classCountTr,"display",
"none"),b.setStyle(this.uniqueSetting,"display","block"),b.setStyle(this.classBreaksSetting,"display","none"),b.setStyle(this.defaultSymPreview,"display","block"),b.setStyle(this.symbolSizeDomainTr,"display","none"),this._updateUniqueValueDivVisibility()):"color"===a?(b.setStyle(this.fieldSelectTr,"display","table-row"),b.setStyle(this.colorBlockTr,"display","none"),b.setStyle(this.classCountTr,"display","table-row"),b.setStyle(this.domainTr,"display","table-row"),b.setStyle(this.colorBarTr,"display",
"table-row"),b.setStyle(this.uniqueSetting,"display","none"),b.setStyle(this.defaultSymPreview,"display","block"),b.setStyle(this.symbolSizeDomainTr,"display","none"),this._updateClassBreaksSettingVisibility()):"size"===a&&(b.setStyle(this.fieldSelectTr,"display","table-row"),b.setStyle(this.colorBlockTr,"display","none"),b.setStyle(this.colorBarTr,"display","none"),b.setStyle(this.domainTr,"display","table-row"),b.setStyle(this.classCountTr,"display","table-row"),b.setStyle(this.uniqueSetting,"display",
"none"),b.setStyle(this.defaultSymPreview,"display","block"),b.setStyle(this.symbolSizeDomainTr,"display","table-row"),this._updateClassBreaksSettingVisibility())},_showDefaultSymbol:function(){b.setStyle(this.defaultSymSection,"display","block");b.setStyle(this.selectedSymSection,"display","none")},_showSelectedSymbol:function(a){b.setStyle(this.defaultSymSection,"display","none");b.setStyle(this.selectedSymSection,"display","block");var d=this.rendererSelect.get("value");if("simple"===d)b.setStyle(this.uniqueSelectedSymInfoSet,
"display","none"),b.setStyle(this.classBreaksSelectedInfoSet,"display","none");else if("unique"===d)b.setStyle(this.uniqueSelectedSymInfoSet,"display","block"),b.setStyle(this.classBreaksSelectedInfoSet,"display","none");else if("color"===d||"size"===d)b.setStyle(this.uniqueSelectedSymInfoSet,"display","none"),b.setStyle(this.classBreaksSelectedInfoSet,"display","block");this.selectedSymbolChooser.showBySymbol(a)},_onSelectedSymbolChange:function(a){var d=this.rendererSelect.get("value");"unique"===
d?this._onUniqueSelectedSymbolChange(a):"color"===d?this._onClassBreakSelectedSymbolChange(a):"size"===d&&this._onClassBreakSelectedSymbolChange(a)},_cloneSymbol:function(a){if(!a)return null;a=a.toJson();return z.fromJson(a)},_drawSymbolPreview:function(m,d){var c=this._cloneSymbol(d);b.empty(m);var k=80,t=30;if("simplemarkersymbol"===c.type)t=k=Math.min(c.size+12,125);else if("picturemarkersymbol"===c.type){if(!c.url||"http://"===c.url||-1===c.url.indexOf("http://")&&-1===c.url.indexOf("https://")&&
-1===c.url.indexOf("data:"))return;t=k=Math.min(Math.max(c.width,c.height),125)}else if("simplelinesymbol"===c.type||"cartographiclinesymbol"===c.type)k=190,t=20;60<k&&(k=60);var e=r.createSurface(m,k,t);if("vml"===r.renderer){var q=e.getEventSource();b.setStyle(q,"position","relative");b.setStyle(q.parentNode,"position","relative")}var q=null,q=z.getShapeDescriptors(c),g;try{g=e.createShape(q.defaultShape).setFill(q.fill).setStroke(q.stroke)}catch(f){e.clear();e.destroy();return}var c=e.getDimensions(),
c={dx:c.width/2,dy:c.height/2},p=g.getBoundingBox(),q=p.width,p=p.height;if(q>k||p>t)k=((k<t?k:t)-5)/(q>p?q:p),a.mixin(c,{xx:k,yy:k});g.applyTransform(c);return e},_getSimpleRenderer:function(){var a=this.defaultSymbolChooser.getSymbol();return new v(a)},_bindUniqueSettingEvents:function(){this.own(g(this.btnAddUniqueValue,"click",a.hitch(this,this._onAddUniqueValue)));this.own(g(this.uniqueSelectedValue,"change",a.hitch(this,this._onUniqueSelectedValueChange)));this.own(g(this.uniqueSelectedLabel,
"change",a.hitch(this,this._onUniqueSelectedLabelChange)));this.own(g(this.uniqueColorSelect,"change",a.hitch(this,this._onUniqueColorSelectChange)))},_showUniqueValueRenderer:function(d){this.rendererSelect.set("value","unique");this.fieldComboBox.set("displayedValue",d.attributeField);b.empty(this.uniqueSysTbody);p.forEach(d.infos,a.hitch(this,function(a){this._addUniqueValueTr(a.symbol,a.value,a.label||a.value)}))},_getUniqueValueRenderer:function(){var d=this.defaultSymbolChooser.getSymbol(),
b=this.fieldComboBox.get("value"),c=new w(d,b),d=n(".unique-symbol-tr",this.uniqueSysTbody);p.forEach(d,a.hitch(this,function(a){c.addValue({value:a.value,symbol:a.symbol,label:a.label,description:a.label})}));return c},_onUniqueColorSelectChange:function(){var d=this._getSelectedUniqueColors(),b=n(".unique-symbol-tr",this.uniqueSysTbody);p.forEach(b,a.hitch(this,function(a,b){if(a.symbol&&!u.isPictureMarkerSymbol(a.symbol)){a.symbol.setColor(d[b%d.length]);var c=n(".symbol-div",a)[0];this._drawSymbolPreview(c,
a.symbol);this._selectedUniqueValueTr===a&&this._showSelectedSymbol(a.symbol)}}))},_onUniqueSelectedValueChange:function(){var a=this._selectedUniqueValueTr;a&&(a.value=this.uniqueSelectedValue.value,a.label=this.uniqueSelectedLabel.value,n(".label-div",a)[0].innerHTML=a.label)},_onUniqueSelectedLabelChange:function(){var a=this._selectedUniqueValueTr;a&&(a.label=this.uniqueSelectedLabel.value,n(".label-div",a)[0].innerHTML=a.label)},_onUniqueSelectedSymbolChange:function(a){var d=this._selectedUniqueValueTr;
d&&(d.symbol=a,(d=n(".symbol-div",d)[0])&&this._drawSymbolPreview(d,a))},_onAddUniqueValue:function(){var d=a.trim(this.uniqueEditValue.value);if(d){var b=n(".unique-symbol-tr",this.uniqueSysTbody),c=this._getSelectedUniqueColors(),b=this._getUniqueSymbol(c[b.length%c.length]);this._addUniqueValueTr(b,d,d)}this.uniqueEditValue.value=""},_addUniqueValueTr:function(d,c,k){c=a.trim(c);var e=b.toDom('\x3ctr class\x3d"unique-symbol-tr"\x3e\x3ctd class\x3d"symbol-td"\x3e\x3cdiv class\x3d"symbol-div"\x3e\x3c/div\x3e\x3c/td\x3e\x3ctd class\x3d"edit-td"\x3e\x3cdiv wrap class\x3d"label-div"\x3e\x3c/div\x3e\x3c/td\x3e\x3ctd class\x3d"delete-td"\x3e\x3cdiv class\x3d"delete-div jimu-icon jimu-icon-delete"\x3e\x3c/div\x3e\x3c/td\x3e\x3c/tr\x3e');
b.place(e,this.uniqueSysTbody);this._updateUniqueSymTableStyle();var t=n(".symbol-div",e)[0],y=n(".label-div",e)[0],q=n(".delete-div",e)[0];y.innerHTML=c;this.own(g(e,"click",a.hitch(this,function(){this._selectUniqueValueTr(e)})));this.own(g(q,"click",a.hitch(this,function(a){a.stopPropagation();this._selectedUniqueValueTr===e&&(this._selectedUniqueValueTr=null);b.destroy(e);this._updateUniqueSymTableStyle();this._updateUniqueValueDivVisibility()})));this._drawSymbolPreview(t,d);e.symbol=d;e.value=
c;e.label=k;this._selectUniqueValueTr(e);b.setStyle(this.uniqueValueDiv,"display","block")},_selectUniqueValueTr:function(a){n(".unique-symbol-tr",this.uniqueSysTbody).removeClass("selected");b.addClass(a,"selected");this._selectedUniqueValueTr=a;this.uniqueSelectedValue.value=a.value;this.uniqueSelectedLabel.value=a.label;this._showSelectedSymbol(a.symbol)},_updateUniqueSymTableStyle:function(){},_getSelectedUniqueColors:function(){var d=this.uniqueColorSelect.get("value");return p.map(this._uniqueColors[d],
a.hitch(this,function(a){return new k(a)}))},_getUniqueSymbol:function(a){var d=null;if("marker"===this.type)d=new x({style:"esriSMSCircle",color:[0,0,128,128],name:"Circle",outline:{color:[191,151,39,255],width:1},type:"esriSMS",size:18}),d.setColor(a);else if("line"===this.type||"fill"===this.type)d=this.defaultSymbolChooser.getSymbol(),d=z.fromJson(d.toJson()),d.setColor(a);return d},_updateUniqueValueDivVisibility:function(){var a=0===n(".unique-symbol-tr",this.uniqueSysTbody).length?"none":"block";
b.setStyle(this.uniqueValueDiv,"display",a)},_bindClassBreaksEvents:function(){this.own(g(this.minDomain,"change",a.hitch(this,this._updateClassBreaksTable)));this.own(g(this.maxDomain,"change",a.hitch(this,this._updateClassBreaksTable)));this.own(g(this.classCount,"change",a.hitch(this,this._updateClassBreaksTable)));this.own(g(this.selectedFrom,"change",a.hitch(this,this._onSelectedRangeChange)));this.own(g(this.selectedTo,"change",a.hitch(this,this._onSelectedRangeChange)));this.own(g(this.classBreakSelectedLabel,
"change",a.hitch(this,this._onClassBreakSelectedLabelChange)));this.own(g(this.classBreaksColorSelect,"change",a.hitch(this,this._updateClassBreaksTable)));this.own(g(this.minSymbolSize,"change",a.hitch(this,this._updateClassBreaksTable)));this.own(g(this.maxSymbolSize,"change",a.hitch(this,this._updateClassBreaksTable)))},_showClassBreaksRenderer:function(d){this._isDrawing=!0;this.rendererSelect.set("value","color");var c=Infinity,k=-Infinity;this.fieldComboBox.set("displayedValue",d.attributeField);
this.classCount.set("value",d.infos.length);b.empty(this.classBreaksTbody);p.forEach(d.infos,a.hitch(this,function(a){var d=a.minValue,b=a.maxValue;this._addClassBreaksTr(a.symbol,d,b,a.label?a.label:a.minValue+" \u2014\u2014 "+a.maxValue);c=Math.min(c,d);k=Math.max(k,b)}));this.minDomain.set("value",c);this.maxDomain.set("value",k);if("marker"===this.type){var e=Infinity,t=-Infinity;p.forEach(d.infos,a.hitch(this,function(a){a=a.symbol;a=u.isPictureMarkerSymbol(a)?a.width:a.size;e=Math.min(a,e);
t=Math.max(a,t)}));this.minSymbolSize.set("value",e);this.maxSymbolSize.set("value",t);this.minSymSize!==this.maxSymSize&&this.rendererSelect.set("value","size")}var g=this;setTimeout(function(){g._isDrawing=!1},1E3)},_getClassBreaksRenderer:function(){var b=this.defaultSymbolChooser.getSymbol(),c=this.fieldComboBox.get("value"),k=new d(b,c),b=n(".class-breaks-tr",this.classBreaksTbody);p.forEach(b,a.hitch(this,function(a){k.addBreak({minValue:a.from,maxValue:a.to,symbol:a.symbol,label:a.label})}));
return k},_onClassBreakSelectedSymbolChange:function(a){var d=this._selectedClassBreakTr;d&&(d.symbol=a,d=n(".symbol-div",d)[0],this._drawSymbolPreview(d,a))},_onSelectedRangeChange:function(){var a=parseFloat(this.selectedFrom.get("value")),d=parseFloat(this.selectedTo.get("value"));if(a>d){var b=a,a=d,d=b;this.selectedFrom.set("value",a);this.selectedTo.set("value",d)}if(b=this._selectedClassBreakTr)b.from=a,b.to=d,a=a+" \u2014 "+d,b.label=a,this.classBreakSelectedLabel.value=a,n(".label-div",b)[0].innerHTML=
a},_onClassBreakSelectedLabelChange:function(){var a=this._selectedClassBreakTr;if(a){var d=this.classBreakSelectedLabel.value;a.label=d;n(".label-div",a)[0].innerHTML=d}},_updateClassBreaksTable:function(){if(!this._isDrawing){b.setStyle(this.classBreaksSetting,"display","none");b.empty(this.classBreaksTbody);var a=parseFloat(this.minDomain.get("value")),d=parseFloat(this.maxDomain.get("value"));if(a>d){var c=a,a=d,d=c;this.minDomain.set("value",a);this.maxDomain.set("value",d)}else if(a===d)return;
var k=parseFloat(this.minSymbolSize.get("value")),e=parseFloat(this.maxSymbolSize.get("value"));k>e&&(c=k,k=e,e=c,this.minSymbolSize.set("value",k),this.maxSymbolSize.set("value",e));var c=parseInt(this.classCount.get("value"),10),g=(d-a)/c,d=[],q;for(q=0;q<=c;q++){var f=a+g*q,f=parseFloat(f.toFixed(4));d.push(f)}q=this.rendererSelect.get("value");a=[];"color"===q?a=this._createColorClassBreaksSymbols(c):"size"===q&&(a=this._createSizeClassBreaksSymbols(c,k,e));for(q=0;q<c;q++)k=d[q],e=d[q+1],this._addClassBreaksTr(a[q],
k,e,k+" \u2014 "+e);this._updateClassBreaksSettingVisibility()}},_selectClassBreaksTr:function(a){n(".class-breaks-tr",this.classBreaksTbody).removeClass("selected");b.addClass(a,"selected");this._selectedClassBreakTr=a;var d=a.symbol,c=parseFloat(a.from),k=parseFloat(a.to);a=a.label;this.selectedFrom.set("value",c);this.selectedTo.set("value",k);this.classBreakSelectedLabel.value=a;this._showSelectedSymbol(d)},_addClassBreaksTr:function(d,c,k,e){var t=b.toDom('\x3ctr class\x3d"class-breaks-tr"\x3e\x3ctd class\x3d"symbol-td"\x3e\x3cdiv class\x3d"symbol-div"\x3e\x3c/div\x3e\x3c/td\x3e\x3ctd class\x3d"label-td"\x3e\x3cdiv wrap class\x3d"label-div"\x3e\x3c/div\x3e\x3c/td\x3e\x3ctd class\x3d"delete-td"\x3e\x3cdiv class\x3d"delete-div jimu-icon jimu-icon-delete"\x3e\x3c/div\x3e\x3c/td\x3e\x3c/tr\x3e');
b.place(t,this.classBreaksTbody);t.symbol=d;t.from=c;t.to=k;t.label=e;c=n(".symbol-div",t)[0];k=n(".label-div",t)[0];var y=n(".delete-div",t)[0];this._drawSymbolPreview(c,d);k.innerHTML=e;this.own(g(t,"click",a.hitch(this,function(){this._selectClassBreaksTr(t)})));this.own(g(y,"click",a.hitch(this,function(a){a.stopPropagation();this._selectClassBreaksTr===t&&(this._selectClassBreaksTr=null);b.destroy(t);this._updateClassBreaksSettingVisibility()})));this._updateClassBreaksTableStyle();this._showDefaultSymbol();
b.setStyle(this.classBreaksSetting,"display","block")},_updateClassBreaksTableStyle:function(){},_updateClassBreaksSettingVisibility:function(){var a=0===n(".class-breaks-tr",this.classBreaksTbody).length?"none":"block";b.setStyle(this.classBreaksSetting,"display",a)},_createColorClassBreaksSymbols:function(a){for(var d=[],c=this._createClassBreaksColors(a),b=0;b<a;b++){var k=c[b],e=null;if("marker"===this.type)e=new x({style:"esriSMSCircle",color:[0,0,128,128],name:"Circle",outline:{color:[191,151,
39,255],width:1},type:"esriSMS",size:18}),e.setColor(k);else if("line"===this.type||"fill"===this.type)e=this.defaultSymbolChooser.getSymbol(),e=z.fromJson(e.toJson()),e.setColor(k);d.push(e)}return d},_createClassBreaksColors:function(a){for(var d=[],b=this.classBreaksColorSelect.get("value"),c=this._classBreaksColors[b],b=new k(c[0]),e=new k(c[1]),c=Math.floor((e.r-b.r)/a),g=Math.floor((e.g-b.g)/a),e=Math.floor((e.b-b.b)/a),q=0;q<a;q++){var f=new k([b.r+c*q,b.g+g*q,b.b+e*q,255]);d.push(f)}return d},
_createSizeClassBreaksSymbols:function(a,d,b){var c=this.defaultSymbolChooser.getSymbol(),k=[];b=(b-d)/(a-1);for(var e=0;e<a;e++){var g=Math.round(d+b*e),f=c.toJson(),f=z.fromJson(f);u.isPictureMarkerSymbol(f)?(f.setWidth(g),f.setHeight(g)):f.setSize(g);k.push(f)}return k}})})},"jimu/rendererUtils":function(){define(["esri/renderers/jsonUtils"],function(h){return{cloneRenderer:function(e){if(!e)return null;var l=null;try{var f=e.toJson(),l=h.fromJson(f)}catch(c){console.error(c)}return l},isSimpleRenderer:function(e){return e&&
"esri.renderer.SimpleRenderer"===e.declaredClass},isUniqueValueRenderer:function(e){return e&&"esri.renderer.UniqueValueRenderer"===e.declaredClass},isClassBreaksRenderer:function(e){return e&&"esri.renderer.ClassBreaksRenderer"===e.declaredClass},isDotDensityRenderer:function(e){return e&&"esri.renderer.DotDensityRenderer"===e.declaredClass},isScaleDependentRenderer:function(e){return e&&"esri.renderer.ScaleDependentRenderer"===e.declaredClass},isTemporalRenderer:function(e){return e&&"esri.renderer.TemporalRenderer"===
e.declaredClass}}})},"jimu/dijit/PopupConfig":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/PopupConfig.html dojo/_base/lang dojo/_base/html dojo/_base/array esri/request dijit/MenuItem jimu/dijit/SimpleTable dijit/form/TextBox dijit/form/DropDownButton dijit/TooltipDialog dijit/Menu".split(" "),function(h,e,l,f,c,a,b,p,g,n,r){return h([e,l,f],{_def:null,declaredClass:"jimu.dijit.PopupConfig",baseClass:"jimu-dijit-popup-config",
templateString:c,url:null,title:null,fields:null,config:null,showTitle:!0,postMixInProperties:function(){this.nls=window.jimuNls.popupConfig},postCreate:function(){this.inherited(arguments);this._initFieldsTable();this.clear();this.showTitle?(b.setStyle(this.titleTR,"display",""),this.title&&this.titleTextBox.set("value",this.title)):b.setStyle(this.titleTR,"display","none");this.fields?this.setFields(this.fields):this.url&&this.setUrl(this.url)},getConfig:function(){var b={title:a.trim(this.titleTextBox.get("value")),
fields:[]},c=this.fieldsTable.getRows();p.forEach(c,a.hitch(this,function(a){var c=this.fieldsTable.getRowData(a);c.visibility&&b.fields.push({name:c.name,alias:c.alias,type:a.fieldType})}));return b},setUrl:function(b){if("string"===typeof b)return this.url=b=a.trim(b),this.clear(),this._requestLayerInfo(b)},setFields:function(a){a instanceof Array&&this._setFields(a)},clear:function(){this.fieldsTable.clear();this._resetMenu();this._addEmptyMenuItem()},_initFieldsTable:function(){b.empty(this.fieldsTableTd);
this.fieldsTable=new r({fields:[{name:"visibility",title:this.nls.visibility,type:"checkbox"},{name:"name",title:this.nls.name,type:"text",editable:!1},{name:"alias",title:this.nls.alias,type:"text",editable:!0},{name:"actions",title:this.nls.actions,type:"actions",actions:["up","down"]}]});this.fieldsTable.placeAt(this.fieldsTableTd)},_resetMenu:function(){var b=this.menu.getChildren();p.forEach(b,a.hitch(this,function(a){this.menu.removeChild(a)}))},_addEmptyMenuItem:function(){var c=new n({label:this.nls.noField,
onClick:a.hitch(this,function(){var a=this.menu.getParent();b.setStyle(a.domNode.parentNode,"display","none")})});this.menu.addChild(c)},_setFields:function(b){this._resetMenu();this.fields=p.filter(b,function(a){return"esriFieldTypeGeometry"!==a.type});0<this.fields.length?p.forEach(this.fields,a.hitch(this,function(a){this._addMenuItem(a);this._addRow(a)})):this._addEmptyMenuItem()},_requestLayerInfo:function(b){this._def&&this._def.cancel();this._def=g({url:b,content:{f:"json"},handleAs:"json",
callbackParamName:"callback"});this._def.then(a.hitch(this,function(a){a&&a.fields&&this._setFields(a.fields)}),a.hitch(this,function(a){console.error("request layer info failed",a)}));return this._def},_addMenuItem:function(c){var e=new n({label:c.name+" {"+c.name+"}",onClick:a.hitch(this,function(){var a=this.titleTextBox.get("value")+"${"+c.name+"}";this.titleTextBox.set("value",a);a=this.menu.getParent();b.setStyle(a.domNode.parentNode,"display","none")})});this.menu.addChild(e)},_addRow:function(a){var b=
this.fieldsTable.addRow({visibility:!1!==a.visible,name:a.name,alias:a.alias||a.name});b.success&&(b.tr.fieldType=a.type)}})})},"widgets/Geoprocessing/editors/SelectFeatureSetFromUrl":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin jimu/dijit/CheckBox jimu/dijit/LoadingIndicator jimu/dijit/Message esri/tasks/query esri/layers/GraphicsLayer esri/SpatialReference esri/tasks/QueryTask esri/symbols/jsonUtils esri/renderers/SimpleRenderer ./BaseFeatureSetEditor dojo/text!./SelectFeatureSetFromUrl.html jimu/dijit/URLInput".split(" "),
function(h,e,l,f,c,a,b,p,g,n,r,k,u,s,v,w){return h([v,f,c],{baseClass:"jimu-gp-editor-base jimu-gp-editor-url",templateString:w,editorName:"SelectFeatureSetFromUrl",postCreate:function(){this.inherited(arguments);this.inputLayer=new n;if(this.param.symbol){var d=new s(u.fromJson(this.param.symbol));this.inputLayer.setRenderer(d)}this.map.addLayer(this.inputLayer);this.param.featureSetUrl&&this.featureSetUrl.set("value",this.param.featureSetUrl);this.param.showUrlContent&&(this.visibleCheckbox=new a({checked:!1,
label:this.nls.showLayerContent,onChange:e.hitch(this,this.viewLayerContent)}),this.visibleCheckbox.placeAt(this.visibleCheckboxDiv));this.loading=new b({hidden:!0},this.loadingNode);this.loading.startup()},viewLayerContent:function(a){a?this.featureSetUrl.isValid()?(this._showLoading(),a=new g,a.geometry=this.map.extent,a.spatialRelationship=g.SPATIAL_REL_INTERSECTS,a.returnGeometry=!0,a.outFields=["*"],a.outSpatialReference=new r(this.map.spatialReference.wkid),this.queryTask=new k(this.getValue()),
this.queryTask.execute(a,e.hitch(this,this._addToLayer),e.hitch(this,this._queryError))):new p({message:this.nls.invalidUrl}):this.inputLayer.clear()},_showLoading:function(){this.visibleCheckbox.setStatus(!1);this.loading.show()},_hideLoading:function(){this.visibleCheckbox.setStatus(!0);this.loading.hide()},_queryError:function(a){this._hideLoading();new p({message:a.message})},_addToLayer:function(a){l.forEach(a.features,function(a){this.inputLayer.add(a)},this);this._hideLoading()},destroy:function(){this.inputLayer.clear();
this.map.removeLayer(this.inputLayer)},getValue:function(){return 0===this.activeViewIndex?this.featureSetUrl.get("value"):this.getFeatureSet()},getGPValue:function(){if(0===this.activeViewIndex){var a=new g;a.where="1\x3d1";a.returnGeometry=!0;a.outFields=["*"];a.outSpatialReference=new r(this.querySetting.spatialReference.wkid);this.queryTask=new k(this.getValue());return this.queryTask.execute(a)}return this.wrapValueToDeferred(this.getFeatureSet())}})})},"widgets/Geoprocessing/editors/BaseFeatureSetEditor":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/html dojo/on jimu/dijit/ViewStack ../BaseEditor ./SelectFeatureSetFromSelection".split(" "),
function(h,e,l,f,c,a,b){return h([a],{editorName:"BaseFeatureSetEditor",viewStack:null,activeViewIndex:0,postCreate:function(){this.inherited(arguments);this.viewStack=new c({viewType:"dom",views:[this.inputNode,this.featuresetNode]});l.place(this.viewStack.domNode,this.domNode);this.viewStack.startup();this.switchView(0)},switchView:function(a){this.activeViewIndex=a;this.viewStack.switchView(a)},setFeatureSet:function(a,c){a.features&&0<a.features.length&&(l.empty(this.featuresetNode),this.featuresetDijit=
new b({featureset:a,nls:this.nls}),l.place(this.featuresetDijit.domNode,this.featuresetNode),this.featuresetDijit.startup(),this.own(f(this.featuresetDijit,"close",e.hitch(this,function(){this.switchView(0)}))),this.switchView(1))},getFeatureSet:function(){return this.featuresetDijit?this.featuresetDijit.getValue():null}})})},"widgets/Geoprocessing/editors/SelectFeatureSetFromSelection":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/Evented dijit/_TemplatedMixin ../BaseEditor".split(" "),
function(h,e,l,f,c,a){return h([a,c,f],{baseClass:"jimu-gp-editor-selection",templateString:'\x3cdiv\x3e\x3cdiv class\x3d"label"\x3e${nls.useSelectedFeatureset}\x3c/div\x3e\x3cdiv class\x3d"icon" data-dojo-attach-point\x3d"closeBtn" title\x3d"${nls.closeSelectedFeatureset}"\x3e\x3cdiv class\x3d"feature-action icon-close"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',editorName:"SelectFeatureSetFromSelection",postCreate:function(){this.inherited(arguments);this.own(l(this.closeBtn,"click",e.hitch(this,
function(){this.emit("close")})))},getValue:function(){return this.featureset},getGPValue:function(){return this.wrapValueToDeferred(this.featureset)}})})},"widgets/Geoprocessing/editors/SelectFeatureSetFromLayer":function(){define("dojo/_base/declare dojo/Deferred dojo/_base/lang dijit/_TemplatedMixin jimu/dijit/SpatialFilterByFeatures jimu/utils ./BaseFeatureSetEditor dojo/text!./SelectFeatureSetFromLayer.html esri/tasks/query".split(" "),function(h,e,l,f,c,a,b,p,g){return h([b,f],{templateString:p,
editorName:"SelectFeatureSetFromLayer",postCreate:function(){this.inherited(arguments);this.spatialFilterByFeatures=new c({map:this.map,types:this.param.defaultValue&&this.param.defaultValue.geometryType?[a.getTypeByGeometryType(this.param.defaultValue.geometryType)]:["point","polyline","polygon"]});this.spatialFilterByFeatures.placeAt(this.layerChooseNode);this.spatialFilterByFeatures.startup()},setFeatureSet:function(a,b){this.spatialFilterByFeatures.setSelectedLayer(b).then(l.hitch(this,function(){this.spatialFilterByFeatures.checkSelectedFeaturesRadio()}))},
getGPValue:function(){var a=new e;this.spatialFilterByFeatures.getFeatureSet(!0).then(l.hitch(this,function(b){a.resolve(b)}),l.hitch(this,function(b){if(b&&b.type===c.NONE_SELECTED_FEATURES_NOT_DRAW_SHAPES){var e=this.spatialFilterByFeatures.getSelectedLayer();e&&e.url?(b=new g,b.where="1\x3d1",e.queryFeatures(b).then(l.hitch(this,function(b){a.resolve(b)}),l.hitch(this,function(b){a.reject(b)}))):a.reject(b)}else a.reject(b)}));return a}})})},"jimu/dijit/SpatialFilterByFeatures":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/SpatialFilterByFeatures.html dojo/on dojo/Evented dojo/Deferred dojo/_base/html dojo/_base/lang jimu/utils jimu/dijit/Message jimu/dijit/CheckBox jimu/dijit/FeaturelayerChooserFromMap jimu/dijit/LayerChooserFromMapWithDropbox jimu/dijit/SearchDistance jimu/LayerInfos/LayerInfos esri/graphic esri/symbols/jsonUtils esri/layers/GraphicsLayer esri/renderers/SimpleRenderer esri/geometry/geometryEngine jimu/dijit/FeatureSetChooserForSingleLayer".split(" "),
function(h,e,l,f,c,a,b,p,g,n,r,k,u,s,v,w,d,z,x,m,D,C,A){var t=h([e,l,f,b],{baseClass:"jimu-dijit-spatial-filter-features",templateString:c,_bufferLayer:null,_defaultRelationship:"SPATIAL_REL_INTERSECTS",drawBox:null,selectionRadio:null,_selectionHandle:null,layerInfosObj:null,map:null,types:null,enableBuffer:!1,distance:0,unit:"",showLoading:!1,postMixInProperties:function(){this.inherited(arguments);this.nls=window.jimuNls.spatialFilterByFeatures},postCreate:function(){this.inherited(arguments);
this.selectionRadio=new u({label:this.nls.selectedFeatures});this.selectionRadio.placeAt(this.selectionOptionDiv);this.selectionRadio.setStatus(!1);this.own(a(this.selectionRadio,"change",n.hitch(this,this._onRadioChanged)));g.setStyle(this.domNode,"position","relative");var b=x.fromJson({style:"esriSFSSolid",color:[79,129,189,128],type:"esriSFS",outline:{style:"esriSLSSolid",color:[54,93,141,255],width:1.5,type:"esriSLS"}}),b=new D(b);this._bufferLayer=new m;this._bufferLayer.setRenderer(b);this.map.addLayer(this._bufferLayer);
b=new s({createMapResponse:this.map.webMapResponse,types:this.types,showLayerFromFeatureSet:!0,onlyShowVisible:!1,updateWhenLayerInfosIsShowInMapChanged:!0});this.layerChooserFromMapWithDropbox=new v({layerChooser:b});this.layerChooserFromMapWithDropbox.placeAt(this.layerSelectDiv);this.own(a(this.layerChooserFromMapWithDropbox,"selection-change",n.hitch(this,this._onLayerChanged)));this.layerInfosObj=d.getInstanceSync();this.own(a(this.layerInfosObj,"layerInfosIsShowInMapChanged",n.hitch(this,this._onLayerInfosIsShowInMapChanged)));
this.searchDistance=new w({tip:window.jimuNls.searchDistance.applySearchDistanceToFeatures,distance:this.distance,unit:this.unit});this.searchDistance.placeAt(this.searchDistanceDiv);this.enableBuffer?(this.searchDistance.enable(),this.own(a(this.searchDistance,"change",n.hitch(this,this._onSearchDistanceChange)))):(this.searchDistance.disable(),g.setStyle(this.searchDistanceDiv,"display","none"));this._onLayerChanged()},reset:function(a){a&&(this.searchDistance.reset(),this.searchDistance.setDistance(this.distance),
this.searchDistance.setUnit(this.unit));this.clearAllGraphics()},disable:function(a){a&&this._hideAllLayers()},enable:function(){this._showAllLayers()},deactivate:function(){this.featureSetChooserForSingleLayer&&this.featureSetChooserForSingleLayer.deactivate()},clearAllGraphics:function(){this._clearBufferLayer();this.featureSetChooserForSingleLayer&&this.featureSetChooserForSingleLayer.clearAllGraphics()},setSelectedLayer:function(a){return this.layerChooserFromMapWithDropbox.setSelectedLayer(a)},
getSelectedLayer:function(){return this._getSelectedLayerInfomation().layer},checkSelectedFeaturesRadio:function(){this.selectionRadio.getValue()||this.selectionRadio.check()},uncheckSelectedFeaturesRadio:function(){this.selectionRadio.getValue()&&this.selectionRadio.uncheck()},getGeometryInfo:function(a){var d=new p,b={status:null,geometry:null};this._updateBuffer();if(0===this._getSelectedLayerInfomation().type)return b.status=-1,d.resolve(b),d;if(0>this.searchDistance.getData().status)return b.status=
-2,d.resolve(b),d;this._getFeatures(a).then(n.hitch(this,function(){b.geometry=this._updateBuffer();b.status=b.geometry?1:0;d.resolve(b)}),n.hitch(this,function(a){d.reject(a)}));return d},getFeatureSet:function(a){var d=new p,b=null,c=this._getSelectedLayerInfomation().layer;c?this._getFeatures(a).then(n.hitch(this,function(a){b=r.getFeatureSetByLayerAndFeatures(c,a);d.resolve(b)}),n.hitch(this,function(a){d.reject(a)})):d.resolve(b);return d},_getFeatures:function(a){var d=new p,b=[],c=this._getSelectedLayerInfomation(),
e=c.type;0===e?d.resolve(b):this.selectionRadio.getStatus()&&this.selectionRadio.getValue()?(b=c.layer.getSelectedFeatures(),d.resolve(b)):this.featureSetChooserForSingleLayer.isLoading()?d=this.featureSetChooserForSingleLayer.getFeatures():(b=this.featureSetChooserForSingleLayer.syncGetFeatures(),0<b.length?d.resolve(b):3===e?(b=c.layer.graphics,d.resolve(b)):(a||new k({message:this.nls.selectFeaturesOrDrawShapesTip}),d.reject({type:t.NONE_SELECTED_FEATURES_NOT_DRAW_SHAPES,message:this.nls.selectFeaturesOrDrawShapesTip})));
return d},_syncGetFeatures:function(){var a=[],d=this._getSelectedLayerInfomation(),b=d.type;0!==b&&(this.selectionRadio.getStatus()&&this.selectionRadio.getValue()?a=d.layer.getSelectedFeatures():(a=this.featureSetChooserForSingleLayer.syncGetFeatures(),0===a.length&&3===b&&(a=d.layer.graphics)));return a},isLoading:function(){return this.featureSetChooserForSingleLayer&&this.featureSetChooserForSingleLayer.isLoading()},_onLoading:function(){this.showLoading&&this.loading.show();this.emit("loading")},
_onUnloading:function(){this.loading.hide();this.emit("unloading")},_showAllLayers:function(){this._bufferLayer&&this._bufferLayer.show()},_hideAllLayers:function(){this._bufferLayer&&this._bufferLayer.hide()},_onRadioChanged:function(){this.selectionRadio.getValue()&&this.featureSetChooserForSingleLayer&&(this.featureSetChooserForSingleLayer.deactivate(),this.featureSetChooserForSingleLayer.clearAllGraphics());this._updateBuffer()},_getSelectedLayerInfomation:function(){var a=0,d=null,b=null,c=this.layerChooserFromMapWithDropbox.getSelectedItems();
0<c.length&&(d=c[0]);d&&(b=d.layerInfo.layerObject,a=b.url?0<=this.map.graphicsLayerIds.indexOf(b.id)?1:2:3);return{type:a,layerItem:d,layer:b}},_onLayerChanged:function(){this.clearAllGraphics();this._clearSelectionHandle();this._updateSelectedFeaturesCount();this.featureSetChooserForSingleLayer&&this.featureSetChooserForSingleLayer.destroy();this.featureSetChooserForSingleLayer=null;var d=this._getSelectedLayerInfomation();0<d.type&&(this.featureSetChooserForSingleLayer=new A({map:this.map,featureLayer:d.layer,
updateSelection:!1}),this._selectionHandle=a(d.layer,"selection-complete",n.hitch(this,function(){var a=this.selectionRadio.getStatus()&&this.selectionRadio.getValue();this._updateSelectedFeaturesCount();a&&this._updateBuffer()})),this.own(a(this.featureSetChooserForSingleLayer,"user-clear",n.hitch(this,this._onUserClear))),this.own(a(this.featureSetChooserForSingleLayer,"loading",n.hitch(this,n.hitch(this,function(){this._clearBufferLayer();this._onLoading()})))),this.own(a(this.featureSetChooserForSingleLayer,
"unloading",n.hitch(this,n.hitch(this,function(){this._onUnloading();this._updateBuffer()})))),this.featureSetChooserForSingleLayer.placeAt(this.featureSetChooserDiv),this.own(a(this.featureSetChooserForSingleLayer,"draw-activate",n.hitch(this,function(){this.uncheckSelectedFeaturesRadio()}))));this._updateFeatureSetChooserForSingleLayerStatus();this._updateBuffer()},_onLayerInfosIsShowInMapChanged:function(){this._updateFeatureSetChooserForSingleLayerStatus()},_onSearchDistanceChange:function(){this._updateBuffer()},
_updateFeatureSetChooserForSingleLayerStatus:function(){if(this.featureSetChooserForSingleLayer){var a=!1,d=this.featureSetChooserForSingleLayer.getFeatureLayer();(d=this.layerInfosObj.getLayerInfoById(d.id))&&(a=d.isShowInMap());a?(this.featureSetChooserForSingleLayer.enable(),g.removeClass(this.featureSetChooserForSingleLayer.domNode,"not-visible")):(this.featureSetChooserForSingleLayer.disable(),this.featureSetChooserForSingleLayer.clearAllGraphics(),g.addClass(this.featureSetChooserForSingleLayer.domNode,
"not-visible"),this._updateBuffer())}},_updateBuffer:function(){this._clearBufferLayer();var a=this.searchDistance.getData(),d=a.status,b=a.distance,a=a.bufferUnit;if(0>d)return null;var c=this._syncGetFeatures(),c=r.combineGeometriesByGraphics(c);return 0===d?c:c?(c=C.simplify(c),d=C.buffer(c,b,a,!0),b=new z(d),this._bufferLayer.add(b),d):null},_onUserClear:function(){this.clearAllGraphics()},_clearBufferLayer:function(){this._bufferLayer&&this._bufferLayer.clear()},_updateSelectedFeaturesCount:function(){this.selectionRadio.setStatus(!0);
var a=this._getSelectedLayerInfomation(),d=0;if(a.layer&&(a=a.layer.getSelectedFeatures()))d=a.length;0===d?(this.selectionRadio.getValue()&&this.selectionRadio.uncheck(),this.selectionRadio.setStatus(!1),g.addClass(this.selectionOptionDiv,"not-visible")):g.removeClass(this.selectionOptionDiv,"not-visible");this.selectionRadio.setLabel(this.nls.selectedFeatures+(window.isRTL?"\x26rlm;":" ")+"("+d+")")},_clearSelectionHandle:function(){this._selectionHandle&&this._selectionHandle.remove();this._selectionHandle=
null},destroy:function(){this._bufferLayer&&this.map.removeLayer(this._bufferLayer);this._bufferLayer=null;this._clearSelectionHandle();this.inherited(arguments)}});t.NONE_SELECTED_FEATURES_NOT_DRAW_SHAPES="NONE_SELECTED_FEATURES_NOT_DRAW_SHAPES";return t})},"jimu/dijit/FeaturelayerChooserFromMap":function(){define(["dojo/_base/declare","dojo/Deferred","dojo/_base/html","dojo/_base/lang","./LayerChooserFromMap"],function(h,e,l,f,c){return h([c],{baseClass:"jimu-featurelayer-chooser-from-map",declaredClass:"jimu.dijit.FeaturelayerChooserFromMap",
types:null,showLayerFromFeatureSet:!1,showTable:!1,onlyShowVisible:!1,postMixInProperties:function(){this.inherited(arguments);this.basicFilter=f.hitch(this,this.basicFilter);this.filter=c.createFeaturelayerFilter(this.types,this.showLayerFromFeatureSet,this.showTable)},postCreate:function(){this.inherited(arguments);l.addClass(this.domNode,"jimu-basic-layer-chooser-from-map")},basicFilter:function(a){var b=new e;this.onlyShowVisible&&"Table"!==a.getLayerType()?b.resolve(a.isShowInMap()):b.resolve(!0);
return b},getHandledItem:function(a){var b=this.inherited(arguments),c=a&&a.layerInfo,c=c&&c.layerObject;b.url=c&&c.url||"";return b}})})},"jimu/dijit/LayerChooserFromMap":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/Evented dojo/on dojo/store/Memory dojo/Deferred dojo/store/Observable dijit/tree/ObjectStoreModel dojo/promise/all dojo/_base/lang dojo/_base/html dojo/_base/array jimu/utils jimu/dijit/_Tree jimu/LayerInfos/LayerInfos jimu/dijit/LoadingIndicator".split(" "),
function(h,e,l,f,c,a,b,p,g,n,r,k,u,s,v,w,d,z){var x=h([e,l,f,c],{templateString:'\x3cdiv style\x3d"width:100%;"\x3e\x3cdiv data-dojo-attach-point\x3d"errorTipSection" class\x3d"error-tip-section"\x3e\x3cspan class\x3d"jimu-icon jimu-icon-error"\x3e\x3c/span\x3e\x3cspan class\x3d"jimu-state-error-text" data-dojo-attach-point\x3d"errTip"\x3e${nls.noLayersTip}\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e',_store:null,_id:0,_treeClass:"layer-chooser-tree",createMapResponse:null,multiple:!1,onlyShowVisible:!1,
updateWhenLayerInfosIsShowInMapChanged:!1,postMixInProperties:function(){this.nls=window.jimuNls.basicLayerChooserFromMap},postCreate:function(){this.inherited(arguments);u.addClass(this.domNode,"jimu-basic-layer-chooser-from-map");this.multiple=!!this.multiple;this.shelter=new z({hidden:!0});this.shelter.placeAt(this.domNode);this.shelter.startup();this._createTree();this.basicFilter=k.hitch(this,this.basicFilter);this.filter=x.andCombineFilters([this.basicFilter,this.filter]);this.createMapResponse&&
this.setCreateMapResponse(this.createMapResponse)},basicFilter:function(a){var d=new p;this.onlyShowVisible?d.resolve(a.isShowInMap()):d.resolve(!0);return d},filter:function(a){a=new p;a.resolve(!0);return a},getSelectedItems:function(){var a=this.tree.getSelectedItems();return s.map(a,k.hitch(this,function(a){return this.getHandledItem(a)}))},getAllItems:function(){var a=this.tree.getAllItems(),d=[];s.forEach(a,k.hitch(this,function(a){"root"!==a.id&&(a=this.getHandledItem(a),d.push(a))}));return d},
getHandledItem:function(a){return{name:a.name,layerInfo:a.layerInfo}},_isLeafItem:function(a){return a.isLeaf},setCreateMapResponse:function(b){this.createMapResponse=b;d.getInstance(this.createMapResponse.map,this.createMapResponse.itemInfo).then(k.hitch(this,function(d){this.layerInfosObj=d;this.own(a(this.layerInfosObj,"layerInfosChanged",k.hitch(this,this._onLayerInfosChanged)));this.updateWhenLayerInfosIsShowInMapChanged&&this.own(a(this.layerInfosObj,"layerInfosIsShowInMapChanged",k.hitch(this,
this._onLayerInfosIsShowInMapChanged)));this._buildTree(this.layerInfosObj)}))},_onLayerInfosChanged:function(a,d){this._buildTree(this.layerInfosObj);this.emit("update")},_onLayerInfosIsShowInMapChanged:function(a){this._buildTree(this.layerInfosObj);this.emit("update")},_buildTree:function(a){this._clear();u.setStyle(this.errorTipSection,"display","block");var d=a.getLayerInfoArray(),d=d.concat(a.getTableInfoArray());0!==d.length&&(u.setStyle(this.errorTipSection,"display","none"),s.forEach(d,k.hitch(this,
function(a){this._addDirectLayerInfo(a)})))},_addDirectLayerInfo:function(a){a&&a.getLayerObject().then(k.hitch(this,function(){this._addItem("root",a)}),k.hitch(this,function(a){console.error(a)}))},_clear:function(){var a=this._store.query({parent:"root"});s.forEach(a,k.hitch(this,function(a){a&&"root"!==a.id&&this._store.remove(a.id)}))},_addItem:function(a,d){var b=null,c=d.getLayerType(),e=this.filter(d);r({layerType:c,valid:e}).then(k.hitch(this,function(c){if(c.valid){var e=k.hitch(this,function(e,
k){this._id++;b={name:d.title||"",parent:a,layerInfo:d,type:c.layerType,layerClass:d.layerObject.declaredClass,id:this._id.toString(),isLeaf:e,hasChildren:k};this._store.add(b)}),g=d.getSubLayers(),t=0===g.length;t?e(t,!1):(g=s.map(g,k.hitch(this,function(a){return this.filter(a)})),r(g).then(k.hitch(this,function(a){(a=s.some(a,function(a){return a}))&&e(t,a)})))}}))},_getRootItem:function(){return{id:"root",name:"Map Root",type:"root",isLeaf:!1,hasChildren:!0}},_createTree:function(){var a=this._getRootItem(),
a=new b({data:[a],getChildren:function(a){return this.query({parent:a.id})}});this._store=new g(a);a=new n({store:this._store,query:{id:"root"},mayHaveChildren:k.hitch(this,this._mayHaveChildren)});this.tree=new w({multiple:this.multiple,model:a,showRoot:!1,isLeafItem:k.hitch(this,this._isLeafItem),style:{width:"100%"},onOpen:k.hitch(this,function(a,d){"root"!==a.id&&this._onTreeOpen(a,d)}),onClick:k.hitch(this,function(a,d,b){this._onTreeClick(a,d,b);this.emit("tree-click",a,d,b)}),getIconStyle:k.hitch(this,
function(a,d){var b=null;if(!a||"root"===a.id)return null;var c={width:"20px",height:"20px",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundImage:""},e=window.location.protocol+"//"+window.location.host+require.toUrl("jimu"),k=this._getIconImageName(a,d);k&&(c.backgroundImage="url("+e+"/css/images/"+k+")",b=c);return b})});u.addClass(this.tree.domNode,this._treeClass);this.tree.placeAt(this.shelter.domNode,"before")},_mayHaveChildren:function(a){return a.hasChildren},_getIconImageName:function(a,
d){var b="";if("ArcGISDynamicMapServiceLayer"===a.type||"ArcGISTiledMapServiceLayer"===a.type)b=d?"mapserver_open.png":"mapserver_close.png";else if("GroupLayer"===a.type)b=d?"group_layer2.png":"group_layer1.png";else if("FeatureLayer"===a.type){var c=v.getTypeByGeometryType(a.layerInfo.layerObject.geometryType);"point"===c?b="point_layer1.png":"polyline"===c?b="line_layer1.png":"polygon"===c&&(b="polygon_layer1.png")}else b="Table"===a.type?"table.png":"ArcGISImageServiceLayer"===a.type||"ArcGISImageServiceVectorLayer"===
a.type?"image_layer.png":d?"mapserver_open.png":"mapserver_close.png";return b},_onTreeOpen:function(a,d){if("root"!==a.id){var b=[],c=[],b=a.layerInfo.getSubLayers();a.checked||(this.shelter.show(),c=s.map(b,k.hitch(this,function(a){return a.getLayerObject()})),r(c).then(k.hitch(this,function(){this.domNode&&(s.forEach(b,k.hitch(this,function(d){this._addItem(a.id,d)})),a.checked=!0,this.shelter.hide())}),k.hitch(this,function(a){console.error(a);this.shelter.hide()})))}},_onTreeClick:function(a,
d,b){},destroy:function(){this.shelter&&this.shelter.destroy();this.tree&&this.tree.destroy();this.shelter=null;this.tree.destroy();this.inherited(arguments)}});x.createFilterByLayerType=function(a){k.isArrayLike(a)||(a=[]);return function(d){var b=new p;if(0===a.length)b.resolve(!0);else{var c=[];d.traversal(function(a){c.push(a.getLayerType())});r(c).then(function(d){for(var c=0;c<d.length;c++)for(var e=0;e<a.length;e++)if(d[c]===a[e]){b.resolve(!0);return}b.resolve(!1)},function(a){console.error(a);
b.reject(a)})}return b}};x.createFeaturelayerFilter=function(a,d,b){var c=["point","polyline","polygon"];a&&0<a.length?(a=s.filter(a,function(a){return 0<=c.indexOf(a)}),0===a.length&&(a=c)):a=c;return function(c){var e=new p,k=c.getLayerType();c=c.getLayerObject();r({layerType:k,layerObject:c}).then(function(c){var k=c.layerType;c=c.layerObject;"ArcGISDynamicMapServiceLayer"===k?e.resolve(!0):"ArcGISTiledMapServiceLayer"===k?e.resolve(!0):"GroupLayer"===k?e.resolve(!0):"FeatureCollection"===k?e.resolve(!0):
"FeatureLayer"===k?(k=v.getTypeByGeometryType(c.geometryType),k=0<=s.indexOf(a,k),c.url?(c=v.isFeaturelayerUrlSupportQuery(c.url,c.capabilities),e.resolve(k&&c)):e.resolve(d&&k)):"Table"===k?(c=v.isFeaturelayerUrlSupportQuery(c.url,c.capabilities),e.resolve(b&&c)):e.resolve(!1)},function(a){console.log(a);e.reject(a)});return e}};x.createImageServiceLayerFilter=function(a){return function(d){var b=new p,c=d.getLayerType();d=d.getLayerObject();r({layerType:c,layerObject:d}).then(function(d){var c=
d.layerType;"ArcGISImageServiceLayer"===c||"ArcGISImageServiceVectorLayer"===c?a?v.isImageServiceSupportQuery(d.layerObject.capabilities)?b.resolve(!0):b.resolve(!1):b.resolve(!0):b.resolve(!1)},function(a){console.log(a);b.reject(a)});return b}};x.createQueryableLayerFilter=function(){var a=x.createFeaturelayerFilter(["point","polyline","polygon"],!1,!0),d=x.createImageServiceLayerFilter(!0);return x.orCombineFilters([a,d])};x.andCombineFilters=function(a){return x._combineFilters(a,!0)};x.orCombineFilters=
function(a){return x._combineFilters(a,!1)};x._combineFilters=function(a,d){return function(b){var c=new p,e=s.map(a,function(a){return a(b)});r(e).then(function(a){var b=!1,b=d?s.every(a,function(a){return a}):s.some(a,function(a){return a});c.resolve(b)},function(a){console.error(a);c.reject(a)});return c}};return x})},"dojo/store/Observable":function(){define(["../_base/kernel","../_base/lang","../when","../_base/array"],function(h,e,l,f){h=function(c){function a(a,b){var e=c[a];e&&(c[a]=function(g){var f;
"put"===a&&(f=c.getIdentity(g));if(n)return e.apply(this,arguments);n=!0;try{var h=e.apply(this,arguments);l(h,function(a){b("object"==typeof a&&a||g,f)});return h}finally{n=!1}})}var b=[],h=0;c=e.delegate(c);c.notify=function(a,c){h++;for(var e=b.slice(),g=0,f=e.length;g<f;g++)e[g](a,c)};var g=c.query;c.query=function(a,k){k=k||{};var n=g.apply(this,arguments);if(n&&n.forEach){var s=e.mixin({},k);delete s.start;delete s.count;var v=c.queryEngine&&c.queryEngine(a,s),w=h,d=[],z;n.observe=function(a,
e){1==d.push(a)&&b.push(z=function(a,b){l(n,function(g){var l=g.length!=k.count,q,n;if(++w!=h)throw Error("Query is out of date, you must observe() the query prior to any data modifications");var s,u=-1,r=-1;if(void 0!==b){var z=[].concat(g);v&&!a&&(z=v(g));q=0;for(n=g.length;q<n;q++){var x=g[q];if(c.getIdentity(x)==b&&!(0>z.indexOf(x))){s=x;u=q;(v||!a)&&g.splice(q,1);break}}}if(v){if(a&&(v.matches?v.matches(a):v([a]).length))q=-1<u?u:g.length,g.splice(q,0,a),r=f.indexOf(v(g),a),g.splice(q,1),k.start&&
0==r||!l&&r==g.length?r=-1:g.splice(r,0,a)}else a&&(void 0!==b?r=u:k.start||(r=c.defaultIndex||0,g.splice(r,0,a)));if((-1<u||-1<r)&&(e||!v||u!=r)){l=d.slice();for(q=0;g=l[q];q++)g(a||s,u,r)}})});var g={};g.remove=g.cancel=function(){var c=f.indexOf(d,a);-1<c&&(d.splice(c,1),d.length||b.splice(f.indexOf(b,z),1))};return g}}return n};var n;a("put",function(a,b){c.notify(a,b)});a("add",function(a){c.notify(a)});a("remove",function(a){c.notify(void 0,a)});return c};e.setObject("dojo.store.Observable",
h);return h})},"dijit/tree/ObjectStoreModel":function(){define("dojo/_base/array dojo/aspect dojo/_base/declare dojo/Deferred dojo/_base/lang dojo/when ../Destroyable".split(" "),function(h,e,l,f,c,a,b){return l("dijit.tree.ObjectStoreModel",b,{store:null,labelAttr:"name",labelType:"text",root:null,query:null,constructor:function(a){c.mixin(this,a);this.childrenCache={}},getRoot:function(b,e){if(this.root)b(this.root);else{var f=this.store.query(this.query);f.then&&this.own(f);a(f,c.hitch(this,function(a){if(1!=
a.length)throw Error("dijit.tree.ObjectStoreModel: root query returned "+a.length+" items, but must return exactly one");this.root=a[0];b(this.root);f.observe&&f.observe(c.hitch(this,function(a){this.onChange(a)}),!0)}),e)}},mayHaveChildren:function(){return!0},getChildren:function(b,e,f){var h=this.store.getIdentity(b);if(this.childrenCache[h])a(this.childrenCache[h],e,f);else{var k=this.childrenCache[h]=this.store.getChildren(b);k.then&&this.own(k);k.observe&&this.own(k.observe(c.hitch(this,function(e,
g,f){this.onChange(e);g!=f&&a(k,c.hitch(this,"onChildrenChange",b))}),!0));a(k,e,f)}},isItem:function(){return!0},getIdentity:function(a){return this.store.getIdentity(a)},getLabel:function(a){return a[this.labelAttr]},newItem:function(a,b,c,e){return this.store.put(a,{parent:b,before:e})},pasteItem:function(a,b,e,l,k,u){var s=new f;if(b===e&&!l&&!u)return s.resolve(!0),s;b&&!l?this.getChildren(b,c.hitch(this,function(c){c=[].concat(c);var k=h.indexOf(c,a);c.splice(k,1);this.onChildrenChange(b,c);
s.resolve(this.store.put(a,{overwrite:!0,parent:e,oldParent:b,before:u}))})):s.resolve(this.store.put(a,{overwrite:!0,parent:e,oldParent:b,before:u}));return s},onChange:function(){},onChildrenChange:function(){},onDelete:function(){}})})},"jimu/dijit/_Tree":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/_TreeNode.html dojo/_base/lang dojo/_base/html dojo/_base/array dojo/_base/event dojo/query dojo/aspect dojo/on dojo/Evented dijit/registry dijit/Tree jimu/utils".split(" "),
function(h,e,l,f,c,a,b,p,g,n,r,k,u,s,v){var w=h([s._TreeNode,k],{templateString:f,declaredClass:"jimu._TreeNode",isLeaf:!1,groupId:"",postCreate:function(){this.inherited(arguments);a.addClass(this.domNode,"jimu-tree-node");this.isLeaf=!!this.isLeaf;this.groupId?(this.checkNode=a.toDom('\x3cinput type\x3d"radio" /\x3e'),this.checkNode.name=this.groupId):this.checkNode=a.toDom('\x3cinput type\x3d"checkbox" /\x3e');a.addClass(this.checkNode,"jimu-tree-check-node");a.place(this.checkNode,this.contentNode,
"first");this.own(r(this.checkNode,"click",c.hitch(this,this._onClick)));this.isLeaf?this.groupId?a.setStyle(this.checkNode,"display","none"):a.setStyle(this.checkNode,"display","inline"):a.setStyle(this.checkNode,"display","none");this.isLeaf?a.addClass(this.domNode,"jimu-tree-leaf-node"):a.addClass(this.domNode,"jimu-tree-not-leaf-node")},select:function(){this.isLeaf&&(this.checkNode.checked=!0,a.addClass(this.domNode,"jimu-tree-selected-leaf-node"))},unselect:function(){this.isLeaf&&(this.checkNode.checked=
!1,a.removeClass(this.domNode,"jimu-tree-selected-leaf-node"))},toggleSelect:function(){this.isLeaf&&(this.checkNode.checked?this.unselect():this.select())},_onClick:function(a){(a.target||a.srcElement)===this.checkNode?this.tree._onCheckNodeClick(this,this.checkNode.checked,a):this.tree._onClick(this,a)},_onChange:function(){this.isLeaf&&setTimeout(c.hitch(this,function(){this.checkNode.checked?this.emit("tn-select",this):this.emit("tn-unselect",this)}),100)},destroy:function(){delete this.tree;
this.inherited(arguments)}});return h([s,k],{declaredClass:"jimu._Tree",openOnClick:!0,multiple:!0,uniqueId:"",showRoot:!1,postMixInProperties:function(){this.inherited(arguments);this.uniqueId="tree_"+v.getRandomString()},postCreate:function(){this.inherited(arguments);a.addClass(this.domNode,"jimu-tree");this.own(n.before(this,"onClick",c.hitch(this,this._jimuBeforeClick)));this.rootLoadingIndicator&&a.setStyle(this.rootLoadingIndicator,"display","none");this.dndController.singular=!0},removeItem:function(a){this.model.store.remove(a)},
getAllItems:function(){var a=this.getAllTreeNodeWidgets();return b.map(a,c.hitch(this,function(a){var d=a.item;d.selected=a.checkNode.checked;return d}))},getSelectedItems:function(){var a=this.getAllTreeNodeWidgets(),a=b.filter(a,c.hitch(this,function(a){return a.checkNode.checked}));return b.map(a,c.hitch(this,function(a){return a.item}))},getFilteredItems:function(a){var e=this.getAllTreeNodeWidgets(),e=b.map(e,c.hitch(this,function(a){var d=a.item;d.selected=a.checkNode.checked;return d}));return b.filter(e,
c.hitch(this,function(b){return a(b)}))},getTreeNodeByItemId:function(a){for(var b=this._getAllTreeNodeDoms(),c=0;c<b.length;c++){var e=u.byNode(b[c]);if(e.item.id.toString()===a.toString())return e}return null},selectItem:function(a){(a=this.getTreeNodeByItemId(a))&&a.isLeaf&&this.selectNodeWidget(a)},unselectItem:function(a){(a=this.getTreeNodeByItemId(a))&&a.isLeaf&&a.unselect()},getAllLeafTreeNodeWidgets:function(){var a=this.getAllTreeNodeWidgets();return b.filter(a,c.hitch(this,function(a){return a.isLeaf}))},
getAllTreeNodeWidgets:function(){var a=this._getAllTreeNodeDoms();return b.map(a,c.hitch(this,function(a){return u.byNode(a)}))},isLeafItem:function(a){return a&&a.isLeaf},_getAllTreeNodeDoms:function(){return g(".dijitTreeNode",this.domNode)},_createTreeNode:function(a){a.isLeaf=this.isLeafItem(a.item);this.multiple||(a.groupId=this.uniqueId);return new w(a)},_onTreeNodeSelect:function(a){this.emit("item-select",{item:a.item,treeNode:a})},_onTreeNodeUnselect:function(a){this.emit("item-unselect",
{item:a.item,treeNode:a})},selectNodeWidget:function(a){this.multiple||this.unselectAllLeafNodeWidgets();a.select()},_jimuBeforeClick:function(b,c,e){c.isLeaf&&(a.hasClass(e.target||e.srcElement,"jimu-tree-check-node")||(this.multiple?c.toggleSelect():this.selectNodeWidget(c)));return arguments},_onCheckNodeClick:function(a,b,e){!this.multiple&&b&&this.unselectAllLeafNodeWidgets();p.stop(e);this.focusNode(a);setTimeout(c.hitch(this,function(){b?this.selectNodeWidget(a):a.unselect();this.onClick(a.item,
a,e)}),0)},unselectAllLeafNodeWidgets:function(){var a=this.getAllLeafTreeNodeWidgets();b.forEach(a,c.hitch(this,function(a){a.unselect()}))}})})},"dijit/Tree":function(){define("dojo/_base/array dojo/aspect dojo/cookie dojo/_base/declare dojo/Deferred dojo/promise/all dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/errors/create dojo/fx dojo/has dojo/_base/kernel dojo/keys dojo/_base/lang dojo/on dojo/topic dojo/touch dojo/when ./a11yclick ./focus ./registry ./_base/manager ./_Widget ./_TemplatedMixin ./_Container ./_Contained ./_CssStateMixin ./_KeyNavMixin dojo/text!./templates/TreeNode.html dojo/text!./templates/Tree.html ./tree/TreeStoreModel ./tree/ForestStoreModel ./tree/_dndSelector dojo/query!css2".split(" "),
function(h,e,l,f,c,a,b,p,g,n,r,k,u,s,v,w,d,z,x,m,D,C,A,t,y,q,E,B,J,K,L,H,O,M,N){function F(a){return w.delegate(a.promise||a,{addCallback:function(a){this.then(a)},addErrback:function(a){this.otherwise(a)}})}var I=f("dijit._TreeNode",[y,q,E,B,J],{item:null,isTreeNode:!0,label:"",_setLabelAttr:function(a){this.labelNode["html"==this.labelType?"innerHTML":"innerText"in this.labelNode?"innerText":"textContent"]=a;this._set("label",a);u("dojo-bidi")&&this.applyTextDir(this.labelNode)},labelType:"text",
isExpandable:null,isExpanded:!1,state:"NotLoaded",templateString:L,baseClass:"dijitTreeNode",cssStateNodes:{rowNode:"dijitTreeRow"},_setTooltipAttr:{node:"rowNode",type:"attribute",attribute:"title"},buildRendering:function(){this.inherited(arguments);this._setExpando();this._updateItemClasses(this.item);this.isExpandable&&this.labelNode.setAttribute("aria-expanded",this.isExpanded);this.setSelected(!1)},_setIndentAttr:function(a){var b=Math.max(a,0)*this.tree._nodePixelIndent+"px";n.set(this.domNode,
"backgroundPosition",b+" 0px");n.set(this.rowNode,this.isLeftToRight()?"paddingLeft":"paddingRight",b);h.forEach(this.getChildren(),function(b){b.set("indent",a+1)});this._set("indent",a)},markProcessing:function(){this.state="Loading";this._setExpando(!0)},unmarkProcessing:function(){this._setExpando(!1)},_updateItemClasses:function(a){var b=this.tree,d=b.model;b._v10Compat&&a===d.root&&(a=null);this._applyClassAndStyle(a,"icon","Icon");this._applyClassAndStyle(a,"label","Label");this._applyClassAndStyle(a,
"row","Row");this.tree._startPaint(!0)},_applyClassAndStyle:function(a,b,d){var c="_"+b+"Class";b+="Node";var e=this[c];this[c]=this.tree["get"+d+"Class"](a,this.isExpanded);p.replace(this[b],this[c]||"",e||"");n.set(this[b],this.tree["get"+d+"Style"](a,this.isExpanded)||{})},_updateLayout:function(){var a=this.getParent(),a=!a||!a.rowNode||"none"==a.rowNode.style.display;p.toggle(this.domNode,"dijitTreeIsRoot",a);p.toggle(this.domNode,"dijitTreeIsLast",!a&&!this.getNextSibling())},_setExpando:function(a){var b=
["dijitTreeExpandoLoading","dijitTreeExpandoOpened","dijitTreeExpandoClosed","dijitTreeExpandoLeaf"];a=a?0:this.isExpandable?this.isExpanded?1:2:3;p.replace(this.expandoNode,b[a],b);this.expandoNodeText.innerHTML=["*","-","+","*"][a]},expand:function(){if(this._expandDeferred)return F(this._expandDeferred);this._collapseDeferred&&(this._collapseDeferred.cancel(),delete this._collapseDeferred);this.isExpanded=!0;this.labelNode.setAttribute("aria-expanded","true");(this.tree.showRoot||this!==this.tree.rootNode)&&
this.containerNode.setAttribute("role","group");p.add(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);this==this.tree.rootNode&&this.tree.showRoot&&this.tree.domNode.setAttribute("aria-expanded","true");var a=k.wipeIn({node:this.containerNode,duration:t.defaultDuration}),b=this._expandDeferred=new c(function(){a.stop()});e.after(a,"onEnd",function(){b.resolve(!0)},!0);a.play();return F(b)},collapse:function(){if(this._collapseDeferred)return F(this._collapseDeferred);
this._expandDeferred&&(this._expandDeferred.cancel(),delete this._expandDeferred);this.isExpanded=!1;this.labelNode.setAttribute("aria-expanded","false");this==this.tree.rootNode&&this.tree.showRoot&&this.tree.domNode.setAttribute("aria-expanded","false");p.remove(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);var a=k.wipeOut({node:this.containerNode,duration:t.defaultDuration}),b=this._collapseDeferred=new c(function(){a.stop()});e.after(a,"onEnd",
function(){b.resolve(!0)},!0);a.play();return F(b)},indent:0,setChildItems:function(d){var c=this.tree,e=c.model,k=[],g=c.focusedChild,f=this.getChildren();h.forEach(f,function(a){E.prototype.removeChild.call(this,a)},this);this.defer(function(){h.forEach(f,function(a){if(!a._destroyed&&!a.getParent()){c.dndController.removeTreeNode(a);var d=function(a){var b=e.getIdentity(a.item),k=c._itemNodesMap[b];1==k.length?delete c._itemNodesMap[b]:(b=h.indexOf(k,a),-1!=b&&k.splice(b,1));h.forEach(a.getChildren(),
d)};d(a);if(c.persist){var k=h.map(a.getTreePath(),function(a){return c.model.getIdentity(a)}).join("/"),f;for(f in c._openedNodes)f.substr(0,k.length)==k&&delete c._openedNodes[f];c._saveExpandedNodes()}c.lastFocusedChild&&!b.isDescendant(c.lastFocusedChild,c.domNode)&&delete c.lastFocusedChild;g&&!b.isDescendant(g,c.domNode)&&c.focus();a.destroyRecursive()}})});this.state="Loaded";d&&0<d.length?(this.isExpandable=!0,h.forEach(d,function(a){var b=e.getIdentity(a),d=c._itemNodesMap[b],g;if(d)for(var f=
0;f<d.length;f++)if(d[f]&&!d[f].getParent()){g=d[f];g.set("indent",this.indent+1);break}g||(g=this.tree._createTreeNode({item:a,tree:c,isExpandable:e.mayHaveChildren(a),label:c.getLabel(a),labelType:c.model&&c.model.labelType||"text",tooltip:c.getTooltip(a),ownerDocument:c.ownerDocument,dir:c.dir,lang:c.lang,textDir:c.textDir,indent:this.indent+1}),d?d.push(g):c._itemNodesMap[b]=[g]);this.addChild(g);(this.tree.autoExpand||this.tree._state(g))&&k.push(c._expandNode(g))},this),h.forEach(this.getChildren(),
function(a){a._updateLayout()})):this.isExpandable=!1;this._setExpando&&this._setExpando(!1);this._updateItemClasses(this.item);d=a(k);this.tree._startPaint(d);return F(d)},getTreePath:function(){for(var a=this,b=[];a&&a!==this.tree.rootNode;)b.unshift(a.item),a=a.getParent();b.unshift(this.tree.rootNode.item);return b},getIdentity:function(){return this.tree.model.getIdentity(this.item)},removeChild:function(a){this.inherited(arguments);var b=this.getChildren();0==b.length&&(this.isExpandable=!1,
this.collapse());h.forEach(b,function(a){a._updateLayout()})},makeExpandable:function(){this.isExpandable=!0;this._setExpando(!1)},setSelected:function(a){this.labelNode.setAttribute("aria-selected",a?"true":"false");p.toggle(this.rowNode,"dijitTreeRowSelected",a)},focus:function(){C.focus(this.focusNode)}});u("dojo-bidi")&&I.extend({_setTextDirAttr:function(a){if(a&&(this.textDir!=a||!this._created))this._set("textDir",a),this.applyTextDir(this.labelNode),h.forEach(this.getChildren(),function(b){b.set("textDir",
a)},this)}});var G=f("dijit.Tree",[y,K,q,J],{baseClass:"dijitTree",store:null,model:null,query:null,label:"",showRoot:!0,childrenAttr:["children"],paths:[],path:[],selectedItems:null,selectedItem:null,openOnClick:!1,openOnDblClick:!1,templateString:H,persist:!1,autoExpand:!1,dndController:N,dndParams:"onDndDrop itemCreator onDndCancel checkAcceptance checkItemAcceptance dragThreshold betweenThreshold".split(" "),onDndDrop:null,itemCreator:null,onDndCancel:null,checkAcceptance:null,checkItemAcceptance:null,
dragThreshold:5,betweenThreshold:0,_nodePixelIndent:19,_publish:function(a,b){z.publish(this.id,w.mixin({tree:this,event:a},b||{}))},postMixInProperties:function(){this.tree=this;this.autoExpand&&(this.persist=!1);this._itemNodesMap={};!this.cookieName&&this.id&&(this.cookieName=this.id+"SaveStateCookie");this.expandChildrenDeferred=new c;this.pendingCommandsPromise=this.expandChildrenDeferred.promise;this.inherited(arguments)},postCreate:function(){this._initState();var a=this;this.own(d(this.containerNode,
d.selector(".dijitTreeNode",x.enter),function(b){a._onNodeMouseEnter(A.byNode(this),b)}),d(this.containerNode,d.selector(".dijitTreeNode",x.leave),function(b){a._onNodeMouseLeave(A.byNode(this),b)}),d(this.containerNode,d.selector(".dijitTreeRow",D.press),function(b){a._onNodePress(A.getEnclosingWidget(this),b)}),d(this.containerNode,d.selector(".dijitTreeRow",D),function(b){a._onClick(A.getEnclosingWidget(this),b)}),d(this.containerNode,d.selector(".dijitTreeRow","dblclick"),function(b){a._onDblClick(A.getEnclosingWidget(this),
b)}));this.model||this._store2model();this.own(e.after(this.model,"onChange",w.hitch(this,"_onItemChange"),!0),e.after(this.model,"onChildrenChange",w.hitch(this,"_onItemChildrenChange"),!0),e.after(this.model,"onDelete",w.hitch(this,"_onItemDelete"),!0));this.inherited(arguments);if(this.dndController){w.isString(this.dndController)&&(this.dndController=w.getObject(this.dndController));for(var b={},c=0;c<this.dndParams.length;c++)this[this.dndParams[c]]&&(b[this.dndParams[c]]=this[this.dndParams[c]]);
this.dndController=new this.dndController(this,b)}this._load();this.onLoadDeferred=F(this.pendingCommandsPromise);this.onLoadDeferred.then(w.hitch(this,"onLoad"))},_store2model:function(){this._v10Compat=!0;s.deprecated("Tree: from version 2.0, should specify a model object rather than a store/query");var a={id:this.id+"_ForestStoreModel",store:this.store,query:this.query,childrenAttrs:this.childrenAttr};this.params.mayHaveChildren&&(a.mayHaveChildren=w.hitch(this,"mayHaveChildren"));this.params.getItemChildren&&
(a.getChildren=w.hitch(this,function(a,b,d){this.getItemChildren(this._v10Compat&&a===this.model.root?null:a,b,d)}));this.model=new M(a);this.showRoot=Boolean(this.label)},onLoad:function(){},_load:function(){this.model.getRoot(w.hitch(this,function(a){var b=this.rootNode=this.tree._createTreeNode({item:a,tree:this,isExpandable:!0,label:this.label||this.getLabel(a),labelType:this.model.labelType||"text",textDir:this.textDir,indent:this.showRoot?0:-1});this.showRoot?(this.domNode.setAttribute("aria-multiselectable",
!this.dndController.singular),this.rootLoadingIndicator.style.display="none"):(b.rowNode.style.display="none",this.domNode.setAttribute("role","presentation"),this.domNode.removeAttribute("aria-expanded"),this.domNode.removeAttribute("aria-multiselectable"),this["aria-label"]?(b.containerNode.setAttribute("aria-label",this["aria-label"]),this.domNode.removeAttribute("aria-label")):this["aria-labelledby"]&&(b.containerNode.setAttribute("aria-labelledby",this["aria-labelledby"]),this.domNode.removeAttribute("aria-labelledby")),
b.labelNode.setAttribute("role","presentation"),b.labelNode.removeAttribute("aria-selected"),b.containerNode.setAttribute("role","tree"),b.containerNode.setAttribute("aria-expanded","true"),b.containerNode.setAttribute("aria-multiselectable",!this.dndController.singular));this.containerNode.appendChild(b.domNode);a=this.model.getIdentity(a);this._itemNodesMap[a]?this._itemNodesMap[a].push(b):this._itemNodesMap[a]=[b];b._updateLayout();this._expandNode(b).then(w.hitch(this,function(){this._destroyed||
(this.rootLoadingIndicator.style.display="none",this.expandChildrenDeferred.resolve(!0))}))}),w.hitch(this,function(a){console.error(this,": error loading root: ",a)}))},getNodesByItem:function(a){if(!a)return[];a=w.isString(a)?a:this.model.getIdentity(a);return[].concat(this._itemNodesMap[a])},_setSelectedItemAttr:function(a){this.set("selectedItems",[a])},_setSelectedItemsAttr:function(a){var b=this;return this.pendingCommandsPromise=this.pendingCommandsPromise.always(w.hitch(this,function(){var d=
h.map(a,function(a){return!a||w.isString(a)?a:b.model.getIdentity(a)}),c=[];h.forEach(d,function(a){c=c.concat(b._itemNodesMap[a]||[])});this.set("selectedNodes",c)}))},_setPathAttr:function(a){return a.length?F(this.set("paths",[a]).then(function(a){return a[0]})):F(this.set("paths",[]).then(function(a){return a[0]}))},_setPathsAttr:function(b){function d(a,b){var e=a.shift(),k=h.filter(b,function(a){return a.getIdentity()==e})[0];if(k)return a.length?c._expandNode(k).then(function(){return d(a,
k.getChildren())}):k;throw new G.PathError("Could not expand path at "+e);}var c=this;return F(this.pendingCommandsPromise=this.pendingCommandsPromise.always(function(){return a(h.map(b,function(a){a=h.map(a,function(a){return a&&w.isObject(a)?c.model.getIdentity(a):a});if(a.length)return d(a,[c.rootNode]);throw new G.PathError("Empty path");}))}).then(function(a){c.set("selectedNodes",a);return c.paths}))},_setSelectedNodeAttr:function(a){this.set("selectedNodes",[a])},_setSelectedNodesAttr:function(a){this.dndController.setSelection(a)},
expandAll:function(){function b(c){return d._expandNode(c).then(function(){var d=h.filter(c.getChildren()||[],function(a){return a.isExpandable});return a(h.map(d,b))})}var d=this;return F(b(this.rootNode))},collapseAll:function(){function b(c){var e=h.filter(c.getChildren()||[],function(a){return a.isExpandable}),e=a(h.map(e,b));return!c.isExpanded||c==d.rootNode&&!d.showRoot?e:e.then(function(){return d._collapseNode(c)})}var d=this;return F(b(this.rootNode))},mayHaveChildren:function(){},getItemChildren:function(){},
getLabel:function(a){return this.model.getLabel(a)},getIconClass:function(a,b){return!a||this.model.mayHaveChildren(a)?b?"dijitFolderOpened":"dijitFolderClosed":"dijitLeaf"},getLabelClass:function(){},getRowClass:function(){},getIconStyle:function(){},getLabelStyle:function(){},getRowStyle:function(){},getTooltip:function(){return""},_onDownArrow:function(a,b){var d=this._getNext(b);d&&d.isTreeNode&&this.focusNode(d)},_onUpArrow:function(a,b){var d=b.getPreviousSibling();if(d)for(b=d;b.isExpandable&&
b.isExpanded&&b.hasChildren();)d=b.getChildren(),b=d[d.length-1];else if(d=b.getParent(),this.showRoot||d!==this.rootNode)b=d;b&&b.isTreeNode&&this.focusNode(b)},_onRightArrow:function(a,b){b.isExpandable&&!b.isExpanded?this._expandNode(b):b.hasChildren()&&(b=b.getChildren()[0])&&b.isTreeNode&&this.focusNode(b)},_onLeftArrow:function(a,b){if(b.isExpandable&&b.isExpanded)this._collapseNode(b);else{var d=b.getParent();d&&(d.isTreeNode&&(this.showRoot||d!==this.rootNode))&&this.focusNode(d)}},focusLastChild:function(){var a=
this._getLast();a&&a.isTreeNode&&this.focusNode(a)},_getFirst:function(){return this.showRoot?this.rootNode:this.rootNode.getChildren()[0]},_getLast:function(){for(var a=this.rootNode;a.isExpanded;){var b=a.getChildren();if(!b.length)break;a=b[b.length-1]}return a},_getNext:function(a){if(a.isExpandable&&a.isExpanded&&a.hasChildren())return a.getChildren()[0];for(;a&&a.isTreeNode;){var b=a.getNextSibling();if(b)return b;a=a.getParent()}return null},childSelector:".dijitTreeRow",isExpandoNode:function(a,
d){return b.isDescendant(a,d.expandoNode)||b.isDescendant(a,d.expandoNodeText)},_onNodePress:function(a,b){this.focusNode(a)},__click:function(a,b,d,c){var e=this.isExpandoNode(b.target,a);a.isExpandable&&(d||e)?this._onExpandoClick({node:a}):(this._publish("execute",{item:a.item,node:a,evt:b}),this[c](a.item,a,b),this.focusNode(a));b.stopPropagation();b.preventDefault()},_onClick:function(a,b){this.__click(a,b,this.openOnClick,"onClick")},_onDblClick:function(a,b){this.__click(a,b,this.openOnDblClick,
"onDblClick")},_onExpandoClick:function(a){a=a.node;this.focusNode(a);a.isExpanded?this._collapseNode(a):this._expandNode(a)},onClick:function(){},onDblClick:function(){},onOpen:function(){},onClose:function(){},_getNextNode:function(a){s.deprecated(this.declaredClass+"::_getNextNode(node) is deprecated. Use _getNext(node) instead.","","2.0");return this._getNext(a)},_getRootOrFirstNode:function(){s.deprecated(this.declaredClass+"::_getRootOrFirstNode() is deprecated. Use _getFirst() instead.","",
"2.0");return this._getFirst()},_collapseNode:function(a){a._expandNodeDeferred&&delete a._expandNodeDeferred;if("Loading"!=a.state&&a.isExpanded){var b=a.collapse();this.onClose(a.item,a);this._state(a,!1);this._startPaint(b);return b}},_expandNode:function(a){if(a._expandNodeDeferred)return a._expandNodeDeferred;var b=this.model,d=a.item,e=this;a._loadDeferred||(a.markProcessing(),a._loadDeferred=new c,b.getChildren(d,function(b){a.unmarkProcessing();a.setChildItems(b).then(function(){a._loadDeferred.resolve(b)})},
function(b){console.error(e,": error loading "+a.label+" children: ",b);a._loadDeferred.reject(b)}));b=a._loadDeferred.then(w.hitch(this,function(){var b=a.expand();this.onOpen(a.item,a);this._state(a,!0);return b}));this._startPaint(b);return b},focusNode:function(a){var b=this.domNode.scrollLeft;this.focusChild(a);this.domNode.scrollLeft=b},_onNodeMouseEnter:function(){},_onNodeMouseLeave:function(){},_onItemChange:function(a){var b=this.model.getIdentity(a);if(b=this._itemNodesMap[b]){var d=this.getLabel(a),
c=this.getTooltip(a);h.forEach(b,function(b){b.set({item:a,label:d,tooltip:c});b._updateItemClasses(a)})}},_onItemChildrenChange:function(a,b){var d=this.model.getIdentity(a);(d=this._itemNodesMap[d])&&h.forEach(d,function(a){a.setChildItems(b)})},_onItemDelete:function(a){a=this.model.getIdentity(a);var d=this._itemNodesMap[a];d&&(h.forEach(d,function(a){this.dndController.removeTreeNode(a);var d=a.getParent();d&&d.removeChild(a);this.lastFocusedChild&&!b.isDescendant(this.lastFocusedChild,this.domNode)&&
delete this.lastFocusedChild;this.focusedChild&&!b.isDescendant(this.focusedChild,this.domNode)&&this.focus();a.destroyRecursive()},this),delete this._itemNodesMap[a])},_initState:function(){this._openedNodes={};if(this.persist&&this.cookieName){var a=l(this.cookieName);a&&h.forEach(a.split(","),function(a){this._openedNodes[a]=!0},this)}},_state:function(a,b){if(!this.persist)return!1;var d=h.map(a.getTreePath(),function(a){return this.model.getIdentity(a)},this).join("/");if(1===arguments.length)return this._openedNodes[d];
b?this._openedNodes[d]=!0:delete this._openedNodes[d];this._saveExpandedNodes()},_saveExpandedNodes:function(){if(this.persist&&this.cookieName){var a=[],b;for(b in this._openedNodes)a.push(b);l(this.cookieName,a.join(","),{expires:365})}},destroy:function(){this._curSearch&&(this._curSearch.timer.remove(),delete this._curSearch);this.rootNode&&this.rootNode.destroyRecursive();this.dndController&&!w.isString(this.dndController)&&this.dndController.destroy();this.rootNode=null;this.inherited(arguments)},
destroyRecursive:function(){this.destroy()},resize:function(a){a&&g.setMarginBox(this.domNode,a);this._nodePixelIndent=g.position(this.tree.indentDetector).w||this._nodePixelIndent;this.expandChildrenDeferred.then(w.hitch(this,function(){this.rootNode.set("indent",this.showRoot?0:-1);this._adjustWidths()}))},_outstandingPaintOperations:0,_startPaint:function(a){this._outstandingPaintOperations++;this._adjustWidthsTimer&&(this._adjustWidthsTimer.remove(),delete this._adjustWidthsTimer);var b=w.hitch(this,
function(){this._outstandingPaintOperations--;0>=this._outstandingPaintOperations&&(!this._adjustWidthsTimer&&this._started)&&(this._adjustWidthsTimer=this.defer("_adjustWidths"))});m(a,b,b)},_adjustWidths:function(){this._adjustWidthsTimer&&(this._adjustWidthsTimer.remove(),delete this._adjustWidthsTimer);this.containerNode.style.width="auto";this.containerNode.style.width=this.domNode.scrollWidth>this.domNode.offsetWidth?"auto":"100%"},_createTreeNode:function(a){return new I(a)},focus:function(){this.lastFocusedChild?
this.focusNode(this.lastFocusedChild):this.focusFirstChild()}});u("dojo-bidi")&&G.extend({_setTextDirAttr:function(a){a&&this.textDir!=a&&(this._set("textDir",a),this.rootNode.set("textDir",a))}});G.PathError=r("TreePathError");G._TreeNode=I;return G})},"dijit/tree/TreeStoreModel":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang"],function(h,e,l,f){return l("dijit.tree.TreeStoreModel",null,{store:null,childrenAttrs:["children"],newItemIdAttr:"id",labelAttr:"",
root:null,query:null,deferItemLoadingUntilExpand:!1,constructor:function(c){f.mixin(this,c);this.connects=[];c=this.store;if(!c.getFeatures()["dojo.data.api.Identity"])throw Error("dijit.tree.TreeStoreModel: store must support dojo.data.Identity");c.getFeatures()["dojo.data.api.Notification"]&&(this.connects=this.connects.concat([e.after(c,"onNew",f.hitch(this,"onNewItem"),!0),e.after(c,"onDelete",f.hitch(this,"onDeleteItem"),!0),e.after(c,"onSet",f.hitch(this,"onSetItem"),!0)]))},destroy:function(){for(var c;c=
this.connects.pop();)c.remove()},getRoot:function(c,a){this.root?c(this.root):this.store.fetch({query:this.query,onComplete:f.hitch(this,function(a){if(1!=a.length)throw Error("dijit.tree.TreeStoreModel: root query returned "+a.length+" items, but must return exactly one");this.root=a[0];c(this.root)}),onError:a})},mayHaveChildren:function(c){return h.some(this.childrenAttrs,function(a){return this.store.hasAttribute(c,a)},this)},getChildren:function(c,a,b){var e=this.store;if(e.isItemLoaded(c)){for(var g=
[],l=0;l<this.childrenAttrs.length;l++)var r=e.getValues(c,this.childrenAttrs[l]),g=g.concat(r);var k=0;this.deferItemLoadingUntilExpand||h.forEach(g,function(a){e.isItemLoaded(a)||k++});0==k?a(g):h.forEach(g,function(c,f){e.isItemLoaded(c)||e.loadItem({item:c,onItem:function(b){g[f]=b;0==--k&&a(g)},onError:b})})}else{var u=f.hitch(this,arguments.callee);e.loadItem({item:c,onItem:function(c){u(c,a,b)},onError:b})}},isItem:function(c){return this.store.isItem(c)},fetchItemByIdentity:function(c){this.store.fetchItemByIdentity(c)},
getIdentity:function(c){return this.store.getIdentity(c)},getLabel:function(c){return this.labelAttr?this.store.getValue(c,this.labelAttr):this.store.getLabel(c)},newItem:function(c,a,b){var e={parent:a,attribute:this.childrenAttrs[0]},g;this.newItemIdAttr&&c[this.newItemIdAttr]?this.fetchItemByIdentity({identity:c[this.newItemIdAttr],scope:this,onItem:function(f){f?this.pasteItem(f,null,a,!0,b):(g=this.store.newItem(c,e))&&void 0!=b&&this.pasteItem(g,a,a,!1,b)}}):(g=this.store.newItem(c,e))&&void 0!=
b&&this.pasteItem(g,a,a,!1,b)},pasteItem:function(c,a,b,e,g){var f=this.store,l=this.childrenAttrs[0];a&&h.forEach(this.childrenAttrs,function(b){if(f.containsValue(a,b,c)){if(!e){var k=h.filter(f.getValues(a,b),function(a){return a!=c});f.setValues(a,b,k)}l=b}});if(b)if("number"==typeof g){var k=f.getValues(b,l).slice();k.splice(g,0,c);f.setValues(b,l,k)}else f.setValues(b,l,f.getValues(b,l).concat(c))},onChange:function(){},onChildrenChange:function(){},onDelete:function(){},onNewItem:function(c,
a){a&&this.getChildren(a.item,f.hitch(this,function(b){this.onChildrenChange(a.item,b)}))},onDeleteItem:function(c){this.onDelete(c)},onSetItem:function(c,a){if(-1!=h.indexOf(this.childrenAttrs,a))this.getChildren(c,f.hitch(this,function(a){this.onChildrenChange(c,a)}));else this.onChange(c)}})})},"dijit/tree/ForestStoreModel":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","./TreeStoreModel"],function(h,e,l,f,c){return e("dijit.tree.ForestStoreModel",
c,{rootId:"$root$",rootLabel:"ROOT",query:null,constructor:function(a){this.root={store:this,root:!0,id:a.rootId,label:a.rootLabel,children:a.rootChildren}},mayHaveChildren:function(a){return a===this.root||this.inherited(arguments)},getChildren:function(a,b,c){a===this.root?this.root.children?b(this.root.children):this.store.fetch({query:this.query,onComplete:f.hitch(this,function(a){this.root.children=a;b(a)}),onError:c}):this.inherited(arguments)},isItem:function(a){return a===this.root?!0:this.inherited(arguments)},
fetchItemByIdentity:function(a){if(a.identity==this.root.id){var b=a.scope||l.global;a.onItem&&a.onItem.call(b,this.root)}else this.inherited(arguments)},getIdentity:function(a){return a===this.root?this.root.id:this.inherited(arguments)},getLabel:function(a){return a===this.root?this.root.label:this.inherited(arguments)},newItem:function(a,b,c){return b===this.root?(this.onNewRootItem(a),this.store.newItem(a)):this.inherited(arguments)},onNewRootItem:function(){},pasteItem:function(a,b,c,e,f){if(b===
this.root&&!e)this.onLeaveRoot(a);this.inherited(arguments,[a,b===this.root?null:b,c===this.root?null:c,e,f]);if(c===this.root)this.onAddToRoot(a)},onAddToRoot:function(a){console.log(this,": item ",a," added to root")},onLeaveRoot:function(a){console.log(this,": item ",a," removed from root")},_requeryTop:function(){var a=this.root.children||[];this.store.fetch({query:this.query,onComplete:f.hitch(this,function(b){this.root.children=b;if(a.length!=b.length||h.some(a,function(a,c){return b[c]!=a}))this.onChildrenChange(this.root,
b)})})},onNewItem:function(a,b){this._requeryTop();this.inherited(arguments)},onDeleteItem:function(a){-1!=h.indexOf(this.root.children,a)&&this._requeryTop();this.inherited(arguments)},onSetItem:function(a,b,c,e){this._requeryTop();this.inherited(arguments)}})})},"dijit/tree/_dndSelector":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/dnd/common dojo/dom dojo/mouse dojo/on dojo/touch ../a11yclick ./_dndContainer".split(" "),function(h,e,l,f,c,a,b,p,
g,n,r){return e("dijit.tree._dndSelector",r,{constructor:function(){this.selection={};this.anchor=null;this.events.push(p(this.tree.domNode,g.press,f.hitch(this,"onMouseDown")),p(this.tree.domNode,g.release,f.hitch(this,"onMouseUp")),p(this.tree.domNode,g.move,f.hitch(this,"onMouseMove")),p(this.tree.domNode,n.press,f.hitch(this,"onClickPress")),p(this.tree.domNode,n.release,f.hitch(this,"onClickRelease")))},singular:!1,getSelectedTreeNodes:function(){var a=[],b=this.selection,c;for(c in b)a.push(b[c]);
return a},selectNone:function(){this.setSelection([]);return this},destroy:function(){this.inherited(arguments);this.selection=this.anchor=null},addTreeNode:function(a,b){this.setSelection(this.getSelectedTreeNodes().concat([a]));b&&(this.anchor=a);return a},removeTreeNode:function(b){var c=h.filter(this.getSelectedTreeNodes(),function(c){return!a.isDescendant(c.domNode,b.domNode)});this.setSelection(c);return b},isTreeNodeSelected:function(a){return a.id&&!!this.selection[a.id]},setSelection:function(a){var b=
this.getSelectedTreeNodes();h.forEach(this._setDifference(b,a),f.hitch(this,function(a){a.setSelected(!1);this.anchor==a&&delete this.anchor;delete this.selection[a.id]}));h.forEach(this._setDifference(a,b),f.hitch(this,function(a){a.setSelected(!0);this.selection[a.id]=a}));this._updateSelectionProperties()},_setDifference:function(a,b){h.forEach(b,function(a){a.__exclude__=!0});var c=h.filter(a,function(a){return!a.__exclude__});h.forEach(b,function(a){delete a.__exclude__});return c},_updateSelectionProperties:function(){var a=
this.getSelectedTreeNodes(),b=[],c=[];h.forEach(a,function(a){var e=a.getTreePath();c.push(a);b.push(e)},this);a=h.map(c,function(a){return a.item});this.tree._set("paths",b);this.tree._set("path",b[0]||[]);this.tree._set("selectedNodes",c);this.tree._set("selectedNode",c[0]||null);this.tree._set("selectedItems",a);this.tree._set("selectedItem",a[0]||null)},onClickPress:function(a){if(!this.current||!this.current.isExpandable||!this.tree.isExpandoNode(a.target,this.current)){"mousedown"==a.type&&
b.isLeft(a)&&a.preventDefault();var e="keydown"==a.type?this.tree.focusedChild:this.current;if(e){var g=c.getCopyKeyState(a),f=e.id;!this.singular&&!a.shiftKey&&this.selection[f]?this._doDeselect=!0:(this._doDeselect=!1,this.userSelect(e,g,a.shiftKey))}}},onClickRelease:function(a){this._doDeselect&&(this._doDeselect=!1,this.userSelect("keyup"==a.type?this.tree.focusedChild:this.current,c.getCopyKeyState(a),a.shiftKey))},onMouseMove:function(){this._doDeselect=!1},onMouseDown:function(){},onMouseUp:function(){},
_compareNodes:function(a,b){if(a===b)return 0;if("sourceIndex"in document.documentElement)return a.sourceIndex-b.sourceIndex;if("compareDocumentPosition"in document.documentElement)return a.compareDocumentPosition(b)&2?1:-1;if(document.createRange){var c=doc.createRange();c.setStartBefore(a);var e=doc.createRange();e.setStartBefore(b);return c.compareBoundaryPoints(c.END_TO_END,e)}throw Error("dijit.tree._compareNodes don't know how to compare two different nodes in this browser");},userSelect:function(a,
b,c){if(this.singular)this.anchor==a&&b?this.selectNone():(this.setSelection([a]),this.anchor=a);else if(c&&this.anchor){b=this._compareNodes(this.anchor.rowNode,a.rowNode);c=this.anchor;0>b?b=c:(b=a,a=c);for(c=[];b!=a;)c.push(b),b=this.tree._getNext(b);c.push(a);this.setSelection(c)}else this.selection[a.id]&&b?this.removeTreeNode(a):b?this.addTreeNode(a,!0):(this.setSelection([a]),this.anchor=a)},getItem:function(a){return{data:this.selection[a],type:["treeNode"]}},forInSelectedItems:function(a,
b){b=b||l.global;for(var c in this.selection)a.call(b,this.getItem(c),c,this)}})})},"dijit/tree/_dndContainer":function(){define("dojo/aspect dojo/_base/declare dojo/dom-class dojo/_base/lang dojo/on dojo/touch".split(" "),function(h,e,l,f,c,a){return e("dijit.tree._dndContainer",null,{constructor:function(b,e){this.tree=b;this.node=b.domNode;f.mixin(this,e);this.containerState="";l.add(this.node,"dojoDndContainer");this.events=[c(this.node,a.enter,f.hitch(this,"onOverEvent")),c(this.node,a.leave,
f.hitch(this,"onOutEvent")),h.after(this.tree,"_onNodeMouseEnter",f.hitch(this,"onMouseOver"),!0),h.after(this.tree,"_onNodeMouseLeave",f.hitch(this,"onMouseOut"),!0),c(this.node,"dragstart, selectstart",function(a){a.preventDefault()})]},destroy:function(){for(var a;a=this.events.pop();)a.remove();this.node=this.parent=null},onMouseOver:function(a){this.current=a},onMouseOut:function(){this.current=null},_changeState:function(a,c){var e="dojoDnd"+a,f=a.toLowerCase()+"State";l.replace(this.node,e+
c,e+this[f]);this[f]=c},_addItemClass:function(a,c){l.add(a,"dojoDndItem"+c)},_removeItemClass:function(a,c){l.remove(a,"dojoDndItem"+c)},onOverEvent:function(){this._changeState("Container","Over")},onOutEvent:function(){this._changeState("Container","")}})})},"jimu/dijit/LayerChooserFromMapWithDropbox":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/html dojo/on dojo/Evented dojo/Deferred dijit/popup dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/LayerChooserFromMapWithDropbox.html jimu/LayerInfos/LayerInfos".split(" "),
function(h,e,l,f,c,a,b,p,g,n,r){return h([p,g,c],{templateString:n,baseClass:"jimu-layer-chooser-from-map-withdropbox",declaredClass:"jimu.dijit.LayerChooserFromMapWithDropbox",_selectedItem:null,_isLayerChooserShow:!1,layerInfosObj:null,layerChooser:null,postCreate:function(){this.inherited(arguments);this.layerInfosObj=r.getInstanceSync();l.addClass(this.layerChooser.domNode,"jimu-layer-chooser-from-map-withdropbox-popup");this.layerChooser.domNode.style.zIndex=1;this.layerChooser.tree.domNode.style.borderTop=
"0";this.own(f(this.layerChooser,"tree-click",e.hitch(this,this._onTreeClick)));this.own(f(this.layerChooser,"update",e.hitch(this,this._onLayerChooserUpdate)));this.own(f(document.body,"click",e.hitch(this,this._onBodyClicked)))},destroy:function(){this.hideLayerChooser();this.layerChooser&&this.layerChooser.destroy();this.layerChooser=null;this.inherited(arguments)},getLayerChooser:function(){return this.layerChooser},setSelectedLayer:function(b){var c=new a;if(b){var f=this.layerInfosObj.getLayerInfoById(b.id);
f?this.layerChooser.filter(f).then(e.hitch(this,function(a){a?(this._onSelectNewItem({layerInfo:f,name:f.title,url:b.url}),c.resolve(!0)):c.resolve(!1)}),e.hitch(this,function(){c.resolve(!1)})):c.resolve(!1)}else this._onSelectNewItem(null),c.resolve(!0);return c},getSelectedItem:function(){return this._selectedItem},getSelectedItems:function(){return[this._selectedItem]},_onBodyClicked:function(a){a=a.target||a.srcElement;a===this.domNode||l.isDescendant(a,this.domNode)||a===this.layerChooser.domNode||
l.isDescendant(a,this.layerChooser.domNode)||this.hideLayerChooser()},_onDropDownClick:function(a){a.stopPropagation();a.preventDefault();this._isLayerChooserShow?this.hideLayerChooser():this.showLayerChooser()},_getSelectedItems:function(){return this.layerChooser.getSelectedItems()},showLayerChooser:function(){var a=this.domNode.clientWidth;200>a&&(a=200);this.layerChooser.domNode.style.width=a+2+"px";b.open({parent:this,popup:this.layerChooser,around:this.domNode});(a=this.layerChooser.domNode.parentNode)&&
l.addClass(a,"jimu-layer-chooser-from-map-withdropbox-popup");this._isLayerChooserShow=!0},hideLayerChooser:function(){b.close(this.layerChooser);this._isLayerChooserShow=!1},_onLayerChooserUpdate:function(){this._selectedItem&&this.layerChooser.onlyShowVisible&&!this._selectedItem.layerInfo.isShowInMap()&&(this._selectedItem=null,this.emit("selection-change",[]))},_onSelectNewItem:function(a){var b=e.getObject("layerInfo.id",!1,this._selectedItem)||-1,c=e.getObject("layerInfo.id",!1,a)||-1,b=b!==
c;this._selectedItem=a;this.hideLayerChooser();a=e.getObject("layerInfo.title",!1,this._selectedItem)||"";this.layerNameNode.innerHTML=a;a=e.getObject("layerInfo.layerObject",!1,this._selectedItem);b&&this.emit("selection-change",[a])},_onTreeClick:function(){var a=this._getSelectedItems();this._onSelectNewItem(0<a.length?a[0]:null)}})})},"jimu/dijit/SearchDistance":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/SearchDistance.html dojo/Evented dojo/_base/lang jimu/utils jimu/dijit/CheckBox esri/tasks/GeometryService dijit/form/Select dijit/form/NumberTextBox".split(" "),
function(h,e,l,f,c,a,b,p,g,n){return h([e,l,f,a],{baseClass:"jimu-dijit-searchdistance",templateString:c,lastMeters:0,tip:"",distance:0,unit:"",postMixInProperties:function(){this.inherited(arguments);this.nls=b.clone(window.jimuNls.units);this.tip||(this.tip=window.jimuNls.searchDistance.applySearchDistance)},postCreate:function(){this.inherited(arguments);this.cbx=new g({label:this.tip,onChange:b.hitch(this,this._onCbxChanged)});this.cbx.placeAt(this.cbxDiv);this.reset();this.setDistance(this.distance);
this.setUnit(this.unit);this.lastMeters=this.getMeters()},enable:function(){this.cbx.check()},disable:function(){this.cbx.uncheck()},isEnabled:function(){return this.cbx.getValue()},reset:function(){this.numberTextBox.set("value",0);this.unitSelect.set("value","MILES")},getData:function(){return{status:this.getStatus(),isEnabled:this.isEnabled(),distance:this.getDistance(),unit:this.getUnit(),bufferUnit:this.getUnitToBuffer(),meters:this.getMeters()}},getStatus:function(){var a;this.isEnabled()?(a=
this.getDistance(),a=0<a?1:0===a?0:-1):a=0;return a},getMeters:function(){var a=0,b=this.getStatus();if(0<b){var b=this.getDistance(),c=this.getUnit();"MILES"===c?a=1609.344*b:"KILOMETERS"===c?a=1E3*b:"FEET"===c?a=0.3048*b:"METERS"===c?a=b:"YARDS"===c?a=0.9144*b:"NAUTICAL_MILES"===c&&(a=1852*b);a=parseFloat(a.toFixed(3))}else 0===b?a=0:0>b&&(a=-1);return a},setDistance:function(a){"number"===typeof a&&0<=a&&this.numberTextBox.set("value",a)},setUnit:function(a){a&&"string"===typeof a&&this.unitSelect.set("value",
a)},tryShowValidationError:function(){this.numberTextBox.validate()||p.showValidationErrorTipForFormDijit(this.numberTextBox)},getDistance:function(){return!this.numberTextBox.validate()?(p.showValidationErrorTipForFormDijit(this.numberTextBox),-1):this.numberTextBox.get("value")},getUnit:function(){return this.unitSelect.get("value")},getUnitToBuffer:function(){var a="";switch(this.unitSelect.get("value")){case "MILES":a=n.UNIT_STATUTE_MILE;break;case "KILOMETERS":a=n.UNIT_KILOMETER;break;case "FEET":a=
n.UNIT_FOOT;break;case "METERS":a=n.UNIT_METER;break;case "YARDS":a=n.UNIT_INTERNATIONAL_YARD;break;case "NAUTICAL_MILES":a=n.UNIT_NAUTICAL_MILE}return a},_onCbxChanged:function(){this.cbx.getValue()?(this.numberTextBox.set("disabled",!1),this.unitSelect.set("disabled",!1)):(this.numberTextBox.set("disabled",!0),this.unitSelect.set("disabled",!0));this._emitEvent()},_onNumberTextBoxChanged:function(){this._emitEvent()},_onUnitSelectChanged:function(){this._emitEvent()},_emitEvent:function(){var a=
this.getData();a.meters!==this.lastMeters&&(this.lastMeters=a.meters,this.emit("change",a))}})})},"jimu/dijit/FeatureSetChooserForSingleLayer":function(){define("dojo/on dojo/Evented dojo/_base/lang dojo/_base/array dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin jimu/dijit/DrawBox jimu/dijit/_FeatureSetChooserCore".split(" "),function(h,e,l,f,c,a,b,p,g,n){return c([a,b,p,e],{baseClass:"jimu-single-layer-featureset-chooser",templateString:"\x3cdiv\x3e\x3c/div\x3e",
drawBox:null,map:null,featureLayer:null,updateSelection:!1,postCreate:function(){this.inherited(arguments);this.drawBox=new g({map:this.map,showClear:!0,keepOneGraphic:!0,geoTypes:["EXTENT"]});var a=this.drawBox.getDrawItemIcons();f.forEach(a,l.hitch(this,function(a){a.title=""}));this.drawBox.extentIcon.title=window.jimuNls.spatialFilterByFeatures.drawShapesTip;this.drawBox.placeAt(this.domNode);this.own(h(this.drawBox,"user-clear",l.hitch(this,this._onDrawBoxUserClear)));this.own(h(this.drawBox,
"draw-activate",l.hitch(this,function(){this.emit("draw-activate")})));this.own(h(this.drawBox,"draw-deactivate",l.hitch(this,function(){this.emit("draw-deactivate")})));this.own(h(this.drawBox,"draw-end",l.hitch(this,this._onDrawEnd)));this.featureSetChooserCore=new n({map:this.map,featureLayer:this.featureLayer,drawBox:this.drawBox,updateSelection:this.updateSelection});this.own(h(this.featureSetChooserCore,"loading",l.hitch(this,function(){this.emit("loading")})));this.own(h(this.featureSetChooserCore,
"unloading",l.hitch(this,function(){this.emit("unloading")})));this.own(h(this.featureLayer,"visibility-change",l.hitch(this,function(){this.featureLayer.visible?this.drawBox.enable():this.drawBox.disable()})))},getFeatures:function(){return this.featureSetChooserCore.getFeatures()},syncGetFeatures:function(){return this.featureSetChooserCore.syncGetFeatures()},disable:function(){this.drawBox.disable()},enable:function(){this.drawBox.enable()},deactivate:function(){this.drawBox.deactivate()},clearAllGraphics:function(){this.featureSetChooserCore.clear(!1)},
isLoading:function(){return this.featureSetChooserCore.isLoading()},getFeatureLayer:function(){return this.featureLayer},destroy:function(){this.featureSetChooserCore&&this.featureSetChooserCore.destroy();this.featureSetChooserCore=null;this.inherited(arguments)},_onDrawEnd:function(){this.drawBox.clear()},_onDrawBoxUserClear:function(){this.clearAllGraphics();this.emit("user-clear")}})})},"jimu/dijit/_FeatureSetChooserCore":function(){define("dojo/on dojo/sniff dojo/Evented dojo/Deferred dojo/_base/lang dojo/_base/array dojo/_base/declare jimu/utils jimu/symbolUtils jimu/SelectionManager jimu/LayerInfos/LayerInfos esri/graphic esri/tasks/query esri/tasks/QueryTask esri/layers/FeatureLayer".split(" "),
function(h,e,l,f,c,a,b,p,g,n,r,k,u,s,v){return b([l],{baseClass:"jimu-featureset-chooser-core",_middleFeatureLayer:null,_isLoading:!1,_def:null,_isDestroyed:!1,_handles:null,selectionManager:null,layerInfosObj:null,map:null,featureLayer:null,drawBox:null,updateSelection:!1,fullyWithin:!1,constructor:function(a){c.mixin(this,a);this.layerInfosObj=r.getInstanceSync();this.selectionManager=n.getInstance();this.featureLayer.getSelectionSymbol()||this.selectionManager.setSelectionSymbol(this.featureLayer);
a=p.getFeatureLayerDefinition(this.featureLayer);delete a.id;this._middleFeatureLayer=new v({layerDefinition:a,featureSet:null},{id:"featureLayer_"+p.getRandomString()});a=null;var b=this._middleFeatureLayer.geometryType;"esriGeometryPoint"===b?a=g.getDefaultMarkerSymbol():"esriGeometryPolyline"===b?a=g.getDefaultLineSymbol():"esriGeometryPolygon"===b&&(a=g.getDefaultFillSymbol());this._middleFeatureLayer.setSelectionSymbol(a);a=h(this.drawBox,"user-clear",c.hitch(this,this._onDrawBoxUserClear));
b=h(this.drawBox,"draw-end",c.hitch(this,this._onDrawEnd));this._handles=[a,b]},clear:function(a){this.drawBox.clear();this._clearMiddleFeatureLayer();a&&this.selectionManager.clearSelection(this.featureLayer)},getFeatures:function(){var a=new f,b=c.hitch(this,function(){var b=this.syncGetFeatures();a.resolve(b)}),e=c.hitch(this,function(b){a.reject(b)});1===this._getDeferredStatus(this._def)?this._def.then(b,e):b();return a},syncGetFeatures:function(){return(this.updateSelection?this.featureLayer:
this._middleFeatureLayer).getSelectedFeatures()},isLoading:function(){return 1===this._getDeferredStatus(this._def)},_onLoading:function(){this.drawBox.deactivate();this.emit("loading")},_onUnloading:function(){this.emit("unloading")},_getDeferredStatus:function(a){var b=0;return b=a?a.isResolved()?2:a.isRejected()?-1:1:0},_onDrawEnd:function(a,b,g,k,m,h){console.log(b,g);if(this.isLoading())throw"should not draw when loading";if(this.featureLayer.visible){var l=new f;this._def=l;var A=v.SELECTION_NEW;
k&&(A=v.SELECTION_ADD);e("mac")?h&&(A=v.SELECTION_SUBTRACT):m&&(A=v.SELECTION_SUBTRACT);this._onLoading();this._getFeaturesByGeometry(a.geometry).then(c.hitch(this,function(a){this.selectionManager.updateSelectionByFeatures(this.updateSelection?this.featureLayer:this._middleFeatureLayer,a,A);this._onUnloading();l.resolve(a)}),c.hitch(this,function(a){console.error(a);this._onUnloading();l.reject(a)}))}},_getFeaturesByGeometry:function(b){var d=new f,e=[];if(this.featureLayer.getMap())b=this.selectionManager.getClientFeaturesByGeometry(this.featureLayer,
b,this.fullyWithin),0<b.length&&(e=a.map(b,c.hitch(this,function(a){return new k(a.toJson())}))),d.resolve(e);else{e=new u;e.geometry=b;e.outSpatialReference=this.map.spatialReference;e.returnGeometry=!0;(b=this.featureLayer.getDefinitionExpression())||(b="1\x3d1");var g=this.layerInfosObj.getLayerInfoById(this.featureLayer.id);g&&(g=g.getFilter())&&(b="("+b+") AND ("+g+")");b&&(e.where=b);e.outFields=["*"];(new s(this.featureLayer.url)).execute(e).then(c.hitch(this,function(a){d.resolve(a.features)}),
c.hitch(this,function(a){d.reject(a)}))}return d},_onDrawBoxUserClear:function(){this.clear()},_clearMiddleFeatureLayer:function(){this._middleFeatureLayer&&(this._middleFeatureLayer.clear(),this.selectionManager.clearSelection(this._middleFeatureLayer))},destroy:function(){this._isDestroyed||(a.forEach(this._handles,c.hitch(this,function(a){a.remove()})),this._handles=null,this.clear());this._isDestroyed=!0}})})},"widgets/Geoprocessing/editors/SelectFeatureSetFromFile":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/dom-style dojo/on dojo/json dojo/text!./SelectFeatureSetFromFile.html dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin esri/request esri/geometry/scaleUtils esri/InfoTemplate esri/layers/FeatureLayer esri/renderers/SimpleRenderer esri/tasks/FeatureSet jimu/dijit/Message jimu/portalUrlUtils jimu/symbolUtils ./BaseFeatureSetEditor dijit/form/Form dijit/form/Select".split(" "),
function(h,e,l,f,c,a,b,p,g,n,r,k,u,s,v,w,d,z,x){return h([x,p,g],{baseClass:"jimu-gp-editor-base jimu-gp-editor-file",templateString:b,editorName:"SelectFeatureSetFromFile",layer:void 0,constructor:function(){this.uniqueID=(new Date).getTime()},postCreate:function(){this.inherited(arguments);f.set(this.clearLink,"display","none");f.set(this.uploadStatus,"display","none");this.uploadStatus.src=require.toUrl("jimu")+"/images/loading_circle.gif"},destroy:function(){this._clear()},getValue:function(){if(0===
this.activeViewIndex){if(this.layer){var a=new v;a.features=this.layer.graphics;return a}return null}return this.getFeatureSet()},_onUpload:function(){if(l.get(this.fileInput,"value")){var b=l.get(this.fileInput,"value"),b=b.replace(/\\/g,"/"),b=b.substr(b.lastIndexOf("/")+1);this.fileInfo.innerHTML=b;f.set(this.uploadStatus,"display","");var b={name:b,targetSR:this.map.spatialReference,maxRecordCount:1E3,enforceInputFileSizeLimit:!0,enforceOutputJsonSizeLimit:!0},c=r.getExtentForScale(this.map,4E4).getWidth()/
this.map.width;b.generalize=!0;b.maxAllowableOffset=c;b.reducePrecision=!0;b.numberOfDigitsAfterDecimal=0;n({url:this._getPortalUrl()+"/sharing/rest/content/features/generate",content:{filetype:"shapefile",publishParameters:a.stringify(b),f:"json"},form:this.fileForm.domNode,handleAs:"json",load:e.hitch(this,function(a){f.set(this.uploadStatus,"display","none");a.error?new w({message:a.error.message||a.error}):this.addToMap(a.featureCollection)}),error:e.hitch(this,function(){f.set(this.uploadStatus,
"display","none");var a=this.nls.generateShapefileError+this._getPortalUrl()+"/sharing/rest/content/features/generate";new w({message:a})})})}else new w({message:this.nls.noFileSelected})},addToMap:function(a){this._clear();a=a.layers[0];var b=new k("Details","${*}");this.layer=new u(a,{infoTemplate:b});this.own(c(this.layer,"click",e.hitch(this,function(a){this.map.infoWindow.setFeatures([a.graphic])})));this.changeRenderer();a=this.layer.fullExtent;this.map.addLayer(this.layer);this.map.setExtent(a.expand(1.25),
!0);f.set(this.clearLink,"display","")},changeRenderer:function(){var a=null;switch(this.layer.geometryType){case "esriGeometryPoint":a=z.getDefaultMarkerSymbol();break;case "esriGeometryPolyline":a=z.getDefaultLineSymbol();break;case "esriGeometryPolygon":a=z.getDefaultFillSymbol()}a&&this.layer.setRenderer(new s(a))},_getPortalUrl:function(){return d.getStandardPortalUrl(this.appConfig.portalUrl)},_clear:function(){this.layer&&(this.layer.clear(),this.map.removeLayer(this.layer),this.fileInfo.innerHTML=
"",l.set(this.fileInput,"value",""),f.set(this.clearLink,"display","none"))}})})},"widgets/Geoprocessing/editors/SelectFeatureSetFromDraw":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/html dijit/_TemplatedMixin jimu/dijit/DrawBox esri/symbols/jsonUtils esri/tasks/FeatureSet esri/geometry/Polygon esri/graphic esri/graphicsUtils ./BaseFeatureSetEditor dojo/text!./SelectFeatureSetFromDraw.html ../LayerOrderUtil".split(" "),function(h,e,l,f,c,a,b,p,g,n,r,k,u,s){return h([k,
c],{editorName:"SelectFeatureSetFromDraw",templateString:u,constructor:function(a){this.inherited(arguments);this.paramName=a.param.name;this.drawLayerId=a.widgetUID+a.param.name},postCreate:function(){this.inherited(arguments);f.addClass(this.domNode,"jimu-gp-editor-draw");f.addClass(this.domNode,"jimu-gp-editor-base");var c={types:this.types,drawLayerId:this.drawLayerId,showClear:this.showClear,map:this.map};this.param.symbol&&(c[this.types[0]+"Symbol"]=b.fromJson(this.param.symbol));this.drawBox=
new a(c);f.place(this.drawBox.domNode,this.inputNode);this.drawBox.startup();try{(new s(this.config,this.map)).calculateLayerIndex(this.paramName,this.widgetUID).then(e.hitch(this,function(a){-1!==a&&this.map.reorderLayer(this.drawBox.drawLayer,a)}))}catch(g){console.error(g.message)}this.startup()},getValue:function(){return 0===this.activeViewIndex?this.drawBox.drawLayer&&0<this.drawBox.drawLayer.graphics.length?this._createFeatureSet(this.drawBox.drawLayer.graphics):null:this.getFeatureSet()},
_createFeatureSet:function(a){var b=new p,c=[];a=r.getGeometries(a);l.forEach(a,function(a){a="extent"===a.type?new n(g.fromExtent(a)):new n(a);c.push(a)});b.features=c;return b}})})},"widgets/Geoprocessing/LayerOrderUtil":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/Deferred","jimu/LayerInfos/LayerInfos"],function(h,e,l,f){return h(null,{config:null,constructor:function(c,a){this.config=c;this.map=a;if(!("layerOrder"in this.config)||0===this.config.layerOrder.length)this.config.layerOrder=
this.getCandidateParamNames(!1)},getCandidateParamNames:function(c){var a=[];if(!this.config)return a;e.forEach(this.config.outputParams,function(b){"GPFeatureRecordSetLayer"===b.dataType&&(!c||!0!==this.config.useResultMapServer)&&a.push(b.name)},this);e.forEach(this.config.inputParams,function(b){"GPFeatureRecordSetLayer"===b.dataType&&(!c||"draw"===b.featureSetMode)&&a.push(b.name)},this);return a},getOrderableInput:function(){var c=[];if(!this.config)return c;e.forEach(this.config.inputParams,
function(a){"GPFeatureRecordSetLayer"===a.dataType&&"draw"===a.featureSetMode&&c.push(a.name)},this);return e.filter(this.config.layerOrder,function(a){return-1!==e.indexOf(c,a)},this)},getOrderableOutput:function(){var c=[];if(!this.config)return c;e.forEach(this.config.outputParams,function(a){"GPFeatureRecordSetLayer"===a.dataType&&!0!==this.config.useResultMapServer&&c.push(a.name)},this);return e.filter(this.config.layerOrder,function(a){return-1!==e.indexOf(c,a)},this)},calculateLayerIndex:function(c,
a){if(!this.map)throw Error("The map cannot be null in LayerOrderUtil.calculateLayerIndex");var b,h,g,n=new l,r=this.config.layerOrder;h=e.indexOf(r,c);if(-1===h)throw Error(c+"cannot be found in the orderable params");for(b=h-1;0<=b;b--)if(g=e.indexOf(this.map.graphicsLayerIds,a+r[b]),-1!==g)return n.resolve(g),n;b=h+1;for(h=r.length;b<h;b++)if(g=e.indexOf(this.map.graphicsLayerIds,a+r[b]),-1!==g)return n.resolve(g+1),n;n.isResolved()||f.getInstance(this.map,this.map.itemInfo).then(function(a){var b;
a=a.getMapNotesLayerInfoArray();0===a.length?n.resolve(-1):(a=a[a.length-1],b=a.getSubLayers(),a=0===b.length?a.layerObject.id:b[b.length-1].layerObject.id,g=e.indexOf(this.map.graphicsLayerIds,a),n.resolve(g))});return n}})})},"widgets/Geoprocessing/editors/DataFileEditor":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/dom-attr dojo/on dojo/Deferred dojo/text!./DataFileEditor.html dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin esri/tasks/DataFile esri/request jimu/dijit/ViewStack jimu/dijit/Message ../BaseEditor dijit/form/Form jimu/dijit/URLInput".split(" "),
function(h,e,l,f,c,a,b,p,g,n,r,k,u,s){return h([s,p,g],{baseClass:"jimu-gp-editor-base jimu-gp-editor-datafile",templateString:b,editorName:"DataFileEditor",mode:"url",_url:"",_itemID:null,uniqueID:null,constructor:function(){this.inherited(arguments);this.uniqueID=(new Date).getTime()},postCreate:function(){this.inherited(arguments);this.value&&this.parseDefaultValue();f.set(this.urlEditor,"tooltip",this.param.tooltip);"setting"===this.context?(this.viewStack=null,l.set(this.fileNode,"display","none")):
(this.viewStack=new k({viewType:"dom",views:[this.urlNode,this.fileNode]}),this.viewStack.placeAt(this.settingNode),this.viewStack.startup());!0===this.config.serverInfo.supportsUpload&&l.set(this.modeSelection,"display","");"item"===this.mode&&this.config.serverInfo.supportsUpload?(f.set(this.itemMode,"checked",!0),c.emit(this.itemMode,"click",{cancelable:!0,bubble:!0})):(f.set(this.urlMode,"checked",!0),c.emit(this.urlMode,"click",{cancelable:!0,bubble:!0}),this.urlEditor.set("value",this._url))},
parseDefaultValue:function(){0===this.value.indexOf("itemID:")?this.mode="item":(0===this.value.indexOf("url:")&&(this._url=this.value.substring(4)),this.mode="url")},hasValidValue:function(){if("item"===this.mode)return!0;if("url"===this.mode)return this.urlEditor.isValid()},getValue:function(){return"url"===this.mode?"url:"+this._getUrl():"item"===this.mode?"itemID:":""},getGPValue:function(){var b=new a,c=new n;"url"===this.mode?c.url=this._getUrl():c.itemID=this.itemIDInput;c.url||c.itemID?b.resolve(c):
b.resolve(null);return b},_getUrl:function(){return this.urlEditor.isValid()?this.urlEditor.get("value"):""},_onUrlModeSelect:function(){this.mode="url";this.viewStack?this.viewStack.switchView(0):l.set(this.urlNode,"display","block")},_onItemModeSelect:function(){this.mode="item";this.viewStack?this.viewStack.switchView(1):l.set(this.urlNode,"display","none")},_onUpload:function(){f.get(this.fileInput,"value")?this._doUpload().then(e.hitch(this,function(a){a&&new u({message:this.nls.uploadSuccess})}),
function(a){new u({message:a.message||a})}):new u({message:this.nls.noFileSelected})},_doUpload:function(){var b=new a,c=f.get(this.fileInput,"value"),c=c.replace(/\\/g,"/"),c=c.substr(c.lastIndexOf("/")+1);r({url:this.config.serverInfo.url+"uploads/upload",form:this.fileForm.domNode,handleAs:"json"}).then(e.hitch(this,function(a){a.success&&(this.itemIDInput=a.item.itemID,f.set(this.fileInput,"value",""),f.set(this.uploadFileName,"innerHTML",c));b.resolve(a.success)}),function(a){b.reject(a)});return b}})})},
"esri/tasks/DataFile":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel"],function(h,e,l,f){return h(null,{declaredClass:"esri.tasks.DataFile",constructor:function(c){c&&e.mixin(this,c)},url:null,itemID:null,toJson:function(){var c={};this.url&&(c.url=this.url);this.itemID&&(c.itemID=this.itemID);return c}})})},"widgets/Geoprocessing/editors/RasterLayerEditor":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-style dojo/dom-attr dojo/on dojo/Deferred dojo/text!./RasterLayerEditor.html dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin esri/tasks/RasterData esri/request jimu/dijit/ViewStack jimu/dijit/Message ../BaseEditor dijit/form/TextBox dijit/form/ValidationTextBox".split(" "),
function(h,e,l,f,c,a,b,p,g,n,r,k,u,s,v){var w=/^(ht|f)tps?:\/\/[^\s\.]+(\.[^\s\.]+)*((\/|\.)[^\s\.]+)+\/?$/;return h([v,g,n],{baseClass:"jimu-gp-editor-base jimu-gp-editor-wrapper",templateString:p,editorName:"RasterLayerEditor",mode:"url",_url:"",_format:"",_itemID:null,postCreate:function(){this.inherited(arguments);this.value&&this.parseDefaultValue();c.set(this.urlEditor,"regExp",w.toString());c.set(this.urlEditor,"tooltip",this.param.tooltip);"setting"===this.context?(this.viewStack=null,f.set(this.fileNode,
"display","none")):(this.viewStack=new u({viewType:"dom",views:[this.urlNode,this.fileNode]}),this.viewStack.placeAt(this.settingNode),this.viewStack.startup());this.config.serverInfo.supportsUpload&&f.set(this.modeSelection,"display","");"item"===this.mode&&this.config.serverInfo.supportsUpload?(c.set(this.itemMode,"checked",!0),a.emit(this.itemMode,"click",{cancelable:!0,bubble:!0})):(c.set(this.urlMode,"checked",!0),a.emit(this.urlMode,"click",{cancelable:!0,bubble:!0}),this.rasterFormatInput.set("value",
this._format),this.urlEditor.set("value",this._url))},parseDefaultValue:function(){var a;if(0===this.value.indexOf("itemID:"))this.mode="item";else{if(0===this.value.indexOf("url:")||0===this.value.indexOf("format:"))a=this.value.split(","),l.forEach(a,function(a){0===a.indexOf("url:")?this._url=a.substring(4):a.indexOf("format:"===0)&&(this._format=a.substring(7))},this);this.mode="url"}},hasValidValue:function(){if("item"===this.mode)return!0;if("url"===this.mode)return this.urlEditor.isValid()},
getValue:function(){return"url"===this.mode?"url:"+this._getUrl()+",format:"+this.rasterFormatInput.get("value"):"item"===this.mode?"itemID:":""},getGPValue:function(){var a=new b,c=new r;"url"===this.mode?(c.url=this._getUrl(),c.format=this.rasterFormatInput.get("value")):c.itemID=this.itemIDInput;c.url||c.itemID?a.resolve(c):a.resolve(null);return a},_getUrl:function(){return this.urlEditor.isValid()?this.urlEditor.get("value"):""},_onUrlModeSelect:function(){this.mode="url";this.viewStack?this.viewStack.switchView(0):
f.set(this.urlNode,"display","block")},_onItemModeSelect:function(){this.mode="item";this.viewStack?this.viewStack.switchView(1):f.set(this.urlNode,"display","none")},_onFileInputClick:function(){a.emit(this.fileInput,"click",{cancelable:!0,bubble:!0})},_onUpload:function(){if(c.get(this.fileInput,"value")){var a=c.get(this.fileInput,"value"),a=a.replace(/\\/g,"/"),a=a.substr(a.lastIndexOf("/")+1);k({url:this.config.serverInfo.url+"uploads/upload",form:this.fileForm.domNode,handleAs:"json"}).then(e.hitch(this,
function(b){b.success&&(this.itemIDInput=b.item.itemID,c.set(this.fileInput,"value",""),c.set(this.uploadFileName,"innerHTML",a),new s({message:this.nls.uploadSuccess}))}),e.hitch(this,function(a){new s({message:a.message||a})}))}else new s({message:this.nls.noFileSelected})}})})},"esri/tasks/RasterData":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel"],function(h,e,l,f){return h(null,{declaredClass:"esri.tasks.RasterData",constructor:function(c){c&&e.mixin(this,c)},
url:null,format:null,itemID:null,toJson:function(){var c={};this.url&&(c.url=this.url);this.format&&(c.format=this.format);this.itemID&&(c.itemID=this.itemID);return c}})})},"widgets/Geoprocessing/editors/RecordSetEditor":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","../BaseEditor","jimu/dijit/PopupConfig"],function(h,e,l,f,c){return h([f],{baseClass:"jimu-gp-editor-base jimu-gp-editor-rse",editorName:"RecordSetEditor",popupConfig:null,args:null,constructor:function(a){this.args=
e.mixin({},a)},postCreate:function(){this.inherited(arguments);this.value={};var a={showTitle:!1};if(this.args&&this.args.param&&this.args.param.defaultValue){this.value=e.clone(this.args.param.defaultValue);var b=this.value.fields;if(this.value.output&&this.value.output.fields){var f=l.map(this.value.output.fields,function(a){return a.name});l.forEach(b,function(a){0<=f.indexOf(a.name)?a.visible=!0:a.visible=!1})}a.fields=b;this.popupConfig=new c(a);this.popupConfig.placeAt(this.domNode);this.popupConfig.startup()}else this.domNode.innerHTML=
"table"},destroy:function(){this.popupConfig&&(this.popupConfig.destroy(),this.popupConfig=null);this.inherited(arguments)},getValue:function(){if(this.popupConfig){var a=this.popupConfig.getConfig();this.value.output={title:a.title,fields:a.fields};this.value.fields=this.args.param.defaultValue.fields}return this.value}})})},"widgets/Geoprocessing/resultRendererManager":function(){define(["jimu/utils","./resultrenderers/simpleResultRenderers"],function(h,e){var l={},f,c;l.createResultRenderer=function(a,
b,l){var g="ArcGISDynamicMapServiceLayer"===b._wab_type?"AddResultImageLayer":"GPFeatureRecordSetLayer"===a.dataType?"DrawResultFeatureSet":"GPRecordSet"===a.dataType?"RecordSetTable":"error"===a?"Error":"SimpleResultRenderer";l={param:a,widgetUID:l.uid,map:f,nls:c,config:l.config};if("DrawResultFeatureSet"===g)l.value=b.value,a=new e.DrawResultFeatureSet(l);else if("RecordSetTable"===g)l.value=b.value,a=new e.RecordSetTable(l);else if("SimpleResultRenderer"===g){var n;if(-1<["GPLong","GPDouble",
"GPString","GPBoolean","GPMultiValue"].indexOf(a.dataType))n=h.sanitizeHTML(b.value);else if("GPLinearUnit"===a.dataType)n=b.value.distance+"\x26nbsp;"+b.value.units;else if("GPDate"===a.dataType)n=(new Date(b.value)).toLocaleTimeString();else if("GPRecordSet"===a.dataType)n="table";else if("GPDataFile"===a.dataType||"GPRasterDataLayer"===a.dataType)n=b.value.url?'\x3ca target\x3d"_blank" href\x3d"'+b.value.url+'"\x3e'+b.value.url+"\x3c/a\x3e":a.paramName+": null";l.message=n;a=new e.SimpleResultRenderer(l)}else"AddResultImageLayer"===
g?(l.layer=b,a=new e.AddResultImageLayer(l)):"UnsupportRenderer"===g?(l.message="type "+a.dataType+" is not supported for now.",a=new e.UnsupportRenderer(l)):"Error"===g?(l.message=c.error,a=new e.ErrorResultRenderer(l)):(l.message="unknown renderer name: "+g,a=new e.UnsupportRenderer(l));return a};l.setMap=function(a){f=a};l.setNls=function(a){c=a};return l})},"widgets/Geoprocessing/resultrenderers/simpleResultRenderers":function(){define("dojo/_base/declare dojo/_base/html ../BaseResultRenderer ./FeatureSetRenderer ./RecordSetRenderer ./ResultImageLayerRenderer".split(" "),
function(h,e,l,f,c,a){var b={};b.UnsupportRenderer=h(l,{baseClass:"jimu-gp-resultrenderer-base jimu-gp-renderer-unsupport",postCreate:function(){this.inherited(arguments);e.setAttr(this.domNode,"innerHTML",this.message)}});b.SimpleResultRenderer=h(l,{baseClass:"jimu-gp-resultrenderer-base jimu-gp-renderer-simple",postCreate:function(){this.inherited(arguments);e.setAttr(this.domNode,"innerHTML",this.message)}});b.ErrorResultRenderer=h(l,{baseClass:"jimu-gp-resultrenderer-base jimu-gp-renderer-error",
postCreate:function(){this.inherited(arguments);e.setAttr(this.domNode,"innerHTML",this.message)}});b.RecordSetTable=c;b.DrawResultFeatureSet=f;b.AddResultImageLayer=a;return b})},"widgets/Geoprocessing/BaseResultRenderer":function(){define(["dojo/_base/declare","dijit/_WidgetBase"],function(h,e){return h([e],{baseClass:"jimu-gp-resultrenderer-base",postCreate:function(){this.inherited(arguments)}})})},"widgets/Geoprocessing/resultrenderers/FeatureSetRenderer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/html dojo/dom-style dojo/dom-attr dojo/on dijit/_TemplatedMixin esri/layers/GraphicsLayer esri/layers/FeatureLayer esri/graphicsUtils esri/renderers/SimpleRenderer esri/renderers/jsonUtils esri/InfoTemplate jimu/exportUtils jimu/dijit/ExportChooser dojo/text!./FeatureSetRenderer.html ../BaseResultRenderer ../LayerOrderUtil ./defaultSymbol".split(" "),
function(h,e,l,f,c,a,b,p,g,n,r,k,u,s,v,w,d,z,x,m){return h([z,p],{baseClass:"jimu-gp-resultrenderer-base jimu-gp-renderer-draw-feature",templateString:d,postCreate:function(){this.inherited(arguments);this.value.features&&0<this.value.features.length?(this._displayText(),this._drawResultFeature(this.param,this.value)):(c.set(this.clearNode,"display","none"),c.set(this.exportNode,"display","none"),this.labelContent.innerHTML=this.nls.emptyResult)},destroy:function(){this.resultLayer&&this.map.removeLayer(this.resultLayer);
this.inherited(arguments)},_displayText:function(){c.set(this.clearNode,"display","");a.set(this.clearNode,"title",this.nls.clear);this.own(b(this.clearNode,"click",e.hitch(this,function(){this.resultLayer&&(this.map.infoWindow.isShowing&&this.map.infoWindow.hide(),this.resultLayer.clear(),this.map.removeLayer(this.resultLayer));c.set(this.exportNode,"display","none");c.set(this.clearNode,"display","none");this.labelContent.innerHTML=this.nls.cleared})));if(this.config.showExportButton){c.set(this.exportNode,
"display","");a.set(this.exportNode,"title",this.nls.exportOutput);var d=v.createDataSource({type:v.TYPE_FEATURESET,data:this.value,filename:this.param.name});this.exportChooser=new w({dataSource:d});this.exportChooser.hide();f.place(this.exportChooser.domNode,this.domNode);this.own(b(this.exportNode,"click",e.hitch(this,function(a){a.preventDefault();a.stopPropagation();this.exportChooser.show(a.clientX,a.clientY)})))}},_drawResultFeature:function(a,b){var c;a.popup||(a.popup={enablePopup:!0,title:"",
fields:[]});a.popup.enablePopup&&(c=new s(a.popup.title||"${Non-Exist-Field}",this._generatePopupContent(b)));if(this.config.shareResults&&!this.config.useDynamicSchema){if(!a.defaultValue||!a.defaultValue.geometryType)throw Error("Output parameter default value does not provide enough information to draw feature layer.");a.defaultValue.name=a.name;this.resultLayer=new n({layerDefinition:a.defaultValue,featureSet:b},{id:this.widgetUID+a.name,infoTemplate:c})}else this.resultLayer=new g({id:this.widgetUID+
a.name,infoTemplate:c}),l.forEach(b.features,function(a){this.resultLayer.add(a)},this);this.resultLayer.title=a.label||a.name;this._addResultLayer(a.name);c=a.renderer;this.config.useDynamicSchema||!c?"esriGeometryPoint"===b.geometryType||"esriGeometryMultipoint"===b.geometryType?c=new k(m.pointSymbol):"esriGeometryPolyline"===b.geometryType?c=new k(m.lineSymbol):"esriGeometryPolygon"===b.geometryType&&(c=new k(m.polygonSymbol)):c=u.fromJson(c);this.resultLayer.setRenderer(c);try{var d=r.graphicsExtent(b.features);
d&&(this.resultLayer.fullExtent=d.expand(1.4),this.map.setExtent(this.resultLayer.fullExtent))}catch(e){console.error(e)}},_addResultLayer:function(a){var b=new x(this.config,this.map);try{b.calculateLayerIndex(a,this.widgetUID).then(e.hitch(this,function(a){-1!==a?this.map.addLayer(this.resultLayer,a):this.map.addLayer(this.resultLayer)}))}catch(c){console.error(c.message),console.warn("Draw result feature set on the top of map"),this.map.addLayer(this.resultLayer)}},_generatePopupContent:function(a){var b=
"";l.forEach(!this.config.useDynamicSchema&&this.param.popup.fields&&0<this.param.popup.fields.length?this.param.popup.fields:a.fields,function(a){b+='\x3ctr valign\x3d"top"\x3e\x3ctd class\x3d"attr-name"\x3e'+a.alias+'\x3c/td\x3e\x3ctd class\x3d"attr-value"\x3e${'+a.name+"}\x3c/td\x3e\x3c/tr\x3e"});return'\x3cdiv class\x3d"geoprocessing-popup"\x3e\x3ctable class\x3d"geoprocessing-popup-table" cellpadding\x3d"0" cellspacing\x3d"0"\x3e\x3ctbody\x3e'+b+"\x3c/tbody\x3e\x3c/table\x3e\x3c/div\x3e"}})})},
"jimu/dijit/ExportChooser":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/ExportChooser.html dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/dom-class dojo/dom-style dojo/dom-geometry dojo/on dojo/Evented".split(" "),function(h,e,l,f,c,a,b,p,g,n,r,k,u){return h([e,l,f,u],{templateString:c,baseClass:"jimu-export-chooser",declaredClass:"jimu.dijit.ExportChooser",dataSource:null,nls:null,postMixInProperties:function(){this.nls=
window.jimuNls.exportTo},postCreate:function(){this.inherited(arguments);if(this.dataSource){var b=this.dataSource.getSupportExportFormats();0<b.length&&(this.initFormats(b),this.own(k(this.exportFormats,"click",a.hitch(this,this._onFormatClick))),this.own(k(this.exportMask,"click",a.hitch(this,this.hide))))}},initFormats:function(a){b.forEach(a,function(a){a=p.create("div",{"class":"export-item jimu-ellipsis","data-value":a.value,innerHTML:a.label});p.place(a,this.exportFormats)},this)},_onFormatClick:function(a){a.preventDefault();
a.stopPropagation();a=a.target||a.srcElement;g.contains(a,"export-item")&&(this.hide(),a=a.getAttribute("data-value"),this.dataSource.setFormat(a),this.dataSource.download(),this.emit("start-downloading",a))},show:function(a,b){var c;n.set(this.domNode,{left:"-1000px",top:"0px",display:"block"});c=r.getMarginSize(this.domNode);n.set(this.domNode,{left:(window.isRTL?a+c.w>window.innerWidth?window.innerWidth-c.w:0>a?0:a:0>a-c.w?0:a>window.innerWidth?window.innerWidth-c.w:a-c.w)+"px",top:(c.h>window.innerHeight?
0:b+c.h>window.innerHeight?window.innerHeight-c.h:b+c.h+5<window.innerHeight?b+5:b)+"px"})},hide:function(){n.set(this.domNode,"display","none")}})})},"widgets/Geoprocessing/resultrenderers/defaultSymbol":function(){define("dojo/json dojo/text!./symbol.json esri/symbols/SimpleLineSymbol esri/symbols/SimpleFillSymbol esri/symbols/jsonUtils esri/Color".split(" "),function(h,e,l,f,c,a){h=h.parse(e);e={};e.pointSymbol=c.fromJson(h.pointSymbol);e.lineSymbol=new l(l.STYLE_SOLID,new a([0,69,117]),2);e.polygonSymbol=
new f(f.STYLE_SOLID,new l(l.STYLE_SOLID,new a([110,110,110]),1),new a([0,100,255,0.6]));return e})},"widgets/Geoprocessing/resultrenderers/RecordSetRenderer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/dom-style dojo/dom-attr dojo/on dijit/_TemplatedMixin dojo/store/Memory dgrid/OnDemandGrid dgrid/extensions/ColumnResizer jimu/exportUtils jimu/dijit/ExportChooser jimu/LayerInfos/LayerInfos jimu/dijit/Popup dojo/text!./RecordSetRenderer.html ../BaseResultRenderer".split(" "),
function(h,e,l,f,c,a,b,p,g,n,r,k,u,s,v,w,d){return h([d,p],{baseClass:"jimu-gp-resultrenderer-base jimu-gp-renderer-table",templateString:w,postCreate:function(){this.inherited(arguments);var d=[];if(!this.value.features||0===this.value.features.length)c.set(this.clearNode,"display","none"),c.set(this.exportNode,"display","none"),c.set(this.magnifyNode,"display","none"),this.tableNode.innerHTML=this.nls.emptyResult;else{c.set(this.magnifyNode,"display","");if(!this.config.useDynamicSchema&&this.param.defaultValue&&
this.param.defaultValue.output&&this.param.defaultValue.output.fields)d=this.param.defaultValue.output.fields;else if(this.value.fields)d=this.value.fields;else if(this.value.features&&0<this.value.features.length)for(var v in this.value.features[0].attributes)d.push({name:v});if(this.config.shareResults){var m,p=s.getInstanceSync();m=p.addTable({featureCollectionData:{layerDefinition:{fields:d},featureSet:this.value},title:this.param.label||this.param.name});c.set(this.clearNode,"display","");a.set(this.clearNode,
"title",this.nls.clear);this.own(b(this.clearNode,"click",e.hitch(this,function(){p.removeTable(m);c.set(this.exportNode,"display","none");c.set(this.clearNode,"display","none");c.set(this.magnifyNode,"display","none");this.labelContent.innerHTML=this.nls.cleared;f.empty(this.tableNode);this.table&&this.table.destroy()})))}v=l.map(this.value.features,function(a){return a.attributes});a.set(this.magnifyNode,"title",this.nls.enlargeView);this.own(b(this.magnifyNode,"click",e.hitch(this,this.magnifyTable)));
if(this.config.showExportButton){a.set(this.exportNode,"title",this.nls.exportOutput);c.set(this.exportNode,"display","");var w=k.createDataSource({type:k.TYPE_TABLE,data:{fields:d,datas:v},filename:this.param.name});this.exportChooser=new u({dataSource:w});this.exportChooser.hide();f.place(this.exportChooser.domNode,this.domNode);this.own(b(this.exportNode,"click",e.hitch(this,function(a){a.preventDefault();a.stopPropagation();this.exportChooser.show(a.clientX,a.clientY)})))}var d=l.map(d,function(a){return{label:a.alias||
a.name,field:a.name}}),A;l.some(this.value.fields,function(a){if("esriFieldTypeOID"===a.type)return A=a.name,!0});v=new g({data:v,idProperty:A});this.table=new (h([n,r]))({columns:d,store:v});f.place(this.table.domNode,this.tableNode)}},startup:function(){this.inherited(arguments);this.table.startup()},magnifyTable:function(){var a=f.create("div",{"class":"gp-table-magnified"});f.place(this.table.domNode,a);a=new v({content:a,titleLabel:this.param.tooltip||this.param.label||"",container:"main-page",
onClose:e.hitch(this,function(){f.place(this.table.domNode,this.tableNode);this.table.resize()})});c.set(a.domNode,{top:"5%",left:"5%",width:"90%",height:"90%"});a.startup();this.table.resize()}})})},"dgrid/extensions/ColumnResizer":function(){define("dojo/_base/declare dojo/on dojo/query dojo/_base/lang dojo/dom dojo/dom-geometry dojo/has ../util/misc put-selector/put dojo/_base/html xstyle/css!../css/extensions/ColumnResizer.css".split(" "),function(h,e,l,f,c,a,b,p,g){function n(a){for(var b=a.length,
c=b,e=a[0].length,f=Array(b);b--;)f[b]=Array(e);for(var g={},b=0;b<c;b++)for(var k=f[b],l=a[b],h=0,t=0;h<e;h++){var y=l[t],q;if("undefined"==typeof k[h]){k[h]=y.id;if(y.rowSpan&&1<y.rowSpan){q=f;for(var n=y.rowSpan,p=b,r=h,s=y.id,u=1;u<n;u++)q[p+u][r]=s}if(0<b&&y.colSpan&&1<y.colSpan)for(q=1;q<y.colSpan;q++)if(k[++h]=y.id,y.rowSpan&&1<y.rowSpan)for(var n=f,p=y.rowSpan,r=b,s=h,u=y.id,H=1;H<p;H++)n[r+H][s]=u;g[y.id]=a[0][h].id;t++}}return g}function r(a,b,c,f,g){if(!(0>=c)){var k=a.columns[b],l;if(k&&
(l={grid:a,columnId:b,width:c,bubbles:!0,cancelable:!0},f&&(l.parentType=f),!a._resizedColumns||e.emit(a.headerNode,"dgrid-columnresize",l)))return"auto"===c?delete k.width:(k.width=c,c+="px"),(f=a._columnSizes[b])?f.set("width",c):f=p.addCssRule("#"+p.escapeCssIdentifier(a.domNode.id)+" .dgrid-column-"+p.escapeCssIdentifier(b,"-"),"width: "+c+";"),a._columnSizes[b]=f,!1!==g&&a.resize(),!0}}var k,u=0,s={create:function(){k=g("div.dgrid-column-resizer")},destroy:function(){g(k,"!");k=null},show:function(b){b=
a.position(b.domNode,!0);k.style.top=b.y+"px";k.style.height=b.h+"px";g(document.body,k)},move:function(a){k.style.left=a+"px"},hide:function(){k.parentNode.removeChild(k)}};return h("dgrid.extensions.ColumnResizer",null,{resizeNode:null,minWidth:40,adjustLastColumn:!0,_resizedColumns:!1,buildRendering:function(){this.inherited(arguments);u++||s.create()},destroy:function(){this.inherited(arguments);for(var a in this._columnSizes)this._columnSizes[a].remove();--u||s.destroy()},resizeColumnWidth:function(a,
b){return r(this,a,b)},configStructure:function(){var a=this._oldColumnSizes=f.mixin({},this._columnSizes),b;this._resizedColumns=!1;this._columnSizes={};this.inherited(arguments);for(b in a)b in this._columnSizes||a[b].remove();delete this._oldColumnSizes},_configColumn:function(a){this.inherited(arguments);var b=a.id,c;"width"in a&&((c=this._oldColumnSizes[b])?c.set("width",a.width+"px"):c=p.addCssRule("#"+p.escapeCssIdentifier(this.domNode.id)+" .dgrid-column-"+p.escapeCssIdentifier(b,"-"),"width: "+
a.width+"px;"),this._columnSizes[b]=c)},renderHeader:function(){this.inherited(arguments);var a=this,c;if(this.columnSets&&this.columnSets.length)for(var d=this.columnSets.length;d--;)c=f.mixin(c||{},n(this.columnSets[d]));else this.subRows&&1<this.subRows.length&&(c=n(this.subRows));for(var d=l(".dgrid-cell",a.headerNode),k=d.length;k--;){var h=d[k],m=h.columnId,r=a.columns[m],s=h.childNodes;if(r&&!1!==r.resizable){r=g("div.dgrid-resize-header-container");for(h.contents=r;0<s.length;)g(r,s[0]);h=
g(h,r,"div.dgrid-resize-handle.resizeNode-"+p.escapeCssIdentifier(m,"-"));h.columnId=c&&c[m]||m}}a.mouseMoveListen||(e(a.headerNode,".dgrid-resize-handle:mousedown"+(b("touch")?",.dgrid-resize-handle:touchstart":""),function(b){a._resizeMouseDown(b,this);a.mouseMoveListen.resume();a.mouseUpListen.resume()}),a._listeners.push(a.mouseMoveListen=e.pausable(document,"mousemove"+(b("touch")?",touchmove":""),p.throttleDelayed(function(b){a._updateResizerPosition(b)}))),a._listeners.push(a.mouseUpListen=
e.pausable(document,"mouseup"+(b("touch")?",touchend":""),function(b){a._resizeMouseUp(b);a.mouseMoveListen.pause();a.mouseUpListen.pause()})),a.mouseMoveListen.pause(),a.mouseUpListen.pause())},_resizeMouseDown:function(a,b){a.preventDefault();c.setSelectable(this.domNode,!1);this._startX=this._getResizeMouseLocation(a);this._targetCell=l(".dgrid-column-"+p.escapeCssIdentifier(b.columnId,"-"),this.headerNode)[0];this._updateResizerPosition(a);s.show(this)},_resizeMouseUp:function(a){var b=this._columnSizes,
d,e,f;this.adjustLastColumn&&(f=this.headerNode.clientWidth-1);this._resizedColumns||(d=l(".dgrid-cell",this.headerNode),this.columnSets&&this.columnSets.length?d=d.filter(function(a){return"0"==a.columnId.split("-")[0]&&!(a.columnId in b)}):this.subRows&&1<this.subRows.length&&(d=d.filter(function(a){return"0"==a.columnId.charAt(0)&&!(a.columnId in b)})),e=d.map(function(a){return a.offsetWidth}),d.forEach(function(a,b){r(this,a.columnId,e[b],null,!1)},this),this._resizedColumns=!0);c.setSelectable(this.domNode,
!0);d=this._targetCell;var g=this._getResizeMouseLocation(a)-this._startX,k=d.offsetWidth+g,h=this._getResizedColumnWidths(),n=h.totalWidth,h=h.lastColId,t=l(".dgrid-column-"+p.escapeCssIdentifier(h,"-"),this.headerNode)[0].offsetWidth;k<this.minWidth&&(k=this.minWidth);r(this,d.columnId,k,a.type)&&d.columnId!=h&&this.adjustLastColumn&&(n+g<f?r(this,h,"auto",a.type):t-g<=this.minWidth&&r(this,h,this.minWidth,a.type));s.hide();delete this._startX;delete this._targetCell},_updateResizerPosition:function(a){if(this._targetCell){a=
this._getResizeMouseLocation(a);var b=this._targetCell.offsetWidth,c=a;b+(a-this._startX)<this.minWidth&&(c=this._startX-(b-this.minWidth));s.move(c)}},_getResizeMouseLocation:function(a){var b=0;a.pageX?b=a.pageX:a.clientX&&(b=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft);return b},_getResizedColumnWidths:function(){var a=0,b=l((this.columnSets?".dgrid-column-set-cell ":"")+"tr:first-child .dgrid-cell",this.headerNode),c=b.length;if(!c)return{};for(var e=b[c-1].columnId;c--;)a+=
b[c].offsetWidth;return{totalWidth:a,lastColId:e}}})})},"widgets/Geoprocessing/resultrenderers/ResultImageLayerRenderer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-style dojo/on dijit/_TemplatedMixin dojo/text!./ResultImageLayerRenderer.html ../BaseResultRenderer".split(" "),function(h,e,l,f,c,a,b,p){return h([p,a],{baseClass:"jimu-gp-resultrenderer-base jimu-gp-renderer-draw-feature",templateString:b,postCreate:function(){this.inherited(arguments);this.layer&&
(this._displayText(),this._addResultLayer(this.param,this.layer))},destroy:function(){this.layer&&(this.map.removeLayer(this.layer),this.layer=null);this.inherited(arguments)},_displayText:function(){f.set(this.clearNode,"display","");this.own(c(this.clearNode,"click",e.hitch(this,function(){this.layer&&(this.map.infoWindow.isShowing&&this.map.infoWindow.hide(),this.map.removeLayer(this.layer),this.layer=null);f.set(this.clearNode,"display","none")})))},_addResultLayer:function(a,b){var c=this.map.layerIds,
e,f=-1;l.some(this.config.outputParams,function(a){if("GPFeatureRecordSetLayer"===a.dataType||"GPRasterDataLayer"===a.dataType)if(f=c.indexOf(this.widgetUID+a.name),0<=f)return e=a,!0},this);if(e){var h=this.config.outputParams.indexOf(a),p=this.config.outputParams.indexOf(e);h>p?this.map.addLayer(b,f):this.map.addLayer(b)}else this.map.addLayer(b)}})})},"esri/tasks/GPMessage":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel"],function(h,e,l,f){h=h(null,{declaredClass:"esri.tasks.GPMessage",
constructor:function(c){e.mixin(this,c)}});e.mixin(h,{TYPE_INFORMATIVE:"esriJobMessageTypeInformative",TYPE_PROCESS_DEFINITION:"esriJobMessageTypeProcessDefinition",TYPE_PROCESS_START:"esriJobMessageTypeProcessStart",TYPE_PROCESS_STOP:"esriJobMessageTypeProcessStop",TYPE_WARNING:"esriJobMessageTypeWarning",TYPE_ERROR:"esriJobMessageTypeError",TYPE_EMPTY:"esriJobMessageTypeEmpty",TYPE_ABORT:"esriJobMessageTypeAbort"});return h})},"esri/tasks/Geoprocessor":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/Deferred dojo/_base/json dojo/has dojo/io-query ../kernel ../request ../deferredUtils ../geometry/normalizeUtils ./Task ./FeatureSet ./JobInfo ./GPMessage ./LinearUnit ./DataFile ./RasterData ./Date ./ParameterValue ./GPResultImageLayer ../layers/ArcGISDynamicMapServiceLayer ../layers/MapImage".split(" "),
function(h,e,l,f,c,a,b,p,g,n,r,k,u,s,v,w,d,z,x,m,D,C,A){h=h(k,{declaredClass:"esri.tasks.Geoprocessor",_eventMap:{"execute-complete":["results","messages"],"get-result-data-complete":["result"],"get-result-image-complete":["mapImage"],"get-result-image-layer-complete":["layer"],"job-cancel":["jobInfo"],"job-complete":["jobInfo"],"status-update":["jobInfo"]},constructor:function(a){this._jobUpdateHandler=e.hitch(this,this._jobUpdateHandler);this._getJobStatus=e.hitch(this,this._getJobStatus);this._getResultDataHandler=
e.hitch(this,this._getResultDataHandler);this._getResultImageHandler=e.hitch(this,this._getResultImageHandler);this._executeHandler=e.hitch(this,this._executeHandler);this._updateTimers=[];this.registerConnectEvents()},updateDelay:1E3,processSpatialReference:null,outputSpatialReference:null,outSpatialReference:null,setUpdateDelay:function(a){this.updateDelay=a},setProcessSpatialReference:function(a){this.processSpatialReference=a},setOutputSpatialReference:function(a){this._setOutSR(a)},setOutSpatialReference:function(a){this._setOutSR(a)},
__msigns:[{n:"execute",c:3,a:[{i:0,p:["*"]}],e:2,f:1},{n:"submitJob",c:4,a:[{i:0,p:["*"]}],e:3}],_setOutSR:function(a){this.outSpatialReference=this.outputSpatialReference=a},_getOutSR:function(){return this.outSpatialReference||this.outputSpatialReference},_gpEncode:function(a,b,d){for(var f in a){var g=a[f];e.isArray(g)?a[f]=c.toJson(l.map(g,function(a){return this._gpEncode({item:a},!0).item},this)):g instanceof Date&&(a[f]=g.getTime())}return this._encode(a,b,d)},_decode:function(a){var b=a.dataType,
c=new m(a);if(-1!==l.indexOf(["GPBoolean","GPDouble","GPLong","GPString"],b))return c;if("GPLinearUnit"===b)c.value=new w(c.value);else if("GPFeatureRecordSetLayer"===b||"GPRecordSet"===b)c.value=new u(c.value);else if("GPDataFile"===b)c.value=new d(c.value);else if("GPDate"===b)a=c.value,e.isString(a)?c.value=new x({date:a}):c.value=new Date(a);else if("GPRasterData"===b||"GPRasterDataLayer"===b)a=a.value.mapImage,c.value=a?new A(a):new z(c.value);else if(-1!==b.indexOf("GPMultiValue:")){var f=b.split(":")[1];
a=c.value;c.value=l.map(a,function(a){return this._decode({paramName:"_name",dataType:f,value:a}).value},this)}else console.log(this.declaredClass+" : GP Data type not handled. : "+c.dataType),c=null;return c},submitJob:function(a,b,d,f,h){var k=this._getOutSR(),l=h.assembly;a=this._gpEncode(e.mixin({},this._url.query,{f:"json","env:outSR":k?k.wkid||c.toJson(k.toJson()):null,"env:processSR":this.processSpatialReference?this.processSpatialReference.wkid||c.toJson(this.processSpatialReference.toJson()):
null},a),null,l&&l[0]);var m=this._jobUpdateHandler,n=this._errorHandler;return g({url:this._url.path+"/submitJob",content:a,callbackParamName:"callback",load:function(a,c){m(a,c,!1,b,d,h.dfd)},error:function(a){n(a,f,h.dfd)}})},_jobUpdateHandler:function(a,b,c,d,e,f){var g=a.jobId;b=new s(a);this._successHandler([b],"onStatusUpdate",e,c&&f);if(!c)switch(clearTimeout(this._updateTimers[g]),this._updateTimers[g]=null,f&&f.progress(b),a.jobStatus){case s.STATUS_SUBMITTED:case s.STATUS_EXECUTING:case s.STATUS_WAITING:case s.STATUS_NEW:var h=
this._getJobStatus;this._updateTimers[g]=setTimeout(function(){h(g,c,d,e,f)},this.updateDelay);break;default:this._successHandler([b],"onJobComplete",d,f)}},_getJobStatus:function(a,b,c,d,f){var h=this._jobUpdateHandler;g({url:this._url.path+"/jobs/"+a,content:e.mixin({},this._url.query,{f:"json"}),callbackParamName:"callback",load:function(a,e){h(a,e,b,c,d,f)},error:this._errorHandler})},_getResultDataHandler:function(a,b,c,d,e){try{var f=this._decode(a);this._successHandler([f],"onGetResultDataComplete",
c,e)}catch(g){this._errorHandler(g,d,e)}},getResultData:function(a,b,c,d){var h=this._getResultDataHandler,k=this._errorHandler,l=new f(n._dfdCanceller);l._pendingDfd=g({url:this._url.path+"/jobs/"+a+"/results/"+b,content:e.mixin({},this._url.query,{f:"json",returnType:"data"}),callbackParamName:"callback",load:function(a,b){h(a,b,c,d,l)},error:function(a){k(a,d,l)}});return l},checkJobStatus:function(a,b,c){var d=this._jobUpdateHandler,h=this._errorHandler,k=new f(n._dfdCanceller);k._pendingDfd=
g({url:this._url.path+"/jobs/"+a,content:e.mixin({},this._url.query,{f:"json"}),callbackParamName:"callback",load:function(a,c){d(a,c,!0,null,b,k)},error:function(a){h(a,c,k)}});return k},cancelJob:function(a,b,c){var d=this._errorHandler,h=new f(n._dfdCanceller);h._pendingDfd=g({url:this._url.path+"/jobs/"+a+"/cancel",content:e.mixin({},this._url.query,{f:"json"}),callbackParamName:"callback",load:e.hitch(this,function(a,c){this._successHandler([a],"onJobCancel",b,h)}),error:function(a){d(a,c,h)}});
return h},execute:function(a,b,d,f){var h=this._getOutSR(),k=f.assembly;a=this._gpEncode(e.mixin({},this._url.query,{f:"json","env:outSR":h?h.wkid||c.toJson(h.toJson()):null,"env:processSR":this.processSpatialReference?this.processSpatialReference.wkid||c.toJson(this.processSpatialReference.toJson()):null},a),null,k&&k[0]);var l=this._executeHandler,m=this._errorHandler;return g({url:this._url.path+"/execute",content:a,callbackParamName:"callback",load:function(a,c){l(a,c,b,d,f.dfd)},error:function(a){m(a,
d,f.dfd)}})},_executeHandler:function(a,b,c,d,e){try{var f=a.results,g,h,k=a.messages;g=0;for(h=f.length;g<h;g++)f[g]=this._decode(f[g]);g=0;for(h=k.length;g<h;g++)k[g]=new v(k[g]);this._successHandler([f,k],"onExecuteComplete",c,e)}catch(l){this._errorHandler(l,d,e)}},_getResultImageHandler:function(a,b,c,d,e){try{var f=this._decode(a);this._successHandler([f],"onGetResultImageComplete",c,e)}catch(g){this._errorHandler(g,d,e)}},getResultImage:function(a,b,c,d,h){var k=this._getResultImageHandler,
l=this._errorHandler;c=this._gpEncode(e.mixin({},this._url.query,{f:"json"},c.toJson()));var m=new f(n._dfdCanceller);m._pendingDfd=g({url:this._url.path+"/jobs/"+a+"/results/"+b,content:c,callbackParamName:"callback",load:function(a,b){k(a,b,d,h,m)},error:function(a){l(a,h,m)}});return m},cancelJobStatusUpdates:function(a){clearTimeout(this._updateTimers[a]);this._updateTimers[a]=null},getResultImageLayer:function(a,c,d,e){if(null==c){var f=this._url.path.indexOf("/GPServer/");a=this._url.path.substring(0,
f)+"/MapServer/jobs/"+a}else a=this._url.path+"/jobs/"+a+"/results/"+c;this._url.query&&(a+="?"+b.objectToQuery(this._url.query));c=null==c?new C(a,{imageParameters:d}):new D(a,{imageParameters:d},!0);this.onGetResultImageLayerComplete(c);e&&e(c);return c},onStatusUpdate:function(){},onJobComplete:function(){},onExecuteComplete:function(){},onGetResultDataComplete:function(){},onGetResultImageComplete:function(){},onGetResultImageLayerComplete:function(){},onJobCancel:function(){}});r._createWrappers(h);
return h})},"esri/tasks/JobInfo":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","./GPMessage"],function(h,e,l,f,c){h=h(null,{declaredClass:"esri.tasks.JobInfo",constructor:function(a){this.messages=[];e.mixin(this,a);a=this.messages;var b,f=a.length;for(b=0;b<f;b++)a[b]=new c(a[b])},jobId:"",jobStatus:""});e.mixin(h,{STATUS_CANCELLED:"esriJobCancelled",STATUS_CANCELLING:"esriJobCancelling",STATUS_DELETED:"esriJobDeleted",STATUS_DELETING:"esriJobDeleting",STATUS_EXECUTING:"esriJobExecuting",
STATUS_FAILED:"esriJobFailed",STATUS_NEW:"esriJobNew",STATUS_SUBMITTED:"esriJobSubmitted",STATUS_SUCCEEDED:"esriJobSucceeded",STATUS_TIMED_OUT:"esriJobTimedOut",STATUS_WAITING:"esriJobWaiting"});return h})},"esri/tasks/Date":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/date/locale","dojo/has","../kernel"],function(h,e,l,f,c){return h(null,{declaredClass:"esri.tasks.Date",constructor:function(a){a&&(a.format&&(this.format=a.format),this.date=l.parse(a.date,{selector:"date",datePattern:this.format}))},
date:new Date,format:"EEE MMM dd HH:mm:ss zzz yyyy",toJson:function(){return{date:l.format(this.date,{selector:"date",datePattern:this.format}),format:this.format}}})})},"esri/tasks/ParameterValue":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel"],function(h,e,l,f){return h(null,{declaredClass:"esri.tasks.ParameterValue",constructor:function(c){e.mixin(this,c)}})})},"esri/tasks/GPResultImageLayer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/json dojo/has dojo/io-query ../kernel ../layers/ArcGISDynamicMapServiceLayer".split(" "),
function(h,e,l,f,c,a,b){return h(b,{declaredClass:"esri.tasks._GPResultImageLayer",constructor:function(a,b){b&&(b.imageParameters&&b.imageParameters.extent)&&(this.initialExtent=this.fullExtent=b.imageParameters.extent,this.spatialReference=this.initialExtent.spatialReference);this.getImageUrl=e.hitch(this,this.getImageUrl);this.loaded=!0;this.onLoad(this)},getImageUrl:function(a,b,f,h){var k=a.spatialReference.wkid;h(this._url.path+"?"+c.objectToQuery(e.mixin(this._params,{f:"image",bbox:l.toJson(a.toJson()),
bboxSR:k,imageSR:k,size:b+","+f})))}})})},"widgets/Geoprocessing/utils":function(){define(["dojo/_base/array","dojo/Deferred","esri/request"],function(h,e,l){var f={promisifyGetValue:function(c){var a=c.getValue;c.getValue=function(){var b=a.apply(c);if(null!==b&&b.then)return b;var f=new e;f.resolve(b);return f}},allowShareResult:function(c){return h.some(c.outputParams,function(a){return"GPRecordSet"===a.dataType||"GPFeatureRecordSetLayer"===a.dataType&&a.defaultValue&&a.defaultValue.geometryType})},
getServiceDescription:function(c){var a;return l({url:c,content:{f:"json"},handleAs:"json",callbackParamName:"callback"}).then(function(b){a=b;return f.getGPServerDescription(c).then(function(b){a.serverInfo=b;a.useResultMapServer=b.hasResultMapServer;return f.uploadSupported(b).then(function(b){a.serverInfo.supportsUpload=b.supportsUpload;"maxUploadFileSize"in b&&(a.serverInfo.maxUploadFileSize=b.maxUploadFileSize);return a})})})},getGPServerDescription:function(c){var a={url:f.getGPServerUrl(c),
content:{f:"json"},handleAs:"json",callbackParamName:"callback"};return l(a,{useProxy:!1}).then(function(b){var c={};c.currentVersion=b.currentVersion||0;c.url=a.url;c.hasResultMapServer="esriExecutionTypeAsynchronous"===b.executionType&&"resultMapServerName"in b&&""!==b.resultMapServerName;return c})},getGPServerUrl:function(c){if(!/\/GPServer\/.+$/.test(c))return"";var a=c.search(/[\w]+[^\/]*$/g);return c.substr(0,a)},uploadSupported:function(c){if(10.1<=c.currentVersion)return l({url:c.url+"uploads/info",
content:{f:"json"},handleAs:"json"}).then(function(a){return{supportsUpload:!0,maxUploadFileSize:a.maxUploadFileSize}},function(){return{supportsUpload:!1}});c=new e;c.resolve({supportsUpload:!1});return c}};return f})},"widgets/Geoprocessing/_build-generate_module":function(){define(["dojo/text!./Widget.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings"],function(){})},"url:dijit/templates/Calendar.html":'\x3cdiv class\x3d"dijitCalendarContainer dijitInline" role\x3d"presentation" aria-labelledby\x3d"${id}_mddb ${id}_year"\x3e\r\n\t\x3cdiv class\x3d"dijitReset dijitCalendarMonthContainer" role\x3d"presentation"\x3e\r\n\t\t\x3cdiv class\x3d\'dijitReset dijitCalendarArrow dijitCalendarDecrementArrow\' data-dojo-attach-point\x3d"decrementMonth"\x3e\r\n\t\t\t\x3cimg src\x3d"${_blankGif}" alt\x3d"" class\x3d"dijitCalendarIncrementControl dijitCalendarDecrease" role\x3d"presentation"/\x3e\r\n\t\t\t\x3cspan data-dojo-attach-point\x3d"decreaseArrowNode" class\x3d"dijitA11ySideArrow"\x3e-\x3c/span\x3e\r\n\t\t\x3c/div\x3e\r\n\t\t\x3cdiv class\x3d\'dijitReset dijitCalendarArrow dijitCalendarIncrementArrow\' data-dojo-attach-point\x3d"incrementMonth"\x3e\r\n\t\t\t\x3cimg src\x3d"${_blankGif}" alt\x3d"" class\x3d"dijitCalendarIncrementControl dijitCalendarIncrease" role\x3d"presentation"/\x3e\r\n\t\t\t\x3cspan data-dojo-attach-point\x3d"increaseArrowNode" class\x3d"dijitA11ySideArrow"\x3e+\x3c/span\x3e\r\n\t\t\x3c/div\x3e\r\n\t\t\x3cdiv data-dojo-attach-point\x3d"monthNode" class\x3d"dijitInline"\x3e\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\t\x3ctable cellspacing\x3d"0" cellpadding\x3d"0" role\x3d"grid" data-dojo-attach-point\x3d"gridNode"\x3e\r\n\t\t\x3cthead\x3e\r\n\t\t\t\x3ctr role\x3d"row"\x3e\r\n\t\t\t\t${!dayCellsHtml}\r\n\t\t\t\x3c/tr\x3e\r\n\t\t\x3c/thead\x3e\r\n\t\t\x3ctbody data-dojo-attach-point\x3d"dateRowsNode" data-dojo-attach-event\x3d"ondijitclick: _onDayClick" class\x3d"dijitReset dijitCalendarBodyContainer"\x3e\r\n\t\t\t\t${!dateRowsHtml}\r\n\t\t\x3c/tbody\x3e\r\n\t\x3c/table\x3e\r\n\t\x3cdiv class\x3d"dijitReset dijitCalendarYearContainer" role\x3d"presentation"\x3e\r\n\t\t\x3cdiv class\x3d"dijitCalendarYearLabel"\x3e\r\n\t\t\t\x3cspan data-dojo-attach-point\x3d"previousYearLabelNode" class\x3d"dijitInline dijitCalendarPreviousYear" role\x3d"button"\x3e\x3c/span\x3e\r\n\t\t\t\x3cspan data-dojo-attach-point\x3d"currentYearLabelNode" class\x3d"dijitInline dijitCalendarSelectedYear" role\x3d"button" id\x3d"${id}_year"\x3e\x3c/span\x3e\r\n\t\t\t\x3cspan data-dojo-attach-point\x3d"nextYearLabelNode" class\x3d"dijitInline dijitCalendarNextYear" role\x3d"button"\x3e\x3c/span\x3e\r\n\t\t\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/Geoprocessing/editors/FeatureSetEditorChooser.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"field"\x3e\r\n    \x3cinput name\x3d"mode" type\x3d"radio" data-dojo-attach-point\x3d"drawMode" data-dojo-props\x3d"" data-dojo-attach-event\x3d"onclick: _onDrawModeSelect" style\x3d"font-size: 10px;" class\x3d"jimu-leading-margin10"\x3e\x3clabel style\x3d"width: auto;" class\x3d"jimu-leading-margin025"\x3e${nls.drawOnMap}\x3c/label\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"field"\x3e\r\n    \x3cinput name\x3d"mode" type\x3d"radio" data-dojo-attach-point\x3d"fileMode" style\x3d"font-size: 10px;" data-dojo-attach-event\x3d"onclick: _onFileModeSelect" class\x3d"jimu-leading-margin10"\x3e\x3clabel style\x3d" width: auto;" class\x3d"jimu-leading-margin025"\x3e${nls.useShapefile}\x3c/label\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"field"\x3e\r\n    \x3cinput name\x3d"mode" type\x3d"radio" data-dojo-attach-point\x3d"layersMode" style\x3d"font-size: 10px;" data-dojo-attach-event\x3d"onclick: _onLayersModeSelect" class\x3d"jimu-leading-margin10"\x3e\x3clabel style\x3d" width: auto;" class\x3d"jimu-leading-margin025"\x3e${nls.selectLayer}\x3c/label\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"field" style\x3d"height: 60px;"\x3e\r\n    \x3cinput name\x3d"mode" type\x3d"radio" data-dojo-attach-point\x3d"urlMode" style\x3d"font-size: 10px;" data-dojo-attach-event\x3d"onclick: _onUrlModeSelect" class\x3d"jimu-leading-margin10"\x3e\x3clabel style\x3d"width: auto" class\x3d"jimu-leading-margin025"\x3e${nls.url}\x3c/label\x3e\r\n    \x3cdiv style\x3d"margin-top:5px;display:none;" data-dojo-attach-point\x3d"urlOptionsDiv"\x3e\r\n      \x3cinput name\x3d"mode" data-dojo-type\x3d"jimu/dijit/URLInput" data-dojo-attach-point\x3d"featureSetUrl" class\x3d"jimu-leading-margin10" style\x3d"display: inline-block;"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"visibleCheckboxDiv" style\x3d"display: inline-block;"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"symbolChooserSection"\x3e\r\n    \x3clabel\x3e${nls.symbol}:\x3c/label\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"symbolChooserNode"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/Geoprocessing/editors/FeatureSetResultEditor.html":'\x3cdiv\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"rendererTab"\x3e\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"popupConfigTab"\x3e\r\n    \x3cdiv style\x3d"margin: 10px"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"enablePopupNode"\x3e\x3c/div\x3e \x3clabel\x3e${nls.enablePopup}\x3c/label\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',"url:jimu/dijit/templates/RendererChooser.html":'\x3cdiv\x3e\r\n\t\x3ctable\x3e\r\n\t\t\x3ctbody\x3e\r\n\t\t\t\x3ctr\x3e\r\n\t\t\t\t\x3ctd class\x3d"leading-td"\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"setting-section" style\x3d"display:inline-block;width:263px;"\x3e\r\n\t\t\t\t\t\t\x3ctable class\x3d"renderer-setting-table" cellpadding\x3d"0" cellspacing\x3d"0"\x3e\r\n\t\t\t\t\t\t\t\x3ccolgroup\x3e\r\n\t\t\t\t\t\t\t\t\x3ccol width\x3d"auto"\x3e\x3c/col\x3e\r\n\t\t\t\t\t\t\t\t\x3ccol width\x3d"180px"\x3e\x3c/col\x3e\r\n\t\t\t\t\t\t    \x3c/colgroup\x3e\r\n\t\t\t\t\t\t\t\x3ctbody\x3e\r\n\t\t\t\t\t\t\t\t\x3ctr data-dojo-attach-point\x3d"rendererSelectTr"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctd class\x3d"first-td"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cspan\x3e${nls.use}:\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cselect data-dojo-attach-point\x3d"rendererSelect" data-dojo-type\x3d"dijit/form/Select" style\x3d"width:100%;height:30px;"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3coption value\x3d"simple" selected\x3dtrue\x3e${nls.singleSymbol}\x3c/option\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3coption value\x3d"unique"\x3e${nls.uniqueSymbol}\x3c/option\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3coption value\x3d"color"\x3e${nls.color}\x3c/option\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3coption value\x3d"size"\x3e${nls.size}\x3c/option\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3c/select\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\x3c/tr\x3e\r\n\t\t\t\t\t\t\t\t\x3ctr data-dojo-attach-point\x3d"fieldSelectTr" style\x3d"display:none;"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctd class\x3d"first-td"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cspan\x3e${nls.toShow}:\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctd class\x3d"field-combobox-td"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"fieldComboBox" data-dojo-type\x3d"dijit/form/ComboBox" class\x3d"dijit-form-CombBox" style\x3d"width:100%;"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\x3c/tr\x3e\r\n\t\t\t\t\t\t\t\t\x3ctr data-dojo-attach-point\x3d"colorBlockTr" style\x3d"display:none;"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctd class\x3d"first-td"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cspan\x3e${nls.colors}:\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"uniqueColorSelect" data-dojo-type\x3d"dijit/form/Select" style\x3d"width:100%;height:30px;"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d\'color1\'\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg  style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/c1.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d\'color2\'\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg  style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/c2.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d\'color3\'\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg  style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/c3.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d\'color4\'\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg  style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/c4.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d\'color5\'\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg  style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/c5.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d\'color6\'\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg  style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/c6.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\x3c/tr\x3e\r\n\t\t\t\t\t\t\t\t\x3ctr data-dojo-attach-point\x3d"domainTr" style\x3d"display:none;"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctd class\x3d"first-td"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cspan\x3e${nls.domain}:\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"minDomain" type\x3d"text" data-dojo-type\x3d"dijit/form/NumberTextBox" required\x3d"true" value\x3d"0"\r\n\t\t\t\t\t\t\t\t\t\t style\x3d"width:60px;" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cspan\x3e  \u2014  \x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"maxDomain" type\x3d"text" data-dojo-type\x3d"dijit/form/NumberTextBox" required\x3d"true" value\x3d"0"\r\n\t\t\t\t\t\t\t\t\t\t style\x3d"width:60px;" /\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\x3c/tr\x3e\r\n\t\t\t\t\t\t\t\t\x3ctr data-dojo-attach-point\x3d"classCountTr" style\x3d"display:none;"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctd class\x3d"first-td"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cspan\x3e${nls.classes}:\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"classCount" data-dojo-type\x3d"dijit/form/NumberSpinner" style\x3d"display:inline-block;width:100px;"\r\n\t\t\t\t\t\t\t\t\t\tdata-dojo-props\x3d\'value:5,smallDelta:1,constraints:{min:2,max:20},intermediateChanges:true\' /\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\x3c/tr\x3e\r\n\t\t\t\t\t\t\t\t\x3ctr data-dojo-attach-point\x3d"colorBarTr" style\x3d"display:none;"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctd class\x3d"first-td"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cspan\x3e${nls.colors}:\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"classBreaksColorSelect" data-dojo-type\x3d"dijit/form/Select" style\x3d"width:100%;height:30px;"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color1"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb1.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color2"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb2.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color3"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb3.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color4"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb4.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color5"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb5.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color6"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb6.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color7"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb7.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color8"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb8.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color9"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb9.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color10"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb10.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color11"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb11.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color12"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb12.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color13"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb13.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color14"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb14.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color15"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb15.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color16"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb16.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color17"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb17.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color18"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb18.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color19"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb19.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color20"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb20.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color21"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb21.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color22"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb22.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color23"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb23.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color24"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb24.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color25"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb25.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color26"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb26.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-value\x3d"color27"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg style\x3d"width:140px;height:20px;vertical-align: middle;margin-top: 1px;margin-bottom:1px;" src\x3d"${_jimuUrl}/css/images/symbol/cb27.png" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\x3c/tr\x3e\r\n\t\t\t\t\t\t\t\t\x3ctr data-dojo-attach-point\x3d"symbolSizeDomainTr" style\x3d"display:none;"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctd class\x3d"first-td"\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cspan\x3e${nls.symbolSize}:\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"minSymbolSize" type\x3d"text" data-dojo-type\x3d"dijit/form/NumberTextBox" required\x3d"true" value\x3d"5" data-dojo-props\x3d"constraints:{min:1,max:50,places:0}" style\x3d"width:60px;" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cspan\x3e  \u2014  \x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"maxSymbolSize" type\x3d"text" data-dojo-type\x3d"dijit/form/NumberTextBox" required\x3d"true" value\x3d"30" data-dojo-props\x3d"constraints:{min:1,max:50,places:0}"  style\x3d"width:60px;" /\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\x3c/tr\x3e\r\n\t\t\t\t\t\t\t\x3c/tbody\x3e\r\n\t\t\t\t\t\t\x3c/table\x3e\r\n\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"uniqueSetting" style\x3d"display:none;"\x3e\r\n\t\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"uniqueValueDiv" class\x3d"unique-value-div"\x3e\r\n\t\t\t\t\t\t\t\t\x3ctable class\x3d"unique-symbol-table" style\x3d"width:100%;"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctbody data-dojo-attach-point\x3d"uniqueSysTbody"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/tbody\x3e\r\n\t\t\t\t\t\t\t\t\x3c/table\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv style\x3d"padding-top:20px; margin-bottom:5px;"\x3e${nls.addValue}:\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv\x3e\r\n\t\t\t\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"uniqueEditValue" type\x3d"text" /\x3e\r\n\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"btnAddUniqueValue" class\x3d"jimu-icon jimu-icon-add"\r\n\t\t\t\t\t\t\t\t\t style\x3d\'cursor:pointer;position:relative;top:3px;\'\x3e\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\x3cdiv class\x3d"class-breaks-div" data-dojo-attach-point\x3d"classBreaksSetting" style\x3d"display:none;"\x3e\r\n\t\t\t\t\t\t\t\x3ctable class\x3d"class-breaks-table" style\x3d"width:100%;"\x3e\r\n\t\t\t\t\t\t\t\t\x3ctbody data-dojo-attach-point\x3d"classBreaksTbody"\x3e\r\n\t\t\t\t\t\t\t\t\x3c/tbody\x3e\r\n\t\t\t\t\t\t\t\x3c/table\x3e\r\n\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"defaultSymPreview" class\x3d"default-sym-preview"\x3e\r\n\t\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"btnDefaultSym" class\x3d"default-sym-btn jimu-btn  jimu-float-leading"\x3e${nls.setDefaultSymbol}\x3c/div\x3e\r\n\t\t\t\t\t\t    \x3cdiv data-dojo-attach-point\x3d"defaultSymPreviewDiv" class\x3d"default-symbol-node  jimu-float-leading"\x3e\x3c/div\x3e\r\n\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\x3ctd class\x3d"trailing-td"\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"symbol-section" style\x3d"display:inline-block;"\x3e\r\n\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"defaultSymSection"\x3e\r\n\t\t\t\t\t\t\t\x3cdiv\x3e${nls.defaultSymbol}\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"defaultSymbolChooser" data-dojo-type\x3d"jimu/dijit/SymbolChooser"\x3e\x3c/div\x3e\r\n\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"selectedSymSection" style\x3d"display:none;"\x3e\r\n\t\t\t\t\t\t\t\x3cdiv\x3e${nls.selectedSymbol}\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"uniqueSelectedSymInfoSet" style\x3d"display:none;"\x3e\r\n\t\t\t\t\t\t\t\t\x3ctable style\x3d"width:100%;"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctbody\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3ctr\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cspan\x3e${nls.value}:\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"uniqueSelectedValue" type\x3d"text" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3c/tr\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3ctr\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cspan\x3e${nls.label}:\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"uniqueSelectedLabel" type\x3d"text" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3c/tr\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/tbody\x3e\r\n\t\t\t\t\t\t\t\t\x3c/table\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"classBreaksSelectedInfoSet" style\x3d"display:none;"\x3e\r\n\t\t\t\t\t\t\t\t\x3ctable style\x3d"width:100%;margin-top:10px;"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3ctbody\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3ctr\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cspan\x3e${nls.range}:\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"selectedFrom" type\x3d"text" data-dojo-type\x3d"dijit/form/NumberTextBox" required\x3d"true" value\x3d"0" style\x3d"width:60px;" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cspan\x3e  \u2014  \x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"selectedTo" type\x3d"text" data-dojo-type\x3d"dijit/form/NumberTextBox" required\x3d"true" value\x3d"0"  style\x3d"width:60px;" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3c/tr\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3ctr\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cspan\x3e${nls.label}:\x3c/span\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"classBreakSelectedLabel" type\x3d"text" /\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\t\t\t\t\t\t\x3c/tr\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/tbody\x3e\r\n\t\t\t\t\t\t\t\t\x3c/table\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"selectedSymbolChooser" data-dojo-type\x3d"jimu/dijit/SymbolChooser"\x3e\x3c/div\x3e\r\n\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\x3c/tr\x3e\r\n\t\t\x3c/tbody\x3e\r\n\t\x3c/table\x3e\r\n\x3c/div\x3e',
"url:jimu/dijit/templates/PopupConfig.html":'\x3cdiv style\x3d"width:560px;"\x3e\r\n\t\x3ctable class\x3d"popup-config-layout" style\x3d"width:100%;table-layout:fixed;"\x3e\r\n\t\t\x3ccolgroup\x3e\r\n\t\t\t\x3ccol width\x3d"auto"\x3e\x3c/col\x3e\r\n\t\t\t\x3ccol width\x3d"370px"\x3e\x3c/col\x3e\r\n\t\t\t\x3ccol width\x3d"70px"\x3e\x3c/col\x3e\r\n\t\t\x3c/colgroup\x3e\r\n\t\t\x3ctbody\x3e\r\n\t\t\t\x3ctr data-dojo-attach-point\x3d"titleTR"\x3e\r\n\t\t\t\t\x3ctd nowrap\x3e\r\n\t\t\t\t\t\x3cspan\x3e${nls.title}\x3c/span\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"titleTextBox" data-dojo-type\x3d"dijit/form/TextBox" style\x3d"width:100%;" /\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"btnAdd" data-dojo-type\x3d"dijit/form/DropDownButton"\x3e\r\n\t\t\t\t\t\t\x3cspan\x3e${nls.add}\x3c/span\x3e\r\n\t\t\t\t\t\t\x3cdiv data-dojo-type\x3d"dijit/TooltipDialog"\x3e\r\n\t\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"menu" data-dojo-type\x3d"dijit/Menu"\x3e\x3c/div\x3e\r\n\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\x3c/tr\x3e\r\n\t\t\t\x3ctr data-dojo-attach-point\x3d"fieldsTR"\x3e\r\n\t\t\t\t\x3ctd nowrap\x3e\r\n\t\t\t\t\t\x3cspan\x3e${nls.fields}\x3c/span\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\x3ctd colspan\x3d"2" data-dojo-attach-point\x3d"fieldsTableTd"\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\x3c/tr\x3e\r\n\t\t\x3c/tbody\x3e\r\n\t\x3c/table\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/Geoprocessing/editors/SelectFeatureSetFromUrl.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"inputNode"\x3e\r\n    \x3cinput name\x3d"url" data-dojo-type\x3d"jimu/dijit/URLInput" data-dojo-attach-point\x3d"featureSetUrl" data-dojo-props\x3d"placeholder: \'feature set URL\'"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"loadingNode" class\x3d"loading"\x3e\x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"visibleCheckboxDiv"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"featuresetNode"\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:jimu/dijit/templates/SpatialFilterByFeatures.html":'\x3cdiv\x3e\r\n\t\x3cdiv class\x3d"layer-tip second-stress" data-dojo-attach-point\x3d"tipNode"\x3e${nls.relatedLayer}\x3c/div\x3e\r\n\t\x3ctable\x3e\r\n\t\t\x3ccolgroup\x3e\r\n\t\t\t\x3ccol width\x3d"auto"\x3e\x3c/col\x3e\r\n\t\t\t\x3ccol width\x3d"100"\x3e\x3c/col\x3e\r\n\t\t\x3c/colgroup\x3e\r\n\t\t\x3ctbody\x3e\r\n\t\t\t\x3ctr\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"layers-select-div" data-dojo-attach-point\x3d"layerSelectDiv"\x3e\x3c/div\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"jimu-float-trailing" data-dojo-attach-point\x3d"featureSetChooserDiv"\x3e\x3c/div\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\x3c/tr\x3e\r\n\t\t\x3c/tbody\x3e\r\n\t\x3c/table\x3e\r\n\r\n\t\x3cdiv class\x3d"selection-option not-visible" data-dojo-attach-point\x3d"selectionOptionDiv"\x3e\x3c/div\x3e\r\n\r\n\t\x3cdiv class\x3d"search-distance-div" data-dojo-attach-point\x3d"searchDistanceDiv"\x3e\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"loading" data-dojo-type\x3d"jimu/dijit/LoadingShelter" data-dojo-props\x3d\'hidden:true\'\x3e\x3c/div\x3e\r\n\x3c/div\x3e',
"url:jimu/dijit/templates/_TreeNode.html":'\x3cdiv class\x3d"dijitTreeNode" role\x3d"presentation"\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"rowNode" class\x3d"dijitTreeRow" role\x3d"presentation"\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d"expandoNode" class\x3d"dijitInline dijitTreeExpando" role\x3d"presentation"\x3e\x3c/span\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d"expandoNodeText" class\x3d"dijitExpandoText" role\x3d"presentation"\x3e\x3c/span\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d"contentNode" class\x3d"dijitTreeContent" role\x3d"presentation"\x3e\r\n\t\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitTreeIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\r\n\t\t\t\x3cspan data-dojo-attach-point\x3d"labelNode,focusNode" class\x3d"dijitTreeLabel" role\x3d"treeitem" tabindex\x3d"-1" aria-selected\x3d"false"\x3e\x3c/span\x3e\r\n\t\t\x3c/span\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitTreeNodeContainer" role\x3d"presentation" style\x3d"display: none;"\x3e\x3c/div\x3e\r\n\x3c/div\x3e',
"url:dijit/templates/TreeNode.html":'\x3cdiv class\x3d"dijitTreeNode" role\x3d"presentation"\r\n\t\x3e\x3cdiv data-dojo-attach-point\x3d"rowNode" class\x3d"dijitTreeRow" role\x3d"presentation"\r\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"expandoNode" class\x3d"dijitInline dijitTreeExpando" role\x3d"presentation"\x3e\x3c/span\r\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"expandoNodeText" class\x3d"dijitExpandoText" role\x3d"presentation"\x3e\x3c/span\r\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"contentNode"\r\n\t\t\tclass\x3d"dijitTreeContent" role\x3d"presentation"\x3e\r\n\t\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitTreeIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan data-dojo-attach-point\x3d"labelNode,focusNode" class\x3d"dijitTreeLabel" role\x3d"treeitem"\r\n\t\t\t\t   tabindex\x3d"-1" aria-selected\x3d"false" id\x3d"${id}_label"\x3e\x3c/span\x3e\r\n\t\t\x3c/span\r\n\t\x3e\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitTreeNodeContainer" role\x3d"presentation"\r\n\t\t style\x3d"display: none;" aria-labelledby\x3d"${id}_label"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:dijit/templates/Tree.html":'\x3cdiv role\x3d"tree"\x3e\r\n\t\x3cdiv class\x3d"dijitInline dijitTreeIndent" style\x3d"position: absolute; top: -9999px" data-dojo-attach-point\x3d"indentDetector"\x3e\x3c/div\x3e\r\n\t\x3cdiv class\x3d"dijitTreeExpando dijitTreeExpandoLoading" data-dojo-attach-point\x3d"rootLoadingIndicator"\x3e\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitTreeContainer" role\x3d"presentation"\x3e\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:jimu/dijit/templates/LayerChooserFromMapWithDropbox.html":'\x3cdiv\x3e\r\n  \x3ctable data-dojo-attach-event\x3d"onclick: _onDropDownClick"\x3e\r\n    \x3ccolgroup\x3e\r\n      \x3ccol width\x3d"10px"\x3e\x3c/col\x3e\r\n      \x3ccol width\x3d"auto"\x3e\x3c/col\x3e\r\n      \x3ccol width\x3d"30px"\x3e\x3c/col\x3e\r\n    \x3c/colgroup\x3e\r\n    \x3ctbody\x3e\r\n      \x3ctr\x3e\r\n        \x3ctd\x3e\x3c/td\x3e\r\n        \x3ctd\x3e\r\n          \x3cdiv class\x3d"layer-name jimu-ellipsis" data-dojo-attach-point\x3d"layerNameNode"\x3e\x3c/div\x3e\r\n        \x3c/td\x3e\r\n        \x3ctd\x3e\r\n          \x3cdiv class\x3d"drop-select jimu-float-trailing" data-dojo-attach-point\x3d"dropArrowNode"\x3e\r\n            \x3cdiv class\x3d"jimu-icon jimu-icon-down-arrow-8"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3c/td\x3e\r\n      \x3c/tr\x3e\r\n    \x3c/tbody\x3e\r\n  \x3c/table\x3e\r\n\x3c/div\x3e\r\n',
"url:jimu/dijit/templates/SearchDistance.html":'\x3cdiv\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"cbxDiv"\x3e\x3c/div\x3e\r\n\t\x3ctable style\x3d"table-layout:fixed;width:100%;"\x3e\r\n\t\t\x3ccolgroup\x3e\r\n\t\t\t\x3ccol width\x3d"auto"\x3e\x3c/col\x3e\r\n\t\t\t\x3ccol width\x3d"15px"\x3e\x3c/col\x3e\r\n\t\t\t\x3ccol width\x3d"auto"\x3e\x3c/col\x3e\r\n\t\t\x3c/colgroup\x3e\r\n\t\t\x3ctbody\x3e\r\n\t\t\t\x3ctr\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"numberTextBox" data-dojo-type\x3d"dijit/form/NumberTextBox"\r\n\t\t\t\t\t data-dojo-props\x3d\'"required":true,intermediateChanges:false,constraints:{min:0,pattern:"#####0.##########"}\'\r\n\t\t\t\t\t style\x3d"width:100%;" data-dojo-attach-event\x3d"change:_onNumberTextBoxChanged" /\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\x3ctd\x3e\x3c/td\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cselect data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"unitSelect"\r\n\t\t\t\t\tdata-dojo-attach-event\x3d"change:_onUnitSelectChanged" style\x3d"width:100%;"\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"MILES" selected\x3e${nls.miles}\x3c/option\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"KILOMETERS"\x3e${nls.kilometers}\x3c/option\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"FEET"\x3e${nls.feet}\x3c/option\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"METERS"\x3e${nls.meters}\x3c/option\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"YARDS"\x3e${nls.yards}\x3c/option\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"NAUTICAL_MILES"\x3e${nls.nauticalMiles}\x3c/option\x3e\r\n\t\t\t\t\t\x3c/select\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\x3c/tr\x3e\r\n\t\t\x3c/tbody\x3e\r\n\t\x3c/table\x3e\r\n\x3c/div\x3e',
"url:widgets/Geoprocessing/editors/SelectFeatureSetFromLayer.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"inputNode"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"layerChooseNode"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"featuresetNode"\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',"url:widgets/Geoprocessing/editors/SelectFeatureSetFromFile.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"inputNode"\x3e\r\n    \x3cdiv class\x3d"jimu-r-row" style\x3d"margin-top: 10px;"\x3e\r\n      \x3cdiv class\x3d"col-1-2"\x3e\r\n        \x3cform data-dojo-attach-point\x3d"fileForm"\r\n            enctype\x3d"multipart/form-data"\r\n            method\x3d"POST" data-dojo-type\x3d"dijit/form/Form"\x3e\r\n          \x3cinput id\x3d"${uniqueID}_fs_file" type\x3d"file" multiple\x3d"false" name\x3d"file"\r\n            data-dojo-attach-point\x3d"fileInput" accept\x3d"application/zip"\r\n            data-dojo-attach-event\x3d"onChange: _onUpload" style\x3d"display:none"/\x3e\r\n          \x3cdiv class\x3d"jimu-btn jimu-leading-margin10 jimu-float-leading"\x3e\r\n            \x3clabel class\x3d"file-input-label" for\x3d"${uniqueID}_fs_file"\x3e\r\n              ${nls.addShapefile}\r\n            \x3c/label\x3e\r\n          \x3c/div\x3e\r\n          \x3cinput type\x3d"hidden" name\x3d"f" value\x3d"json"/\x3e\r\n        \x3c/form\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"col-1-2"\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"clearLink"\r\n          data-dojo-attach-event\x3d"onClick: _clear"\r\n          class\x3d"jimu-float-trailing shp-clear" style\x3d""\x3e${nls.clear}\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"jimu-r-row shp-info"\x3e\r\n      \x3cimg data-dojo-attach-point\x3d"uploadStatus" class\x3d"upload-status" src\x3d""/\x3e\r\n      \x3cspan data-dojo-attach-point\x3d"fileInfo"\x3e\x3c/span\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"featuresetNode"\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/Geoprocessing/editors/SelectFeatureSetFromDraw.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"inputNode"\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"featuresetNode"\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:widgets/Geoprocessing/editors/DataFileEditor.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"modeSelection" style\x3d"display:none"\x3e\r\n    \x3cdiv class\x3d"field"\x3e\r\n      \x3cinput name\x3d"dataFileMode" type\x3d"radio" data-dojo-attach-point\x3d"urlMode"\r\n        data-dojo-attach-event\x3d"onclick: _onUrlModeSelect" style\x3d"font-size: 12px;"\x3e\r\n        \x3clabel style\x3d"width: auto;" class\x3d"jimu-leading-margin05"\x3e${nls.useUrlForGPInput}\x3c/label\x3e\r\n      \x3cinput name\x3d"dataFileMode" type\x3d"radio" data-dojo-attach-point\x3d"itemMode"\r\n        style\x3d"font-size: 12px;" data-dojo-attach-event\x3d"onclick: _onItemModeSelect"\r\n        class\x3d"jimu-leading-margin35"\x3e\x3clabel style\x3d" width: auto;"\r\n        class\x3d"jimu-leading-margin05"\x3e${nls.useUploadForGPInput}\x3c/label\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"settingNode"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"urlNode" data-dojo-props\x3d"label:urlNode"\x3e\r\n        \x3cdiv\x3e\r\n          \x3cinput type\x3d"text" data-dojo-attach-point\x3d"urlEditor" style\x3d"width:100%"\r\n            data-dojo-type\x3d"jimu/dijit/URLInput" data-dojo-props\x3d"rest:false" class\x3d"common-input"/\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"fileNode" data-dojo-props\x3d"label:fileNode"\x3e\r\n        \x3cdiv\x3e\r\n          \x3cform data-dojo-attach-point\x3d"fileForm"\r\n                enctype\x3d"multipart/form-data"\r\n                method\x3d"POST" data-dojo-type\x3d"dijit/form/Form"\x3e\r\n            \x3cinput id\x3d"${uniqueID}_file" type\x3d"file" multiple\x3d"false" name\x3d"file"\r\n              data-dojo-attach-point\x3d"fileInput"\r\n              data-dojo-attach-event\x3d"onChange: _onUpload" style\x3d"display:none"/\x3e\r\n            \x3cdiv class\x3d"jimu-btn jimu-leading-margin10 jimu-float-leading"\x3e\r\n              \x3clabel class\x3d"file-input-label" for\x3d"${uniqueID}_file"\x3e\r\n                ${nls.selectFileToUpload}\r\n              \x3c/label\x3e\r\n            \x3c/div\x3e\r\n            \x3cinput type\x3d"hidden" name\x3d"f" value\x3d"json"/\x3e\r\n          \x3c/form\x3e\r\n          \x3cspan data-dojo-attach-point\x3d"uploadFileName" class\x3d"jimu-leading-margin2"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/Geoprocessing/editors/RasterLayerEditor.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"modeSelection" style\x3d"display:none"\x3e\r\n    \x3cdiv class\x3d"field"\x3e\r\n      \x3cinput name\x3d"rasterDataMode" type\x3d"radio" data-dojo-attach-point\x3d"urlMode"\r\n        data-dojo-attach-event\x3d"onclick: _onUrlModeSelect" style\x3d"font-size: 10px;"\r\n        class\x3d"jimu-leading-margin10"\x3e\x3clabel style\x3d"width: auto;" class\x3d"jimu-leading-margin025"\x3e${nls.useUrlForGPInput}\x3c/label\x3e\r\n      \x3cinput name\x3d"rasterDataMode" type\x3d"radio" data-dojo-attach-point\x3d"itemMode"\r\n        style\x3d"font-size: 10px;" data-dojo-attach-event\x3d"onclick: _onItemModeSelect"\r\n        class\x3d"jimu-leading-margin2"\x3e\x3clabel style\x3d" width: auto;" class\x3d"jimu-leading-margin025"\x3e${nls.useUploadForGPInput}\x3c/label\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"settingNode"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"urlNode" data-dojo-props\x3d"label:urlNode"\x3e\r\n        \x3ctable\x3e\r\n          \x3ctr\x3e\r\n            \x3ctd\x3e\x3clabel title\x3d"${nls.rasterFormat}"\x3e${nls.rasterFormat}\x3c/label\x3e\x3c/td\x3e\r\n            \x3ctd\x3e\x3cinput type\x3d"text" data-dojo-attach-point\x3d"rasterFormatInput"\r\n                data-dojo-type\x3d"dijit/form/TextBox" class\x3d"common-input"/\x3e\x3c/td\x3e\r\n          \x3c/tr\x3e\r\n          \x3ctr\x3e\r\n            \x3ctd\x3e\x3clabel title\x3d"${nls.url}"\x3e${nls.url}\x3c/label\x3e\x3c/td\x3e\r\n            \x3ctd\x3e\x3cinput type\x3d"text" data-dojo-attach-point\x3d"urlEditor"\r\n            data-dojo-type\x3d"dijit/form/ValidationTextBox" class\x3d"common-input"/\x3e\x3c/td\x3e\r\n          \x3c/tr\x3e\r\n        \x3c/table\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"fileNode" data-dojo-props\x3d"label:fileNode"\x3e\r\n        \x3cdiv\x3e\r\n          \x3cform data-dojo-attach-point\x3d"fileForm"\r\n                enctype\x3d"multipart/form-data" style\x3d"display:none"\r\n                method\x3d"POST" data-dojo-type\x3d"dijit/form/Form"\x3e\r\n            \x3cinput type\x3d"file" multiple\x3d"false" name\x3d"file"\r\n              data-dojo-attach-point\x3d"fileInput"\r\n              data-dojo-attach-event\x3d"onChange: _onUpload"/\x3e\r\n            \x3cinput type\x3d"hidden" name\x3d"f" value\x3d"json"/\x3e\r\n          \x3c/form\x3e\r\n          \x3cdiv class\x3d"jimu-btn jimu-leading-margin10 jimu-float-leading"\r\n              data-dojo-attach-event\x3d"onclick: _onFileInputClick"\x3e\r\n            ${nls.selectFileToUpload}\r\n          \x3c/div\x3e\r\n          \x3cspan data-dojo-attach-point\x3d"uploadFileName" class\x3d"jimu-leading-margin2"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:jimu/dijit/templates/ExportChooser.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"export-mask" data-dojo-attach-point\x3d"exportMask"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"export-format jimu-corner-all" data-dojo-attach-point\x3d"exportFormats"\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',"url:widgets/Geoprocessing/resultrenderers/FeatureSetRenderer.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"output-label" data-dojo-attach-point\x3d"labelNode"\x3e\r\n    \x3cspan data-dojo-attach-point\x3d"labelContent"\x3e${nls.drawnOnMap}\x3c/span\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"clear-node" data-dojo-attach-point\x3d"clearNode" style\x3d"display:none"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"export-node" data-dojo-attach-point\x3d"exportNode" style\x3d"display:none"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/Geoprocessing/resultrenderers/symbol.json":'{\r\n  "pointSymbol": {\r\n    "angle": 0,\r\n    "xoffset": 0,\r\n    "yoffset": 0,\r\n    "type": "esriPMS",\r\n    "url": "http://static.arcgis.com/images/Symbols/Shapes/BlueCircleLargeB.png",\r\n    "imageData": "iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAADImlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4wLWMwNjAgNjEuMTM0Nzc3LCAyMDEwLzAyLzEyLTE3OjMyOjAwICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1NkRDMzYxRUQzMjIxMUUwQUU5NUVFMEYwMTY0NzUwNSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo3ODNFRUI4QUQzMjIxMUUwQUU5NUVFMEYwMTY0NzUwNSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjU2REMzNjFDRDMyMjExRTBBRTk1RUUwRjAxNjQ3NTA1IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU2REMzNjFERDMyMjExRTBBRTk1RUUwRjAxNjQ3NTA1Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+ZAI1gwAACexJREFUeF7tWntMlfcZ/ongEpNZXVfstHGoiQZvidcsTbak/mPSVpOFGZctbllntsSkCcnipWJbcFiw0oLUaqudypitLWy2slq3VafOy+Eu5SYUKbSgQJ0HUO7I2+f5ne93+Pg8ICXpOSjnJE84l+/7fud53+d93vf7HZSIqLGMMU2eiQ8GYCzLP6iAYAkEPSBogsEuEOwCwUkwOAqPaR8Y0+RHPAmqB+AxXHMfkQIeAP7D5jXsA+0RtQdgypQpaurUqWr69Olq5syZas6cOWrevHlq4cKFavHixWrp0qVq2bJlavny5RodHR0ze3t7f3737t24np6eHQbt7e1RTU1Ns3HtUCAEGEdMmjRJTZw4UU2YMEGFhYWp0NBQFRISojFuHA/x/fCbAsLDwweQnz9/vlq0aJFasmSJJrxixQpNGl8oua+vrwZ/h3wgMLW3b9/e53K5IkHte1ZAdDBIfvz48aMrANOmTVMRERHezNvJkzgIHSHj1u4+OVTdK7/M6RF1slvUR10efAj8AzjRLT+72C2plb3SgmP5aGlpOZaVlbUI5CcCYUYZ98s+NeE3BcyYMUPNnj1bRUZGDsg8ZY4v4Sbx56/0isoC6SwQJezkj+P134FMIAP4oFPUsU55xtUjbpyL67QWFhb+Hpx+YAWCJTK49q2K8FsAWPdz585VCxYs0DXPL8f6Zgb/09An6hRJW+RP2LJO4sy8k/z7CMB7wLvAB12S8dVdrYbq6uq9uPaPgO8DE2w+4dME/BYAZp+mR+nbyW8vHSTrQxFH5r3kj+L5X4G0TolC2fBRWlp6AGv8GJhs+YMxy3uC4LcA0PWN8Vmyl5gSkrfk7sy6r4w7iaf3k1dHOkQd6pDV2Z4gZGRkbAVbdosptiAELgCUPwNgOb37Xzcge5IeTO6mzil1O3FKnlkneWRd47CHvPoLcLBd0qu75c6dO23r169fawWBSmA53OMJflMAA8AvgOyn0fDUx5bD092dcqfBOYkb0s6sG/LvkHybqAO3EYxWud7SLrm5ueew5pNWOdAT7jFGvwWAJdDc3DyL8nyuAC3OEB/E3QfUuJ00M065W5LXmbeTf6tZ1P5bMu3fbmltbZVVq1ZtBPFlljGyTdIPvA+/BYDZxzS3h73bm3G7u5usG2c3GbcMTkvdELdL3pB/u1UUye/7v6g3b4p6o0lqmtyC+eAs1n4a4MDEFsk5wVsKfg0AJ7w3P4fx0eB89HSddSdxO2lD3NQ7yR+4I8pOfu/XolIbRO25IX+60CiVlZXNIPw7qxSewF+qwP8B4PxO+XOKGzDMmFp3mpsz2yRtiNPsfGXekE+5Liq5DgNTnTQ0NAjuMV4B6WctFdAQ6QX64S8FjEP9r2UAdO37MrnBzM0XcWfNG9kz85r8V6Jeq4USvpD6+nrZuHFjBrj+BlgOPA7w3kGrwG8BaGtr26kDYDLO1sasE0ORZ7ZNxkncSx7Sf6tFG56n5hu17D3ka0Ttvibq1c+ltrZWUlJSssH1eeApIMJeBv4KQAgcOUEHwJicr35O2fuqc0PcTt5e9zA8lUrykD0zT/K7KkUlXpX/llyT3bt354M0ByOWAfvxI4DuBv4KQKjb7d6lA3C/fu6sc2/W2/WQ4+319uxr6dcPJJ9QLuqVMqmqqpLExMQr4BoL/AJYCDxqfMBvAbh169arOgD3a2v3yN1GXA86luvvd/dLn3X/+peikqo9mdfkS0XFF0tFRYXEx8d/BsI7gV8BvBN7zN8BCLt69epvvSUwlNR1lq1Mk7AhTeKc8nxKH3Wf9IWu+X7yn+F5kZSVlcm6devOg3AisB7gUBQOcB7wWwmEpaWlLdUBOI0uYO/juq6NtEnSIkqyhjBJG+LMPF1ftzxT9zA9kkfNezIP8jsKcd1CKSkpEdyKfxToALDvPtbZ2Vn/Iu8A7WbmzSocnXXNac4Jkqbb26a8geSr+sn/uchDPi5f/nC8UM6cOdOOtf8W6BJgAB6tqalJ/7od9wF2KRtyhiBJGqJsb3Zot/dMeR7HZ+Yd5OMKRMXmiXo5R/6XWygJCQnVWPtIoE2QLeeRmJiYlV1dXfLEacjbnlHKmeQ00M/tIGENkDYTnjY8W83vLBHFzJP8y7miXsqW8HdyBFtkgq24T7H2QSCgbZBTF2fwiPLy8k+uu+nmnhsWLzlmlQS9QFtja2OmNazpjsRNn6fbk/yOK1ryzLp6yYXXLjnrypPk5OR6rJkJpAIBHYQYAI6fj2/YsGHNzZs32w4Wo6btWSVBZpaDjBeQOAkb0pS7t82V9ZsdJY+sa/LbL0l8Vq6cP3++B9k/a6v/gI7C7Dj0gclAZGpqajzmAll5yurfJKyJoo/rERZE6eoECe+q8Jicrb97st4vefXiZU3+J4dd3AiR1atXX8Fax4H9wCYgoDdDDIApA96SPpmZmflhY2OjrPwn5G1IO8la05xubZS6bm8WcUfW1faLsuLQZcnJyZHNmzfT+D4G0gHeCQb+dtgKAIcPbkpwc+JpzAan6urqJOUypP66meAgbTth3dZA2mpt2uRMrSPjJK5iL0pcVrYmv2nTJpL/BHgf2ANEcy1rzYBuiFAF7AY0Q+7bcyJbGx0dnY4psbOw4pqEH4PM7Zk2pHVb87i7rnMtdxCPuSA/fPuSfHrBJefOneuB7Iss8rz93Qe8wDWstbhmQLfETBnQC7hByX17blj+Gr8VJB09erQcuzeSXVwufzxRrKc4tZPO7iAeB/J7L8tzx1xy+qIn60lJSTfwo+sFS/bMPMnH8NrWGlwrsJuiZG896AXcop4McN/+p9YXfQE7x4dx714OB28rLi6WoqIi3csLCgokPz9f8vLytMGR9MmTJztiY2O/tIhT8jQ81jxlz8yTPK/NNbhWYLfFbQHgU5YC2yJ/tOAXpBIo1WiAprV/1qxZx6Oioi5heKrYtm1b5datW6u2bNlStWbNmgKQ5nY3Te4EwD7PUZduz3N5DV6L1xw9P4w4AkAVmCAwO5QoPYFmRcdm2+LtKwcYTnFHLJLv4i9BwnyPn/EYHstzeC6vwWuNrp/GHAHgSxMESpP1SZNid2Dm2LM5uHB64wgba5HkLS1BwnyPn/EYHstzeC6vMfp+HPURAPMWA0FjpEOzTXFOIAluYHIPj8S4k8PNDN7PE3zO9/gZj+GxPIfnjs6fx4cIAD8yauCcwEBMBrh7GwFwD4/bWNzJobQJPud7/IzH8FieM+AfJO6zpv7YX1tiw/kuJhBGETRJEuIGJvfwuI3FnRyCz/keP+MxA/5FZriLjcYA2L87A2GUwRIhqBDCvPb+k9S3IW0/drQpYKQ8RnzedxqA4V78QThu2GbxIJAZyXcMBmAkUXuYzgkq4GHK5ki4BBUwkqg9TOeMeQV8A+PZBskD6qdKAAAAAElFTkSuQmCC",\r\n    "contentType": "image/png",\r\n    "width": 15,\r\n    "height": 15\r\n  }\r\n}',
"url:widgets/Geoprocessing/resultrenderers/RecordSetRenderer.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"output-label" data-dojo-attach-point\x3d"labelNode"\x3e\r\n    \x3cspan data-dojo-attach-point\x3d"labelContent"\x3e\x3c/span\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"control-section"\x3e\r\n    \x3cdiv class\x3d"clear-node jimu-float-trailing" data-dojo-attach-point\x3d"clearNode" style\x3d"display:none"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"export-node jimu-float-trailing" data-dojo-attach-point\x3d"exportNode" style\x3d"display:none"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"magnify-node jimu-float-trailing" data-dojo-attach-point\x3d"magnifyNode"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"table-node" data-dojo-attach-point\x3d"tableNode"\x3e\x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/Geoprocessing/resultrenderers/ResultImageLayerRenderer.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"output-label" data-dojo-attach-point\x3d"labelNode"\x3e\r\n    \x3cspan\x3e${nls.drawnOnMap}\x3c/span\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"clear-node" data-dojo-attach-point\x3d"clearNode" style\x3d"display:none"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:widgets/Geoprocessing/Widget.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"jimu-widget error-message" data-dojo-attach-point\x3d"errorNode"\r\n      style\x3d"display:none;"\x3e${nls.noToolConfig}\x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"toolNode"\x3e\r\n    \x3cdiv class\x3d"input-pane" data-dojo-attach-point\x3d"inputPaneNode"\x3e\r\n      \x3cdiv class\x3d"section" data-dojo-attach-point\x3d"inputSectionNode"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"section jimu-r-row opts" data-dojo-attach-point\x3d"optsSectionNode"\x3e\r\n        \x3cdiv class\x3d"col-1-2"\x3e\r\n          \x3ca class\x3d"help" data-dojo-attach-point\x3d"helpLinkNode" target\x3d"_blank"\x3e${nls.help}\x3c/a\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"col-1-2"\x3e\r\n          \x3cdiv class\x3d"jimu-btn" data-dojo-attach-point\x3d"exeNode" data-dojo-attach-event\x3d"onclick: _onExecuteClick"\x3e${nls.execute}\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"output-pane" data-dojo-attach-point\x3d"outputPaneNode"\x3e\r\n      \x3cdiv class\x3d"section info" data-dojo-attach-point\x3d"infoNode"\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"loadingNode" class\x3d"loading"\x3e\x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"infoTextNode" class\x3d"text"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"section" data-dojo-attach-point\x3d"outputSectionNode"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/Geoprocessing/css/style.css":".jimu-gp-editor-base{display: inline-block;}.jimu-gp-editor-multivalue{}.jimu-gp-editor-multivalue .single-input{margin-top: 5px;}.jimu-gp-editor-multivalue .remove{background-color: #24B9F0; width: 20px; height: 20px; border-radius: 10px; color: white; font-size: 20px; font-weight: bold; line-height: 19px; margin-left: 10px; display: inline-block; cursor: pointer; text-align: center;}.jimu-gp-editor-multivalue .add-input{text-align: right;}.jimu-gp-editor-multivalue .add-input .add-btn{background-color: #24B9F0; width: 20px; height: 20px; border-radius: 10px; color: white; font-size: 20px; font-weight: bold; line-height: 19px; margin-left: 10px; display: inline-block; cursor: pointer; text-align: center;}.jimu-gp-editor-sffl{height: 30px; position: relative;}.jimu-widget-geoprocessing{height: 100%; margin: -14px; font-size: 14px;}.jimu-widget-geoprocessing .jimu-viewstack{padding: 14px;}.jimu-widget-geoprocessing .input-node .jimu-viewstack{padding: 0 !important; margin-top: 10px;}.jimu-widget-geoprocessing .section{overflow: visible;}.jimu-widget-geoprocessing .opts [class*\x3d\"col\"]{height: 45px;}.jimu-widget-geoprocessing .opts a.help{line-height: 45px;}.jimu-widget-geoprocessing .section.opts{margin-top: 20px;}.jimu-widget-geoprocessing .section .jimu-btn{float: none; margin: auto; width: 150px;}.jimu-widget-geoprocessing .info{display: none; height: 80px; position: relative;}.jimu-widget-geoprocessing .info .text{text-align: center; width: 100%; bottom: 0; position: absolute;}.jimu-widget-geoprocessing .input-node, .jimu-widget-geoprocessing .output-node{overflow: visible; margin-top: 20px;}.jimu-widget-geoprocessing .input-node\x3e.input-label, .jimu-widget-geoprocessing .output-node\x3e.output-label{overflow: hidden; font-size: 14px; color: #686868; font-weight: bold;}.jimu-widget-geoprocessing .input-node\x3e.editor-container, .jimu-widget-geoprocessing .output-node\x3e.renderer-container{margin-top: 5px; width: 100%;}.TabTheme .jimu-widget-geoprocessing .jimu-tab\x3e.control\x3e.tab.jimu-state-selected{border-top: 0;}.jimu-widget-geoprocessing li{list-style: none;}.jimu-widget-geoprocessing .error-message{width: 100%; margin: 14px;}.jimu-widget-geoprocessing .jimu-basic-layer-chooser-from-map .jimu-tree{border: 1px solid #aaaaaa;}.jimu-widget-geoprocessing .jimu-gp-editor-url .jimu-url-input{width: 100%;}.jimu-widget-geoprocessing .file-input-label{display: inline-block; width: 100%; height: 100%; cursor: pointer;}.jimu-widget-geoprocessing .jimu-gp-editor-datafile form \x3e .jimu-btn{padding: 0;}.geoprocessing-popup-title{height: 20px;}.geoprocessing-popup .header{font-weight: bold;}.geoprocessing-popup .hzLine{border-top: 1px solid #333333; margin-top: 6px; margin-bottom: 6px;}.geoprocessing-popup .geoprocessing-popup-table{border-collapse: collapse;}.geoprocessing-popup .geoprocessing-popup-table td{padding:2px 2px 5px 2px;}.geoprocessing-popup .geoprocessing-popup-table .attr-name{color: #888888;}.jimu-widget-geoprocessing .output-node .dgrid .dgrid-cell {width: 80px;}.jimu-widget-geoprocessing .shp-info{margin-top: 20px; height: 24px;}.jimu-widget-geoprocessing .shp-clear{cursor: pointer; line-height: 32px;}.jimu-widget-geoprocessing .upload-status{width: 24px; height: 24px;}.jimu-widget-geoprocessing .jimu-gp-renderer-draw-feature{position: relative; height: 40px; width: 100%;}.jimu-widget-geoprocessing .export-node {width: 16px; height: 16px; background-image: url(images/download.png); cursor: pointer;}.jimu-widget-geoprocessing .export-node:hover {background-image: url(images/download_hover.png);}.jimu-widget-geoprocessing .clear-node {width: 16px; height: 16px; background-image: url(images/del.png); cursor: pointer;}.jimu-widget-geoprocessing .clear-node:hover {background-image: url(images/del_hover.png);}.jimu-widget-geoprocessing .magnify-node {width: 16px; height: 16px; background-image: url(images/zoom_normal.png); cursor: pointer;}.jimu-widget-geoprocessing .magnify-node:hover {background-image: url(images/zoom_hover.png);}.jimu-widget-geoprocessing .jimu-gp-renderer-draw-feature .output-label{position: absolute; font-size: 12px; line-height: 30px; left: 0; right: 75px;}.jimu-rtl .jimu-widget-geoprocessing .jimu-gp-renderer-draw-feature .output-label{left: 75px; right: 0;}.jimu-widget-geoprocessing .jimu-gp-renderer-draw-feature .clear-node {position: absolute; top: 50%; margin-top: -8px; right: 20px;}.jimu-rtl .jimu-widget-geoprocessing .jimu-gp-renderer-draw-feature .clear-node{left: 20px; right: auto;}.jimu-widget-geoprocessing .jimu-gp-renderer-draw-feature .export-node {position: absolute; top: 50%; margin-top: -8px; right: 47px;}.jimu-rtl .jimu-widget-geoprocessing .jimu-gp-renderer-draw-feature .export-node{left: 47px; right: auto;}.jimu-widget-geoprocessing .jimu-gp-renderer-table{position: relative; margin-top:30px;}.jimu-widget-geoprocessing .jimu-gp-renderer-table \x3e .control-section{position: absolute; height: 30px; width: 100%; top: -30px; left: 0;}.jimu-widget-geoprocessing .jimu-gp-renderer-table \x3e .control-section \x3e .export-node,.jimu-widget-geoprocessing .jimu-gp-renderer-table \x3e .control-section \x3e .magnify-node,.jimu-widget-geoprocessing .jimu-gp-renderer-table \x3e .control-section \x3e .clear-node {margin: 5px;}.jimu-widget-geoprocessing .jimu-gp-renderer-table .table-node{width: 100%;}.jimu-widget-geoprocessing .jimu-export-chooser{z-index: 1;}.gp-table-magnified{width: 100%; height: 100%;}.gp-table-magnified \x3e .dgrid{height: 100%;}.jimu-widget-geoprocessing .jimu-gp-editor-selection{position: relative; width: 100%; height: 40px; background: #EEEEEE;}.jimu-widget-geoprocessing .jimu-gp-editor-selection .label{position: absolute; left: 0; right: 36px; margin: 0 10px; height: 40px; line-height: 40px; font-family: 'Avenir-Light'; font-size: 12px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;}.jimu-rtl .jimu-widget-geoprocessing .jimu-gp-editor-selection .label{left: 36px; right: 0;}.jimu-widget-geoprocessing .jimu-gp-editor-selection .icon{width: 40px; height: 40px; cursor: pointer; position: absolute; right: 0;}.jimu-rtl .jimu-widget-geoprocessing .jimu-gp-editor-selection .icon{right: auto; left: 0;}.jimu-widget-geoprocessing .jimu-gp-editor-selection .icon-close{margin: 14px; font-size: 12px;}",
"*now":function(h){h(['dojo/i18n!*preload*widgets/Geoprocessing/nls/Widget*["ar","cs","da","de","en","el","es","et","fi","fr","he","hr","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sr","sv","th","tr","zh-cn","vi","zh-hk","zh-tw","ROOT"]'])}}});
define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/html dojo/on dojo/Deferred dojo/promise/all jimu/BaseWidget jimu/dijit/TabContainer jimu/dijit/LoadingIndicator jimu/dijit/Message jimu/utils ./editorManager ./resultRendererManager esri/tasks/GPMessage esri/tasks/Geoprocessor esri/tasks/JobInfo esri/layers/ImageParameters esri/request esri/geometry/Extent esri/graphicsUtils ./utils".split(" "),function(h,e,l,f,c,a,b,p,g,n,r,k,u,s,v,w,d,z,x,m,D,C){return h([p],{baseClass:"jimu-widget-geoprocessing",
name:"Geoprocessing",postMixInProperties:function(){this.inherited(arguments);e.mixin(this.nls,window.jimuNls.common);e.mixin(this.nls,window.jimuNls.units)},startup:function(){this.inherited(arguments);this.config.taskUrl?(this.inputNodes=[],this.drawTools=[],this.resultNodes=[],this.resultLayers=[],u.setMap(this.map),u.setNls(this.nls),s.setMap(this.map),s.setNls(this.nls),this.gp=new w(this.config.taskUrl),this.gp.setOutSpatialReference(this.map.spatialReference),this.config.updateDelay&&this.gp.setUpdateDelay(this.config.updateDelay),
this.tab=new g({tabs:[{title:this.nls.input,content:this.inputPaneNode},{title:this.nls.output,content:this.outputPaneNode}],selected:this.nls.input}),this.tab.placeAt(this.domNode),this.tab.startup(),this.loading=new n({hidden:!0},this.loadingNode),this.loading.startup(),this.own(c(this.gp,"execute-complete",e.hitch(this,this.onExecuteComplete))),this.own(c(this.gp,"job-complete",e.hitch(this,this.onJobComplete))),this.own(c(this.gp,"job-cancel",e.hitch(this,this.onJonCancel))),this.own(c(this.gp,
"status-update",e.hitch(this,this.onStatusUpdate))),this.own(c(this.gp,"get-result-data-complete",e.hitch(this,this.onGetResultDataComplate))),this.own(c(this.gp,"get-result-image-layer-complete",e.hitch(this,this.onGetResultImageLayerComplate))),this.own(c(this.gp,"error",e.hitch(this,this.onError))),f.setAttr(this.helpLinkNode,"href",this.config.helpUrl),this._generateUniqueID(),"serverInfo"in this.config?this._createInputNodes():C.getServiceDescription(this.config.taskUrl).then(e.hitch(this,function(a){this.config.serverInfo=
a.serverInfo;this._createInputNodes()}))):(f.setStyle(this.toolNode,"display","none"),f.setStyle(this.errorNode,"display",""))},executeGP:function(){this._clearLastResult();f.addClass(this.exeNode,"jimu-state-disabled");this._getInputParamValues().then(e.hitch(this,function(a){this._showLoading();this.config.isSynchronous?this.gp.execute(a):this.gp.submitJob(a);this.tab.selectTab(this.nls.output)}),e.hitch(this,function(){f.removeClass(this.exeNode,"jimu-state-disabled")}))},onDeActive:function(){l.forEach(this.drawTools,
function(a){a.deactivate()})},onExecuteComplete:function(a){this._hideLoading();var b;a.messages&&0<a.messages.length&&(b=l.filter(a.messages,function(a){return a.type===v.TYPE_WARNING||a.type===v.TYPE_ERROR}),0<b.length&&this._createErrorMessages(b));this._createOutputNodes(a.results);f.removeClass(this.exeNode,"jimu-state-disabled")},onJobComplete:function(a){this._hideLoading();this.jobId="";f.removeClass(this.exeNode,"jimu-state-disabled");if(a.jobInfo.jobStatus!==d.STATUS_SUCCEEDED)this._createErrorMessages(a.jobInfo.messages);
else if(this.config.useResultMapServer){var b=new z({imageSpatialReference:this.map.spatialReference});l.forEach(this.config.outputParams,function(c){c.visible&&(-1<["GPFeatureRecordSetLayer","GPRasterDataLayer","GPRecordSet"].indexOf(c.dataType)?this.gp.getResultImageLayer(a.jobInfo.jobId,c.name,b):this.gp.getResultData(a.jobInfo.jobId,c.name))},this)}else l.forEach(this.config.outputParams,function(b){b.visible&&this.gp.getResultData(a.jobInfo.jobId,b.name)},this)},onJonCancel:function(){this.loading.hide();
this.infoTextNode.innerHTML="Canceled";f.removeClass(this.exeNode,"jimu-state-disabled");this.jobId=""},onStatusUpdate:function(a){this.jobId=a.jobInfo.jobId;a.jobInfo.jobStatus===d.STATUS_SUCCEEDED?this._hideLoading():this._showLoading(a.jobInfo.jobStatus)},onGetResultDataComplate:function(a){this._createOutputNode(this._getOutputParamByName(a.result.paramName),a.result)},onGetResultImageLayerComplate:function(a){var b=a.layer;(a=this._getResultImageLayerParam(b.url))?(b._wab_type="ArcGISDynamicMapServiceLayer",
b.title=a.label,b.id=this.uniqueID+a.name,a=this._createOutputNode(a,b)):(a=b.url.substring(b.url.lastIndexOf("/")+1),b.title=a,this.map.addLayer(b),a=1);null!==a&&(this.resultLayers.push(b),b.fullExtent?this.map.setExtent(b.fullExtent):x({url:b.url,content:{f:"json",imageSR:this.map.spatialReference.wkid},handleAs:"json",callbackParamName:"callback"}).then(e.hitch(this,function(a){a.value.mapImage.extent&&(a=new m(a.value.mapImage.extent),b.fullExtent=a,this.map.setExtent(a))})))},_getResultImageLayerParam:function(a){var b=
a.substring(a.lastIndexOf("/")+1),c;l.some(this.config.outputParams,function(a){if(a.name===b)return c=a,!0},this);return c},onError:function(a){this.loading.hide();this.infoTextNode.innerHTML=k.sanitizeHTML(a.error.message);f.removeClass(this.exeNode,"jimu-state-disabled");this.jobId=""},destroy:function(){this._clearLastInput();this._clearLastResult();this.inherited(arguments)},_generateUniqueID:function(){this.uniqueID=this.id.replace(/[\/\.]/g,"_")},_showLoading:function(a){this.loading.show();
f.setStyle(this.infoNode,"display","block");this.infoTextNode.innerHTML=k.sanitizeHTML(a?a:this.nls.executing)},_hideLoading:function(){f.setStyle(this.infoNode,"display","none");this.loading.hide()},_getOutputParamByName:function(a){for(var b=0;b<this.config.outputParams.length;b++)if(this.config.outputParams[b].name===a)return this.config.outputParams[b]},_getInputParamValues:function(){var c=new a,d={},f=[],g,h="";l.forEach(this.inputNodes,function(a){g=a.inputEditor.getGPValue();g.param=a.param;
f.push(g)},this);b(f).then(e.hitch(this,function(a){for(var b=0;b<a.length;b++){if(f[b].param.required&&(null===a[b]||void 0===a[b])){h=f[b].param.label+" "+this.nls.requiredInfo;new r({message:h});c.reject(h);return}d[f[b].param.name]=a[b]}c.resolve(d)}),function(a){c.reject(a)});return c},_createInputNodes:function(){l.forEach(this.config.inputParams,function(a){this._createInputNode(a)},this)},_clearLastInput:function(){l.forEach(this.inputNodes,function(a){a.inputEditor.clear&&e.isFunction(a.inputEditor.clear)&&
a.inputEditor.clear()},this)},_clearLastResult:function(){l.forEach(this.resultNodes,function(a){f.destroy(a.labelNode);a.resultRenderer&&a.resultRenderer.destroy();f.destroy(a)});l.forEach(this.resultLayers,function(a){null!==a&&this.map.removeLayer(a)},this);this.resultNodes=[];this.resultLayers=[]},_createErrorMessages:function(a){this.infoTextNode.innerHTML="";var b=f.create("ul",{"class":"output-node"},this.outputSectionNode);this.resultNodes.push(b);l.forEach(a,e.hitch(this,function(a){f.create("li",
{"class":"error-message",innerHTML:k.sanitizeHTML(a.description)},b)}))},_createOutputNodes:function(a){var b=[];l.forEach(this.config.outputParams,function(c,d){b.push(this._createOutputNode(c,a[d]))},this);if(l.some(b,function(a){return null!==a})){var c=[];l.forEach(a,e.hitch(this,function(a){"GPFeatureRecordSetLayer"===a.dataType&&(a=a.value&&a.value.features)&&0<a.length&&(c=c.concat(a))}));if(0<c.length)try{var d=D.graphicsExtent(c);d&&this.map.setExtent(d.expand(1.4))}catch(f){console.error(f)}}},
_onExecuteClick:function(){f.hasClass(this.exeNode,"jimu-state-disabled")||this.executeGP()},_createInputNode:function(a){var b=f.create("div",{"class":"input-node"},this.inputSectionNode),c=f.create("div",{"class":"input-label",title:a.tooltip||a.label||""},b);f.create("span",{"class":"label-text",innerHTML:k.sanitizeHTML(a.label)},c);a.required&&f.create("span",{"class":"label-star",innerHTML:"*"},c);var c=f.create("div",{"class":"editor-container"},b),d=u.createEditor(a,"input","widget",{uid:this.uniqueID,
config:this.config,appConfig:this.appConfig});d.placeAt(c);"SelectFeatureSetFromDraw"===d.editorName&&this.drawTools.push(d.drawBox);b.param=a;b.inputEditor=d;this.inputNodes.push(b);!1===a.visible&&f.setStyle(b,"display","none");return b},_createOutputNode:function(a,b){var c;if(a.visible){try{c=s.createResultRenderer(a,b,{uid:this.uniqueID,config:this.config})}catch(d){console.error(d),c=s.createResultRenderer("error",b,{uid:this.uniqueID,config:this.config})}var e=f.create("div",{"class":"output-node"},
this.outputSectionNode);this.resultNodes.push(e);var g=f.create("div",{"class":"output-label",title:a.tooltip||a.label||"",innerHTML:k.sanitizeHTML(a.label)},e);e.param=a;e.labelNode=g;g=f.create("div",{"class":"renderer-container"},e);c.placeAt(g);c.startup();e.resultRenderer=c;return e}return null},useSelectionAsInput:function(a,b){l.forEach(this.inputNodes,function(c){"GPFeatureRecordSetLayer"===c.param.dataType&&(c.param.defaultValue&&k.getTypeByGeometryType(c.param.defaultValue.geometryType)===
a.geometryType)&&c.inputEditor.setFeatureSet(a,b)},this);this.tab.selectTab(this.nls.input)}})});