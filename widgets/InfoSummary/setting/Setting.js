// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"widgets/InfoSummary/setting/MySymbolPicker":function(){define("dojo/_base/declare dijit/_WidgetsInTemplateMixin dijit/form/Select dijit/form/ValidationTextBox dojo/_base/lang dojo/_base/html dojo/dom-style dojo/dom-construct dojo/on dojo/dom dojox/gfx dojo/query dojo/_base/Color dijit/registry esri/symbols/jsonUtils esri/request jimu/dijit/SymbolPicker jimu/BaseWidget jimu/dijit/TabContainer3 jimu/utils jimu/dijit/SimpleTable jimu/dijit/Message jimu/dijit/ColorPicker dojo/_base/array esri/symbols/PictureMarkerSymbol dojo/text!./MySymbolPicker.html dojo/Evented".split(" "),
function(m,v,A,B,p,d,t,r,u,D,x,y,C,z,l,I,F,n,G,s,w,k,H,E,b,c,e){return m([n,v,e],{templateString:c,baseClass:"jimu-widget-InfoSummary-setting",nls:null,row:null,layerInfo:null,clusteringEnabled:null,symbolInfo:null,symbolType:"",map:null,supportsDynamic:!0,tabContainer:null,field_options:[],groupFeaturesEnabled:!1,lyrSymbolSet:[],_highLightColor:"#ffffff",panelHTML:null,svg:null,constructor:function(a){this.nls=a.nls;this.row=a.callerRow;this.layerInfo=a.layerInfo;this.renderer=a.layerInfo.renderer;
this.geometryType=a.layerInfo.geometryType;this.symbolInfo=a.symbolInfo;this.map=a.map;this.ac=a.ac;this.layerId=a.value;this.supportsDynamic=a.layerInfo.supportsDynamic;this.fields=a.layerInfo.fields},postMixInProperties:function(){this.inherited(arguments);this.nls.common=window.jimuNls.common},postCreate:function(){this.inherited(arguments);this._setFields(this.fields);this._initTabControl();this._initSymbolPickerTab(this.geometryType);this._initFeatureOptionsTab();this.own(u(this.btnAddField,
"click",p.hitch(this,this._addFieldRow,this.fieldOptionsTable,"loSelect")))},_setFields:function(a){if(a){this.field_options=[];for(var f=[""," ",void 0,null],b=0;b<a.length;b++)this.field_options.push({value:a[b].name,label:-1===f.indexOf(a[b].alias)?a[b].alias:a[b].name})}},_initTabControl:function(){this.tabContainer=new G({tabs:[{title:this.nls.symbolOptions,content:this.symbolPickerContainer},{title:this.nls.panelFeatureDisplay,content:this.panelFeatureDisplayContainer}],isNested:!0},this.tabParent);
this.tabContainer.startup()},_initSymbolPickerTab:function(a){a=s.getTypeByGeometryType(a);this._loadLayerSymbol();this.supportsDynamic&&this._initSymbolPicker(a);this._initClusterSymbolPicker(a);this._addEventHandlers(a);this._initUI()},_initFeatureOptionsTab:function(){this.isInitalLoad=!0;this.fieldLoadCount=0;this.fieldOptionsTable=new w({fields:[{name:"field",title:this.nls.selectField,"class":"label",type:"empty",width:"100px"},{name:"label","class":"label",title:this.nls.fieldLabel,type:"empty",
width:"100px"},{name:"actions","class":"label",title:this.nls.actions,type:"actions",actions:["up","down","delete"],width:"50px"}],selectable:!1,autoHeight:!0});this.fieldOptionsTable.placeAt(this.fieldOptions);this.fieldOptionsTable.startup();this.fieldOptionsTable.on("row-delete",p.hitch(this,this._rowDeleted));this.groupOptionsTable=new w({fields:[{name:"field",title:this.nls.selectField,"class":"label",type:"empty",width:"160px"},{name:"label","class":"label",title:this.nls.fieldLabel,type:"empty",
width:"160px"}],selectable:!1,autoHeight:!0});this.groupOptionsTable.placeAt(this.groupFieldOptions);this.groupOptionsTable.startup();if(this.symbolInfo&&this.symbolInfo.featureDisplayOptions&&this.symbolInfo.featureDisplayOptions.fields){var a=this.symbolInfo.featureDisplayOptions;this.groupFeaturesEnabled=a.groupEnabled;this.chkGroup.set("checked",this.groupFeaturesEnabled);for(var f=0;f<a.fields.length;f++)this._populateLayerRow(this.fieldOptionsTable,a.fields[f],"loSelect");this._populateLayerRow(this.groupOptionsTable,
a.groupField,"goSelect")}else this._addFieldRow(this.groupOptionsTable,"goSelect");this.isInitalLoad=!1},_rowDeleted:function(a){3>this.fieldOptionsTable.getRows().length&&(d.removeClass(this.btnAddField,"btn-add-section-disabled"),d.addClass(this.btnAddField,"btn-add-section"))},_populateLayerRow:function(a,f,b){this.fieldLoadCount+=1;a=a.addRow({});a.success&&a.tr&&(a=a.tr,this._addFieldsOption(a,b),this._addLabelOption(a),a.selectFields.set("value",f.name),a.labelText.set("value",f.label))},_addFieldRow:function(a,
f){if(a===this.fieldOptionsTable&&3<=a.getRows().length)d.removeClass(this.btnAddField,"btn-add-section"),d.addClass(this.btnAddField,"btn-add-section-disabled"),new k({message:this.nls.max_records});else{this.isInitalLoad=!1;var b=a.addRow({});b.success&&b.tr&&(b=b.tr,this._addFieldsOption(b,f),this._addLabelOption(b))}},_addFieldsOption:function(a,f){var b=p.clone(this.field_options),c=y(".simple-table-cell",a)[0];c&&(d.setStyle(c,"verticalAlign","middle"),d.setStyle(c,"line-height","inherit"),
b=new A({style:{width:"100%",height:"28px"},"class":f,options:b}),b.placeAt(c),b.startup(),a.selectFields=b,this.own(u(b,"change",p.hitch(this,function(){this.fieldLoadCount&&0<this.fieldLoadCount?this.fieldLoadCount-=1:a.labelText.set("value","");a.cells[0].title=a.cells[0].innerText}))),a.cells[0].title=a.cells[0].innerText)},_addLabelOption:function(a){var f=y(".simple-table-cell",a)[1];d.setStyle(f,"verticalAlign","middle");d.setStyle(f,"line-height","inherit");var b=new B({style:{width:"100%",
height:"28px"}});b.placeAt(f);b.startup();a.labelText=b},_initUI:function(){if("undefined"!==typeof this.symbolInfo){this.symbolType=this.symbolInfo.symbolType;this.clusterType=this.symbolInfo.clusterType;this.iconType=this.symbolInfo.iconType;this.displayFeatureCount=this.symbolInfo.displayFeatureCount;this.clusteringEnabled=this.symbolInfo.clusteringEnabled;this.userDefinedSymbol=this.symbolInfo.userDefinedSymbol;this._highLightColor=this.symbolInfo._highLightColor;switch(this.symbolInfo.symbolType){case "LayerSymbol":this.symbolInfo.symbolOverride?
(this.userDefinedSymbol=!0,this.rdoEsriSym.set("checked",!0),this._rdoLayerSymChanged(!1),this._rdoCustomSymChanged(!1),this.symbolPicker.showBySymbol(l.fromJson(this.symbolInfo.symbol))):(this.rdoLayerSym.set("checked",!0),this._rdoEsriSymChanged(!1),this._rdoCustomSymChanged(!1));break;case "EsriSymbol":this.userDefinedSymbol=!0;this.rdoEsriSym.set("checked",!0);this._rdoLayerSymChanged(!1);this._rdoCustomSymChanged(!1);this.symbolPicker.showBySymbol(l.fromJson(this.symbolInfo.symbol));break;case "CustomSymbol":this.userDefinedSymbol=
!0,this.rdoCustomSym.set("checked",!0),this._rdoEsriSymChanged(!1),this._rdoLayerSymChanged(!1),this._createImageDataDiv(this.symbolInfo.symbol,!0,this.customSymbolPlaceholder)}switch(this.symbolInfo.clusterType){case "ThemeCluster":this.userDefinedSymbol=!0;this.clusterType="ThemeCluster";break;case "CustomCluster":this.userDefinedSymbol=!0,this.clusterType="CustomCluster",this.chkClusterCnt.set("checked",this.displayFeatureCount),this.colorPicker.setColor(new C(this._highLightColor))}switch(this.symbolInfo.iconType){case "LayerIcon":this.rdoLayerIcon.set("checked",
!0);break;case "CustomIcon":this.userDefinedSymbol=!0,this.rdoCustomIcon.set("checked",!0),this.symbolInfo.icon&&this.resetIcon(this.symbolInfo.icon)}"undefined"!==typeof this.symbolInfo.clusterType&&("CustomCluster"===this.symbolInfo.clusterType&&this.symbolInfo.clusterSymbol&&this.clusterPicker.showBySymbol(l.fromJson(this.symbolInfo.clusterSymbol)),this.userDefinedSymbol=!0);this.chkClusterSym.set("checked",this.symbolInfo.clusteringEnabled);this._chkClusterChanged(this.symbolInfo.clusteringEnabled)}else this.rdoLayerSym.set("checked",
!0),this._rdoEsriSymChanged(!1),this._rdoCustomSymChanged(!1),this.chkClusterSym.set("checked",!1),this.chkClusterCnt.set("checked",!1),this.rdoLayerIcon.set("checked",!0),this._rdoCustomIconChanged(!1),this.symbolType="LayerSymbol",this.iconType="LayerIcon",this.userDefinedSymbol=this.clusteringEnabled=!1;if("esriGeometryPoint"!==this.geometryType||!this.supportsDynamic)t.set(this.parent_div_uploadCustomSymbol,"display","none"),this.supportsDynamic||t.set(this.div_rdoEsriSym,"display","none")},resetIcon:function(a){this.customIconPlaceholder.innerHTML=
"\x3cdiv\x3e\x3c/div\x3e";a=r.create("div",{innerHTML:[a],title:this.nls.editCustomIcon});d.addClass(a.firstChild,"customPlaceholder");this.customIconPlaceholder.innerHTML=a.innerHTML},_addEventHandlers:function(a){"point"===a&&this.own(u(this.uploadCustomSymbol,"click",p.hitch(this,function(){this._editIcon("Symbol")})));this.own(u(this.uploadCustomIcon,"click",p.hitch(this,function(){this._editIcon("Icon")})));this.btnOk.innerText=this.nls.common.ok;this.own(u(this.btnOk,"click",p.hitch(this,function(){this._setSymbol();
this.emit("ok",this.symbolInfo)})));this.btnCancel.innerText=this.nls.common.cancel;this.own(u(this.btnCancel,"click",p.hitch(this,function(){this.emit("cancel")})))},_setSymbol:function(){var a;switch(this.symbolType){case "LayerSymbol":a=this.symbol;break;case "EsriSymbol":this.userDefinedSymbol=!0;a=this.symbolPicker.getSymbol();break;case "CustomSymbol":this.userDefinedSymbol=!0,0<this.customSymbolPlaceholder.children.length&&(a="undefined"!==typeof this.customSymbolPlaceholder.children[0].src?
new b(this.customSymbolPlaceholder.children[0].src,30,30):l.fromJson(this.symbolInfo.symbol))}var f;"LayerIcon"===this.iconType?f=a:0<this.customIconPlaceholder.children.length&&("undefined"!==typeof this.customIconPlaceholder.innerHTML?(d.removeClass(this.customIconPlaceholder.firstChild,"customPlaceholder"),d.addClass(this.customIconPlaceholder.firstChild,"customPlaceholderSettings"),f=this.customIconPlaceholder.innerHTML):f=l.fromJson(this.symbolInfo.icon));this.clusteringEnabled&&"esriGeometryPoint"===
this.geometryType?(this.clusterSymbol="ThemeCluster"===this.clusterType?"custom":this.clusterPicker.getSymbol().toJson(),this.userDefinedSymbol=!0):(this.clusterSymbol=void 0,this.clusteringEnabled=!1);a&&"undefined"!==typeof a.toJson&&(a=a.toJson());var c;c=0<this.customIconPlaceholder.children.length?this.customIconPlaceholder.children[0].src:0<this.layerSym.children.length?this.layerSym.children[0].innerHTML:this.customIconPlaceholder.outerHTML;"undefined"!==typeof f&&(this._createImageDataDiv2(f,
44,44,!0),this._createImageDataDiv2(f,28,28,!1));this.symbolInfo={symbolType:this.symbolType,symbol:a,clusterSymbol:this.clusterSymbol,clusteringEnabled:this.clusteringEnabled,displayFeatureCount:this.displayFeatureCount,_highLightColor:this.colorPicker.color.toHex(),icon:f,clusterType:this.clusterType,iconType:this.iconType,renderer:this.renderer,s:c,svg:this.svg,panelHTML:this.panelHTML,userDefinedSymbol:this.userDefinedSymbol?this.userDefinedSymbol:!1,layerId:this.layerId,selectedId:this.selectedID,
featureDisplayOptions:{groupEnabled:this.groupFeaturesEnabled,fields:this.fieldOptionsTable?this._getFields(this.fieldOptionsTable):null,groupField:this.groupOptionsTable?this._getFields(this.groupOptionsTable)[0]:null}}},_getFields:function(a){a=a.getRows();var b=[];E.forEach(a,function(a){a.selectFields&&b.push({name:a.selectFields.value,label:a.labelText.value})});return b},_rdoLayerSymChanged:function(a){a&&(this.symbolType="LayerSymbol");d.setStyle(this.layerSym,"display",a?"block":"none")},
_rdoEsriSymChanged:function(a){a&&(this.symbolType="EsriSymbol");d.setStyle(this.symbolPicker.domNode,"display",a?"block":"none")},_rdoCustomSymChanged:function(a){a&&(this.symbolType="CustomSymbol");d.setStyle(this.customSymbolDIV,"display",a?"block":"none")},_chkClusterChanged:function(a){this.clusteringEnabled=a;d.setStyle(this.grpClusterOptions,"display",a?"block":"none");d.setStyle(this.clusterPickerContainer,"display",a?"block":"none");a&&"undefined"===typeof this.clusterType&&(this.clusterType=
"CustomCluster")},_chkClusterCntChanged:function(a){this.displayFeatureCount=a;d.setStyle(this.featureFont,"display",a?"block":"none")},_rdoLayerIconChanged:function(a){a&&(this.iconType="LayerIcon");d.setStyle(this.uploadCustomIcon,"display",!a?"block":"none");d.setStyle(this.customIconPlaceholder,"display",!a?"block":"none")},_rdoCustomIconChanged:function(a){a&&(this.iconType="CustomIcon");d.setStyle(this.uploadCustomIcon,"display",a?"block":"none");d.setStyle(this.customIconPlaceholder,"display",
a?"block":"none")},_initSymbolPicker:function(a){var b="";"point"===a?b="marker":"polyline"===a?b="line":"polygon"===a&&(b="fill");this.symbolPicker.showByType(b)},_initClusterSymbolPicker:function(a){"point"===a&&this.clusterPicker.showByType("fill");t.set(this.parent_div_clusterOptions,"display","point"===a?"block":"none")},_loadLayerSymbol:function(){if("undefined"!==typeof this.renderer){var a=this.renderer,b;"undefined"!==typeof a.symbol?this._createImageDataDiv(a.symbol,!0,this.layerSym):"undefined"!==
typeof a.infos?b=a.infos:"undefined"!==typeof a.uniqueValueInfos?b=a.uniqueValueInfos:"undefined"!==typeof a.classBreakInfos?b=a.classBreakInfos:(this.rdoEsriSym.set("checked",!0),this.symbolType="EsriSymbol",this.iconType="LayerIcon",this._initSymbolPicker(s.getTypeByGeometryType(this.geometryType)),this._setFields(this.fields),this._setSymbol(),this.symbolInfo.symbolType="LayerSymbol",this.symbolInfo.symbolOverride=!0);b&&(this.layerSym.innerHTML="\x3cdiv\x3e\x3c/div\x3e",this.layerSym.appendChild(this._createCombinedImageDataDiv(b)),
d.setStyle(this.layerSym,"cursor","pointer"))}},_createImageDataDiv2:function(a,b,c,e){var h;if("string"===typeof a)h=r.create("div",{"class":"imageDataGFX",innerHTML:a}),e?this.panelHTML=h.innerHTML:this.svg=h;else{var g=l.fromJson(a);g||(g=a);g?(a=c,c=b,g.height&&g.width&&(h=g.width/g.height,g.height>g.width?c=b*h:g.width>g.height&&(a=c/h)),"undefined"!==typeof g.setWidth?"undefined"!==typeof g.setHeight?(g.setWidth(c),g.setHeight(a)):g.setWidth(2):"undefined"!==typeof g.size&&20<g.size&&g.setSize(20),
h=r.create("div",{"class":"imageDataGFX"}),b=x.createSurface(h,c,a),g=l.getShapeDescriptors(g),b.createShape(g.defaultShape).setFill(g.fill).setStroke(g.stroke).applyTransform({dx:c/2,dy:a/2}),e?this.panelHTML=h.innerHTML:this.svg=h):"undefined"!==typeof a.url&&(h=r.create("div",{"class":"imageDataGFX"}),t.set(h,"background-image","url("+a.url+")"),t.set(h,"background-repeat","no-repeat"),e?this.panelHTML=h.innerHTML:this.svg=h)}return h},_createImageDataDiv:function(a,b,c){c=r.create("div",{"class":"imageDataGFX-display"},
c);(b=b?l.fromJson(a):a)||(b=a);this.symbol=b;var e=a=26;b.height&&b.width&&b.height>b.width&&(e=b.width/b.height,a=26,e*=26);var h=x.createSurface(c,e,a);b=l.getShapeDescriptors(this.setSym(b,e,a));h.createShape(b.defaultShape).setFill(b.fill).setStroke(b.stroke).applyTransform({dx:e/2,dy:a/2});this.svg=c.firstChild;return c},_createCombinedImageDataDiv:function(a){var b=r.create("div",{"class":"imageDataGFXMulti"},this.customSymbolPlaceholder);this.lyrSymbolSet=[];for(var c=this.symbolInfo&&this.symbolInfo.selectedId?
!1:!0,e=0;e<a.length;e++){var h=a[e].symbol,g=l.fromJson(h);g||(g=h);"undefined"===typeof this.symbol&&(this.symbol=g);this.lyrSymbolSet.push(g);var k=h=26;g.height&&g.width&&g.height>g.width&&(k=g.width/g.height,h=26,k*=26);var n=r.create("div",{"class":"imageDataGFX imageDataGFX2",id:"imageGFX_"+e,onclick:p.hitch(this,this.layerSymbolClick)},b),m=x.createSurface(n,k,h),g=l.getShapeDescriptors(this.setSym(g,k,h));m.createShape(g.defaultShape).setFill(g.fill).setStroke(g.stroke).applyTransform({dx:k/
2,dy:h/2});b.insertBefore(n,b.firstChild);b.appendChild(n);if(c||this.symbolInfo&&n.id===this.symbolInfo.selectedId)this.setLayerSymbol(n),c=!1;m.rawNode&&(d.setStyle(m.rawNode,"display","block"),d.setStyle(m.rawNode,"margin","auto"))}return b},layerSymbolClick:function(a){this.setLayerSymbol(a.currentTarget)},setLayerSymbol:function(a){for(var b,c=0;c<a.parentElement.children.length;c++){var e=a.parentElement.children[c];d.removeClass(e,"lyrSymbolSelected");e.id===a.id&&(b=c)}d.addClass(a,"lyrSymbolSelected");
this.selectedID=a.id;this.svg=a;this.panelHTML=a.innerHTML;this.symbol=this.lyrSymbolSet[b]},setSym:function(a,b,c){"undefined"!==typeof a.setWidth?("esriGeometryPoint"===this.geometryType&&a.setWidth(b),"undefined"!==typeof a.setHeight&&a.setHeight(c)):("undefined"!==typeof a.size&&20<a.size&&a.setSize(20),"undefined"!==typeof a.width&&(a.width=b),"undefined"!==typeof a.height&&(a.height=c));return a},_editIcon:function(a){var b=new FileReader;b.onload=p.hitch(this,function(){var c,e;"Symbol"===
a?(c=this.customSymbolPlaceholder,e=this.nls.editCustomSymbol):(c=this.customIconPlaceholder,e=this.nls.editCustomIcon);c.innerHTML="\x3cdiv\x3e\x3c/div\x3e";e=r.create("div",{"class":"customPlaceholder",innerHTML:['\x3cimg class\x3d"customPlaceholder" src\x3d"',b.result,'"/\x3e'].join(""),title:e});c.innerHTML=e.innerHTML});this.fileInput.onchange=p.hitch(this,function(){b.readAsDataURL(this.fileInput.files[0])});this.fileInput.click()},_chkGroupChanged:function(a){this.groupFeaturesEnabled=a;d.setStyle(this.groupFieldOptions,
"display",a?"inline-block":"none")},destroy:function(){this.symbolInfo=null;this.tabContainer.destroyRecursive()}})})},"jimu/dijit/SymbolPicker":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/Evented dojo/_base/lang dojo/_base/html dojo/_base/array dojo/on dojo/query dijit/TooltipDialog dijit/popup dijit/registry jimu/dijit/SymbolChooser jimu/symbolUtils".split(" "),function(m,v,A,B,p,d,t,r,u,D,x,y,C,z){return m([v,A,B],{baseClass:"jimu-symbol-picker",declaredClass:"jimu.dijit.SymbolPicker",
templateString:'\x3cdiv\x3e\x3cdiv data-dojo-attach-point\x3d"symbolNode" class\x3d"symbol-node jimu-float-leading"\x3e\x3c/div\x3e\x3cdiv class\x3d"separator jimu-float-leading"\x3e\x3c/div\x3e\x3cdiv class\x3d"jimu-icon jimu-icon-down-arrow-8 jimu-float-leading"\x3e\x3c/div\x3e\x3c/div\x3e',tooltipDialog:null,_isTooltipDialogOpened:!1,symbol:null,type:null,postCreate:function(){this.inherited(arguments);this._createTooltipDialog();this._hideTooltipDialog();var d=this.symbolChooser.getSymbol();d&&
this._drawSymbol(d)},destroy:function(){this._hideTooltipDialog();this.symbolChooser&&this.symbolChooser.destroy();this.symbolChooser=null;this.inherited(arguments)},_createTooltipDialog:function(){var l=d.create("div");this.tooltipDialog=new D({content:l});this.symbolChooser=new C({symbol:this.symbol,type:this.type});this.symbolChooser.placeAt(l);this.symbolChooser.startup();this.own(r(this.symbolChooser,"change",p.hitch(this,function(d){this._drawSymbol(d);this.emit("change",d)})));this.own(r(this.domNode,
"click",p.hitch(this,function(d){d.stopPropagation();d.preventDefault();this._isTooltipDialogOpened?this._hideTooltipDialog():this._showTooltipDialog()})));this.own(r(document.body,"click",p.hitch(this,function(l){var m=l.target||l.srcElement;l=this._getColorPickers();0<l.length&&t.some(l,function(d){return d.isPartOfPopup(m)})||(l=this.tooltipDialog.domNode,m===l||d.isDescendant(m,l)||this._hideTooltipDialog())})));this.own(r(this.symbolChooser,"resize",p.hitch(this,function(){this._isTooltipDialogOpened&&
(this._hideTooltipDialog(),this._showTooltipDialog())})))},_getColorPickers:function(){var d=u(".jimu-color-picker",this.symbolChooser.domNode);return t.map(d,p.hitch(this,function(d){return y.byNode(d)}))},reset:function(){this.symbol=this.type=null;d.empty(this.symbolNode);this.symbolChooser.reset()},showBySymbol:function(d){this.reset();d&&(this._drawSymbol(d),this.symbolChooser.showBySymbol(d))},showByType:function(d){this.reset();this.symbolChooser.showByType(d);(d=this.symbolChooser.getSymbol())&&
this._drawSymbol(d)},getSymbol:function(){return this.symbolChooser.getSymbol()},_drawSymbol:function(l){d.empty(this.symbolNode);l&&(l=z.createSymbolNode(l,{width:16,height:16}))&&d.place(l,this.symbolNode)},_showTooltipDialog:function(){this.tooltipDialog&&(x.open({parent:this.getParent(),popup:this.tooltipDialog,around:this.domNode}),this._isTooltipDialogOpened=!0)},_hideTooltipDialog:function(){this.tooltipDialog&&(x.close(this.tooltipDialog),this._isTooltipDialogOpened=!1)}})})},"widgets/InfoSummary/setting/_build-generate_module":function(){define(["dojo/text!./Setting.html",
"dojo/text!./css/style.css","dojo/i18n!./nls/strings"],function(){})},"url:widgets/InfoSummary/setting/MySymbolPicker.html":'\x3cdiv style\x3d"width: 100%;"\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"tabParent"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"symbolPickerContainer" class\x3d"symbolPickerContainer"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"div_symbolOptionsContainer" class\x3d"symbolOptionsContainer"\x3e\r\n        \x3cdiv class\x3d"label iconOptionsText"\x3e\r\n          ${nls.symbolOptionsText}\r\n        \x3c/div\x3e\r\n        \x3chr /\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"div_symbolOptions" class\x3d"symbolOptions"\x3e\r\n          \x3c!--Symbol Options--\x3e\r\n          \x3cdiv class\x3d"jimu-r-row padTop10"\r\n               data-dojo-attach-point\x3d"grpSymbolOptions"\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"div_rdoLayerSym" class\x3d"height30"\x3e\r\n              \x3cinput name\x3d"a" data-dojo-type\x3d"dijit/form/RadioButton"\r\n                     data-dojo-attach-point\x3d"rdoLayerSym"\r\n                     data-dojo-attach-event\x3d"onChange:_rdoLayerSymChanged"\r\n                     title\x3d"${nls.rdoLayer}" /\x3e\r\n              \x3cspan class\x3d"label"\x3e${nls.rdoLayer}\x3c/span\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"jimu-r-row symPick marginLR20" data-dojo-attach-point\x3d"layerSym"\x3e \x3c/div\x3e\r\n          \x3cdiv class\x3d"jimu-r-row padTop10" data-dojo-attach-point\x3d"grpSymbolOptions"\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"div_rdoEsriSym" class\x3d"height30"\x3e\r\n              \x3cinput name\x3d"a" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-attach-point\x3d"rdoEsriSym" data-dojo-attach-event\x3d"onChange:_rdoEsriSymChanged" title\x3d"${nls.rdoEsri}" /\x3e\r\n              \x3cspan class\x3d"label"\x3e${nls.rdoEsri}\x3c/span\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"symbolPicker" data-dojo-type\x3d"jimu/dijit/SymbolPicker" class\x3d"jimu-r-row symPick marginLR20"\x3e\x3c/div\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"parent_div_uploadCustomSymbol"\x3e\r\n            \x3cdiv class\x3d"jimu-r-row padTop10" data-dojo-attach-point\x3d"grpSymbolOptions"\x3e\r\n              \x3cdiv data-dojo-attach-point\x3d"div_rdoCustomSym" class\x3d"rdoCustomSym"\x3e\r\n                \x3cinput name\x3d"a" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-attach-point\x3d"rdoCustomSym" data-dojo-attach-event\x3d"onChange:_rdoCustomSymChanged" title\x3d"${nls.rdoCustom}" /\x3e\r\n                \x3cspan class\x3d"label"\x3e${nls.rdoCustom}\x3c/span\x3e\r\n              \x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"customSymbolDIV" class\x3d"jimu-r-row padTop10 sHeight marginLR20"\x3e\r\n              \x3cdiv data-dojo-attach-point\x3d"uploadCustomSymbol" class\x3d"uploadCustom"\x3e\x3c/div\x3e\r\n              \x3cdiv data-dojo-attach-point\x3d"customSymbolPlaceholder" class\x3d"customPlaceholder"\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n\r\n          \x3c!--Clustering Options--\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"parent_div_clusterOptions" class\x3d"clusterOptions"\x3e\r\n            \x3chr class\x3d"w" /\x3e\r\n            \x3cdiv class\x3d"jimu-r-row padTop10" data-dojo-attach-point\x3d"grpClusterOptions"\x3e\r\n              \x3cdiv data-dojo-attach-point\x3d"div_chkCluster" class\x3d"padTop20"\x3e\r\n                \x3cinput data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"chkClusterSym" title\x3d"${nls.chkCluster}" data-dojo-attach-event\x3d"onChange:_chkClusterChanged" /\x3e\r\n                \x3cspan class\x3d"label"\x3e${nls.chkCluster}\x3c/span\x3e\r\n              \x3c/div\x3e\r\n            \x3c/div\x3e\r\n\r\n            \x3cdiv data-dojo-attach-point\x3d"clusterPickerContainer" class\x3d"jimu-r-row marginLR22 grpClusterOptions"\x3e\r\n              \x3cdiv class\x3d"jimu-float-leading"\x3e${nls.defineClusterSymbol}:\x3c/div\x3e\r\n              \x3cdiv data-dojo-attach-point\x3d"clusterPicker" data-dojo-type\x3d"jimu/dijit/SymbolPicker" class\x3d"jimu-float-trailing colorPick"\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n\r\n            \x3cdiv class\x3d"jimu-r-row grpClusterOptions marginLR22" data-dojo-attach-point\x3d"grpClusterOptions"\x3e\r\n              \x3cinput data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"chkClusterCnt" title\x3d"${nls.displayClusterCnt}" data-dojo-attach-event\x3d"onChange:_chkClusterCntChanged" /\x3e\r\n              \x3cspan class\x3d"label"\x3e${nls.displayClusterCnt}\x3c/span\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"jimu-r-row grpClusterOptions" data-dojo-attach-point\x3d"featureFont" style\x3d"display: none; margin-left: 45px; margin-right: 45px;"\x3e\r\n              \x3cdiv class\x3d"jimu-float-leading"\x3e${nls.defineClusterFont}:\x3c/div\x3e\r\n              \x3cdiv data-dojo-attach-point\x3d"colorPicker" data-dojo-type\x3d"jimu/dijit/ColorPicker" data-dojo-props\x3d\'color:"${_highLightColor}"\' class\x3d"marginLR30 colorPick2 jimu-float-trailing"\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"label iconOptionsText padTop20"\x3e\r\n          ${nls.iconOptionsText}\r\n        \x3c/div\x3e\r\n        \x3chr /\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"div_iconOptions" class\x3d"iconOptions"\x3e\r\n          \x3c!--Main Panel and cluster center Icon Options--\x3e\r\n          \x3cdiv class\x3d"jimu-r-row padTop10" data-dojo-attach-point\x3d"grpIconOptions"\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"div_rdoLayerIcon"\x3e\r\n              \x3cinput name\x3d"b" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-attach-point\x3d"rdoLayerIcon" data-dojo-attach-event\x3d"onChange:_rdoLayerIconChanged" title\x3d"${nls.rdoLayerIcon}" /\x3e\r\n              \x3cspan class\x3d"label"\x3e${nls.rdoLayerIcon}\x3c/span\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n\r\n          \x3cdiv class\x3d"jimu-r-row padTop10" data-dojo-attach-point\x3d"grpCustomIconOptions"\x3e\r\n            \x3cdiv class\x3d"rdoCustomSym" data-dojo-attach-point\x3d"div_rdoCustomIcon"\x3e\r\n              \x3cinput name\x3d"b" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-attach-point\x3d"rdoCustomIcon" data-dojo-attach-event\x3d"onChange:_rdoCustomIconChanged" title\x3d"${nls.rdoCustomIcon}" /\x3e\r\n              \x3cspan class\x3d"label"\x3e${nls.rdoCustomIcon}\x3c/span\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"jimu-r-row padTop10 sHeight marginLR30"\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"uploadCustomIcon" class\x3d"uploadCustom"\x3e\x3c/div\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"customIconPlaceholder" class\x3d"customPlaceholder"\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cinput type\x3d"file"\r\n               accept\x3d"image/png, image/jpeg, image/bmp, image/gif"\r\n               data-dojo-attach-point\x3d"fileInput"\r\n               class\x3d"fileInput"\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"panelFeatureDisplayContainer" class\x3d"panelFeatureContainer"\x3e\r\n      \x3cdiv class\x3d"label iconOptionsText padTop10"\x3e\r\n        ${nls.featureOptionsText}\r\n      \x3c/div\x3e\r\n      \x3chr /\x3e\r\n      \x3cdiv class\x3d"btn-add-section enable" data-dojo-attach-point\x3d"btnAddField"\x3e\r\n        \x3cspan class\x3d"btn-add-icon"\x3e\x3c/span\x3e\r\n        \x3cspan class\x3d"btn-add-label"\x3e${nls.addField}\x3c/span\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"fieldOptions" class\x3d"fieldOptions"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"label iconOptionsText padTop20"\x3e\r\n        ${nls.groupOptionsText}\r\n      \x3c/div\x3e\r\n      \x3chr /\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"groupOptions" class\x3d"groupOptions"\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"div_chkGroup"\x3e\r\n          \x3cinput data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"chkGroup" title\x3d"${nls.chkGroup}" data-dojo-attach-event\x3d"onChange:_chkGroupChanged" /\x3e\r\n          \x3cspan class\x3d"label"\x3e${nls.chkGroup}\x3c/span\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"groupFieldOptions" class\x3d"groupFieldOptions"\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3c!--Footer--\x3e\r\n  \x3cdiv class\x3d"footer padTop20"\x3e\r\n    \x3cdiv class\x3d"jimu-btn ok" data-dojo-attach-point\x3d"btnOk"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"jimu-btn cancel" data-dojo-attach-point\x3d"btnCancel"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/InfoSummary/setting/Setting.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"jimu-r-row"\x3e\r\n    \x3cdiv class\x3d"btn-add-section enable" data-dojo-attach-point\x3d"btnAddLayer"\x3e\r\n      \x3cspan class\x3d"btn-add-icon"\x3e\x3c/span\x3e\r\n      \x3cspan class\x3d"btn-add-label"\x3e${nls.addLayer}\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"layerTable" /\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"optionsContainer"\x3e\r\n    \x3cdiv class\x3d"label optionsText"\x3e\r\n      ${nls.optionsText}\r\n    \x3c/div\x3e\r\n    \x3chr /\x3e\r\n    \x3cdiv class\x3d"padTop20"\x3e\r\n      \x3cinput data-dojo-attach-point\x3d"panelCountOptions" data-dojo-type\x3d"dijit/form/CheckBox" /\x3e\r\n      \x3cspan class\x3d"label"\x3e ${nls.panelCountOption}\x3c/span\x3e\r\n      \x3cdiv class\x3d"refreshOptions refreshOff" data-dojo-attach-point\x3d"refreshOptions"\x3e\r\n        \x3cdiv class\x3d"refreshIntervalTitle" title\x3d"${nls.refreshIntervalTitle}"\x3e\r\n          \x3cspan style\x3d"padding-right: 10px;"\x3e${nls.refreshIntervalInstruction}\x3c/span\x3e\r\n          \x3cinput type\x3d"text" name\x3d"refreshInterval"\r\n                 placeholder\x3d"${nls.refreshInterval}"\r\n                 data-dojo-type\x3d"dijit/form/ValidationTextBox"\r\n                 data-dojo-props\x3d"regExp:\'[\\\\d]+\', _hasBeenBlurred:true, trim:true"\r\n                 data-dojo-attach-point\x3d"refreshInterval"\r\n                 data-dojo-attach-event\x3d"onChange:_updateOK"\r\n                 class\x3d"refreshInterval" required\x3d"true"\x3e\r\n          \x3cspan style\x3d"padding-left: 10px;"\x3e${nls.refreshUnit}\x3c/span\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"padTop20"\x3e\r\n      \x3cinput data-dojo-attach-point\x3d"panelIconOptions" data-dojo-type\x3d"dijit/form/CheckBox" /\x3e\r\n      \x3cspan class\x3d"label"\x3e ${nls.panelIconOption}\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"padTop30"\x3e\r\n      \x3cdiv class\x3d"mainPanelPreviewContainer mainPanelPreviewContainerOff" data-dojo-attach-point\x3d"mainPanelPreviewContainer"\x3e\r\n        \x3cdiv class\x3d"leftContainer"\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"mainPanelPreviewButton" class\x3d"mainPanelPreviewButton"\x3e\r\n            \x3cdiv data-dojo-attach-event\x3d"onclick:uploadImage" class\x3d"jimu-btn"\x3e\r\n              ${nls.uploadImage}\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"instruction2"\x3e\r\n            ${nls.mainPanelText}\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"rightContainer"\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"mainPanelPreview" class\x3d"bg rounded mainPanelPreview"\x3e\r\n            \x3cdiv class\x3d"panelContent bg"\x3e\r\n              \x3cdiv class\x3d"page"\x3e\r\n                \x3cdiv data-dojo-attach-point\x3d"panelMainIcon"\x3e\x3c/div\x3e\r\n              \x3c/div\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cinput type\x3d"text" name\x3d"mainPanelText"\r\n                 placeholder\x3d"${nls.mainPanelTextPlaceholder}"\r\n                 data-dojo-type\x3d"dijit/form/TextBox"\r\n                 data-dojo-props\x3d"trim:true"\r\n                 data-dojo-attach-point\x3d"mainPanelText"\r\n                 class\x3d"mainPanelText"\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cinput type\x3d"file"\r\n             accept\x3d"image/png, image/jpeg, image/bmp, image/gif"\r\n             data-dojo-attach-point\x3d"fileInput"\r\n             class\x3d"fileInput"\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/InfoSummary/setting/css/style.css":".jimu-widget-InfoSummary-setting {width: 100%; height: 100%;}.jimu-widget-InfoSummary-setting .btn-add-section {display: inline-block; overflow: hidden; height: 24px; margin-left: 1px; margin-bottom: 3px; cursor: pointer; font-size: 13px; color: #538ec8; margin-top: 8px;}.jimu-widget-InfoSummary-setting .btn-add-section-disabled {display: inline-block; overflow: hidden; height: 24px; margin-left: 1px; margin-bottom: 3px; cursor: default; font-size: 13px; color: #a0acbf; margin-top: 8px;}.jimu-widget-InfoSummary-setting .jimu-icon-edit {margin-left: 5px; margin-top: 5px;}.jimu-rtl .jimu-widget-InfoSummary-setting .jimu-icon-edit {margin-right: 5px; margin-top: 5px;}.jimu-widget-InfoSummary-setting .btn-add-section .btn-add-icon {height: 100%; width: 14px; background-repeat: no-repeat; background-position: center center; background-image: url(images/add.png); display: inline-block; vertical-align: top;}.jimu-widget-InfoSummary-setting .btn-add-section-disabled .btn-add-icon {height: 100%; width: 14px; background-repeat: no-repeat; background-position: center center; background-image: url(images/add.png); display: inline-block; vertical-align: top; opacity: .6;}.jimu-widget-InfoSummary-setting .btn-add-section .btn-add-icon:hover {background-image: url(images/add_hover.png);}.jimu-widget-InfoSummary-setting .btn-add-section .btn-add-label {height: 100%; line-height: 24px; margin-left: 7px; text-decoration: underline; display: inline-block; vertical-align: top;}.jimu-widget-InfoSummary-setting .btn-add-section-disabled .btn-add-label {height: 100%; line-height: 24px; margin-left: 7px; text-decoration: underline; display: inline-block; vertical-align: top;}.jimu-widget-InfoSummary-setting .instruction2{padding-top: 200px;}.jimu-widget-InfoSummary-setting .instruction2 span{color: #596679;}.jimu-widget-InfoSummary-setting .panelContent {position: relative; width: 340px; height: 220px;}.jimu-widget-InfoSummary-setting .page {position: relative; width: 340px; height: 220px; display: block; background-color: rgba(0,0,0,0.15);}.jimu-widget-InfoSummary-setting .panelMain {display: block;}.jimu-widget-InfoSummary-setting .mainPanelPreviewContainer {height: 270px; float: left;}.jimu-rtl .jimu-widget-InfoSummary-setting .mainPanelPreviewContainer {height: 270px; float: right;}.jimu-widget-InfoSummary-setting .marginLR20 {margin-left: 20px; margin-right: 20px;}.jimu-widget-InfoSummary-setting .marginLR22 {margin-left: 22px; margin-right: 22px;}.jimu-widget-InfoSummary-setting .marginLR25 {margin-left: 25px; margin-right: 25px;}.jimu-widget-InfoSummary-setting .marginLR30 {margin-left: 30px; margin-right: 30px;}.jimu-widget-InfoSummary-setting .rightContainer {float: left; position: relative; height: 270px;}.jimu-rtl .jimu-widget-InfoSummary-setting .rightContainer {float: right;}.jimu-widget-InfoSummary-setting .leftContainer {float: left; padding-right: 20px; position: relative; height: 270px;}.jimu-rtl .jimu-widget-InfoSummary-setting .leftContainer {float: right; padding-left: 20px; position: relative;}.jimu-widget-InfoSummary-setting .mainPanelPreviewContainerOn {display: block; padding-bottom: 10px;}.jimu-widget-InfoSummary-setting .mainPanelPreviewContainerOff {display: none;}.jimu-widget-InfoSummary-setting .refreshOff {display: none;}.jimu-widget-InfoSummary-setting .refreshOn {display: block;}.jimu-widget-InfoSummary-setting .uploadCustom {display: block; width: 25px; height: 25px; cursor: pointer; background-image: url(../css/images/edit_default.png); background-repeat: no-repeat;}.jimu-widget-InfoSummary-setting .uploadCustom:hover {display: block; width: 25px; height: 25px; cursor: pointer; background-image: url(../css/images/edit_hover.png); background-repeat: no-repeat;}.jimu-widget-InfoSummary-setting .sHeight{min-height: 25px; display: block; left: 10px;}.jimu-rtl .jimu-widget-InfoSummary-setting .sHeight{min-height: 25px; display: block; right: 10px;}.jimu-widget-InfoSummary-setting .customPlaceholderSettings {display: block; width: 25px; height: 25px; cursor: default;}.jimu-widget-InfoSummary-setting .customPlaceholder {display: block; width: 25px; height: 25px; cursor: pointer; position: absolute; top: 5px; left: 20px;}.jimu-rtl .jimu-widget-InfoSummary-setting .customPlaceholder {display: block; width: 25px; height: 25px; cursor: pointer; position: absolute; top: 5px; right: 20px;}.jimu-widget-InfoSummary-setting .imageDataGFX {height:27px; float: left;}.jimu-rtl .jimu-widget-InfoSummary-setting .imageDataGFX {height:27px; float: right;}.jimu-widget-InfoSummary-setting .imageDataGFX-display {width:27px; height:27px;}.jimu-widget-InfoSummary-setting .imageDataGFX2 {display: block; margin-left: 5px; margin-bottom: 5px; margin-right: 10px;}.jimu-rtl .jimu-widget-InfoSummary-setting .imageDataGFX2 {display: block; margin-right: 5px; margin-bottom: 5px; margin-left: 10px;}.jimu-widget-InfoSummary-setting .imageDataGFXMulti {width:100%; padding-right: 10px;}.jimu-rtl .jimu-widget-InfoSummary-setting .imageDataGFXMulti {width:100%; padding-left: 10px;}.jimu-widget-InfoSummary-setting .displayOptions {padding-left: 40px !important;}.jimu-rtl .jimu-widget-InfoSummary-setting .displayOptions {padding-right: 40px !important;}.jimu-widget-InfoSummary-setting .symPickers{float:right; overflow:visible;}.jimu-widget-InfoSummary-setting .symPick {padding-top: 1px; padding-bottom: 1px; border: 0px solid #D7D7D7;}.jimu-widget-InfoSummary-setting .colorPick {border: 0px solid #D7D7D7;}.jimu-widget-InfoSummary-setting .colorPick2 {width: 28px; height: 28px;}.jimu-widget-InfoSummary-setting .symbolPreview {float: left; width: 280px; height: 340px; margin-left: 20px; margin-top:10px; border: 5px dashed gray;}.jimu-widget-InfoSummary-setting .iconPreview {float: left; width: 280px; height: 90px; margin-left: 20px; margin-top: 10px; margin-bottom: 10px; border: 5px dashed gray;}.jimu-widget-InfoSummary-setting .symbolOptionsContainer {overflow: hidden;}.jimu-widget-InfoSummary-setting .symbolPickerContainer {height: 100%; width: 100%; overflow: auto; padding-bottom: 8px; margin-top: 15px;}.jimu-widget-InfoSummary-setting .panelFeatureContainer {height: auto; display: none;}.jimu-widget-InfoSummary-setting .fieldOptions {width: 360px; max-height: 130px; overflow-y: auto;}.jimu-widget-InfoSummary-setting .groupOptions {position: relative; margin-top: 15px;}.jimu-widget-InfoSummary-setting .groupFieldOptions {margin-top: 15px; width: 100%; height: auto; display: none; float: left; margin-bottom: 15px;}.jimu-widget-InfoSummary-setting .symbolOptionText {font-weight: bold;}.jimu-widget-InfoSummary-setting .symbolOptions{}.jimu-widget-InfoSummary-setting .w{width: 240px; position: absolute; left: 0px;}.jimu-rtl .jimu-widget-InfoSummary-setting .w{width: 240px; position: absolute; right: 0px;}.jimu-widget-InfoSummary-setting .rdoCustomSym{vertical-align: middle;}.jimu-widget-InfoSummary-setting .clusterOptions{min-width: 250px;}.jimu-widget-InfoSummary-setting .grpClusterOptions{padding-top: 16px;}.jimu-widget-InfoSummary-setting .iconOptionsText{font-weight: bold; width: 200px; display: -webkit-inline-box;}.jimu-widget-InfoSummary-setting .iconOptions{min-width: 250px; min-height: 95px;}.jimu-widget-InfoSummary-setting .fileInput{opacity: 0; width: 0px; height: 0px; position: absolute; right: 0px;}.jimu-rtl .jimu-widget-InfoSummary-setting .fileInput{opacity: 0; width: 0px; height: 0px; position: absolute; left: 0px;}.jimu-widget-InfoSummary-setting .checkBox {margin-left: 20px;}.jimu-rtl .jimu-widget-InfoSummary-setting .checkBox {margin-left: 20px;}.jimu-widget-InfoSummary-setting .height30{height: 30px;}.jimu-widget-InfoSummary-setting .padTop10{padding-top: 10px;}.jimu-widget-InfoSummary-setting .padTop20{padding-top: 20px;}.jimu-widget-InfoSummary-setting .padTop30{padding-top: 30px;}.jimu-widget-InfoSummary-setting .optionsText{padding-top: 25px; font-weight: bold;}.jimu-widget-InfoSummary-setting .mainPanelText{width: 340px; position: absolute; bottom: 10px;}.jimu-widget-InfoSummary-setting .refreshOptions{float:right;}.jimu-widget-InfoSummary-setting .refreshIntervalTitle{float:left;}.jimu-widget-InfoSummary-setting .refreshInterval{width:130px;}.jimu-widget-InfoSummary-setting .longSelect .dijitSelectLabel {text-align:left; text-overflow: ellipsis; overflow: hidden; max-width:295px; width:295px;}.jimu-widget-InfoSummary-setting .medSelect .dijitSelectLabel {text-align:left; text-overflow: ellipsis; overflow: hidden; max-width:150px; width: 150px;}.jimu-widget-InfoSummary-setting .loSelect .dijitSelectLabel {text-align:left; text-overflow: ellipsis; overflow: hidden; max-width: 88px; min-width: 88px;}.jimu-widget-InfoSummary-setting .goSelect .dijitSelectLabel {text-align:left; text-overflow: ellipsis; overflow: hidden; max-width: 130px; min-width: 130px;}.jimu-widget-InfoSummary-setting .shortSelect .dijitSelectLabel {text-align:left; text-overflow: ellipsis; overflow: hidden; max-width: 81px; width: 81px;}.jimu-widget-InfoSummary-setting .innerMainPanelIcon {background-size: contain; width: 310px; height:220px; background-repeat: no-repeat; background-position: 50% 50%; margin-left: 15px;}.jimu-widget-InfoSummary-setting .claro .dijitTextBox .dijitInputInner{font-size: 4px;}.jimu-widget-InfoSummary-setting .noMargin {margin-left: 0px; padding-left: 0px;}.jimu-widget-InfoSummary-setting .margin2 {margin-left: 2px;}.jimu-rtl .jimu-widget-InfoSummary-setting .margin2 {margin-right: 2px;}.jimu-widget-InfoSummary-setting .extraMargin {padding-left: 21px;}.jimu-widget-InfoSummary-setting .lyrSymbolSelected {outline: 1px solid #2196F3; background-color: aliceblue;}",
"*now":function(m){m(['dojo/i18n!*preload*widgets/InfoSummary/setting/nls/Setting*["ar","cs","da","de","en","el","es","et","fi","fr","he","hr","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sr","sv","th","tr","zh-cn","vi","zh-hk","zh-tw","ROOT"]'])}}});
define("dojo/query dojo/dom-construct dojo/_base/declare dojo/_base/xhr dojo/_base/Color dijit/_WidgetsInTemplateMixin jimu/BaseWidgetSetting jimu/LayerInfos/LayerInfos dijit/form/Select dijit/form/ValidationTextBox dijit/form/CheckBox jimu/dijit/Popup jimu/dijit/SimpleTable jimu/utils jimu/dijit/Message esri/request dijit/popup dojo/_base/lang dojo/DeferredList dojo/on dojo/dom-style dojo/_base/html dojo/_base/array ./MySymbolPicker".split(" "),function(m,v,A,B,p,d,t,r,u,D,x,y,C,z,l,I,F,n,G,s,w,
k,H,E){return A([t,d],{baseClass:"jimu-widget-InfoSummary-setting",_layerInfos:null,mpi:null,layer_options:[],refreshLayers:[],displayPanelIcon:!1,used_layers:[],postCreate:function(){this.inherited(arguments);0===this.map.itemInfo.itemData.operationalLayers.length?(w.set(this.btnAddLayer,"display","none"),w.set(this.optionsContainer,"display","none"),this._disableOk(),new l({message:this.nls.missingLayerInWebMap})):(this.setupLayerTable(),this.setupRefreshInterval(),this._getAllLayers(),this.own(s(this.btnAddLayer,
"click",n.hitch(this,this._addLayerRow))),this.own(s(this.panelCountOptions,"change",n.hitch(this,function(b){this.countEnabled=b}))),this.own(s(this.panelIconOptions,"change",n.hitch(this,function(){var b;this.panelIconOptions.checked?(this.displayPanelIcon=!0,b=m(".mainPanelPreviewContainerOff",this.mainPanelPreviewContainer.domNode)[0],k.removeClass(b,"mainPanelPreviewContainerOff"),k.addClass(b,"mainPanelPreviewContainerOn")):(this.displayPanelIcon=!1,b=m(".mainPanelPreviewContainerOn",this.mainPanelPreviewContainer.domNode)[0],
k.removeClass(b,"mainPanelPreviewContainerOn"),k.addClass(b,"mainPanelPreviewContainerOff"))}))))},startup:function(){this.inherited(arguments);this.refreshLayers=[]},setupRefreshInterval:function(){this.refreshInterval.invalidMessage=this.nls.invalidInterval;this.refreshInterval.missingMessage=this.nls.missingRefreshValue},setupLayerTable:function(){this.displayLayerTable=new C({fields:[{name:"layer",title:this.nls.layerName,"class":"label",type:"empty",width:"328px"},{name:"label","class":"label",
title:this.nls.layerLabel,type:"empty",width:"263px"},{name:"image","class":"label",title:this.nls.iconColumnText+" "+this.nls.optionsText,width:"110px",actions:["edit"],type:"actions"},{name:"refresh","class":"label",title:this.nls.layerRefresh,type:"empty",width:"80px"},{name:"actions","class":"label",title:this.nls.actions,type:"actions",actions:["up","down","delete"],width:"77px"}],selectable:!1,autoHeight:!0});this.displayLayerTable.placeAt(this.layerTable);this.displayLayerTable.startup();this.own(s(this.displayLayerTable,
"actions-edit",n.hitch(this,this._pickSymbol)));this.own(s(this.displayLayerTable,"row-delete",n.hitch(this,this._rowDeleted)))},_getAllLayers:function(){this.map.itemId&&r.getInstance(this.map,this.map.itemInfo).then(n.hitch(this,function(b){this.opLayers=b;this._setLayers();this.setConfig(this.config)}))},_getInfoTemplate:function(b){var c;if(b&&b.parentLayerInfo&&b.parentLayerInfo.controlPopupInfo){var e=b.parentLayerInfo.controlPopupInfo.infoTemplates;if(e){var a=b.url;!a&&b.layerObject&&(a=b.layerObject.url);
if(a&&(b=a.split("/").pop()))e.indexOf?-1<e.indexOf(b)&&(c=e[b].infoTemplate):e.hasOwnProperty(b)&&(c=e[b].infoTemplate)}}return c},_setLayers:function(){for(var b="ArcGISFeatureLayer;ArcGISMapServiceLayer;CSV;KML;GeoRSS;ArcGISStreamLayer;Feature Layer".split(";"),c=[],e=0;e<this.opLayers._layerInfos.length;e++){var a=!0,f=this.opLayers._layerInfos[e],q;if(f.originOperLayer){q=f.originOperLayer;var d=q.layerType;"undefined"===typeof d&&f.layerObject&&(d=f.layerObject.type);if(-1===b.indexOf(d))continue}if(0<
f.newSubLayers.length){if(!this.checkNestedGroups(f.newSubLayers)){var a=f.newSubLayers,h;"KML"===q.type&&(a=q.layerObject.getLayers(),h=q.id);this._recurseOpLayers(a,c,h)}}else f.featureCollection?1<f.layers.length&&this._recurseOpLayers(f.layers,c,void 0):q?q.featureCollection?1<q.featureCollection.layers.length?this._recurseOpLayers(q.featureCollection.layers,c,void 0):c.unshift({label:f.title,value:f.id,url:void 0,imageData:f.imageData,id:f.id,geometryType:q.featureCollection.layers[0].layerObject.geometryType,
fields:q.featureCollection.layers[0].layerObject.fields,type:f.type,renderer:q.featureCollection.layers[0].layerObject.renderer,itemId:q.itemId,infoTemplate:q?this._getInfoTemplate(q):void 0,lyrType:"Feature Collection",panelImageData:f.panelImageData,supportsDynamic:a}):("undefined"===typeof f.layerObject.geometryType&&this.setGeometryType(f.layerObject),f&&f.resourceInfo&&(a=f.resourceInfo.supportsDynamicLayers),c.unshift({label:f.title,value:f.id,url:f.layerObject.url,imageData:f.imageData,id:f.id,
type:f.type,renderer:f.layerObject.renderer,geometryType:f.layerObject.geometryType,fields:f.layerObject.fields,infoTemplate:q?this._getInfoTemplate(q):void 0,lyrType:"Map Service Layer",panelImageData:f.panelImageData,supportsDynamic:a})):("undefined"===typeof f.layerObject.geometryType&&this.setGeometryType(f.layerObject),f&&f.resourceInfo&&(a=f.resourceInfo.supportsDynamicLayers),c.unshift({label:f.title,value:f.id,url:f.layerObject.url,imageData:f.imageData,id:f.id,type:f.type,renderer:f.layerObject.renderer,
geometryType:f.layerObject.geometryType,fields:f.layerObject.fields,lyrType:"",infoTemplate:q?this._getInfoTemplate(q):void 0,panelImageData:f.panelImageData,supportsDynamic:a}))}this.layer_options=n.clone(c)},checkNestedGroups:function(b){for(var c=0;c<b.length;c++)if(b[c].newSubLayers&&0<b[c].newSubLayers.length)return!0;return!1},setConfig:function(b){this.config=b;if(!this.config.mapID||this.config.mapID&&this.config.mapID===this.map.itemId){this.oldConfig=!this.config.mapID;this.config.mainPanelText&&
this.mainPanelText.set("value",this.config.mainPanelText);this.config.mainPanelIcon&&(this.panelMainIcon.innerHTML=this.config.mainPanelIcon);this.config.refreshInterval&&this.refreshInterval.set("value",this.config.refreshInterval);this.config.loadStaticData&&this.chkStatic.set("value",this.config.loadStaticData);this.config.countEnabled&&this.panelCountOptions.set("checked",this.config.countEnabled);this.config.displayPanelIcon&&this.panelIconOptions.set("checked",this.config.displayPanelIcon);
this.displayLayerTable.clear();this.isInitalLoad=!0;for(b=this.layerLoadCount=0;b<this.config.layerInfos.length;b++)this._populateLayerRow(this.config.layerInfos[b],b),this.layerLoadCount+=1;this._updateLayerLists();b=this.displayLayerTable.getRows();for(var c=0;c<b.length;c++)this._updateLayerListRows(!0,b[c]);this.displayLayerTable.getRows().length<this.layer_options.length?(k.removeClass(this.btnAddLayer,"btn-add-section-disabled"),k.addClass(this.btnAddLayer,"btn-add-section enable")):(k.addClass(this.btnAddLayer,
"btn-add-section-disabled"),k.removeClass(this.btnAddLayer,"btn-add-section enable"))}},_updateStyleColor:function(b){var c=this.appConfig.theme.name,e=this.appConfig.appId;""===e&&(e=window.location.href.split("id\x3d")[1]);B.get({url:"./apps/"+e+"/themes/"+c+"/manifest.json",sync:!0,handleAs:"json",load:n.hitch(this,function(a){a=a.styles;for(var c=0;c<a.length;c++){var e=a[c];if(e.name===b){this._styleColor=e.styleColor;this._styleColorName=e.name;break}}})})},updateThemeClusterSymbol:function(b,
c){var e=b.symbolData;this.appConfig.theme.styles&&this.appConfig.theme.styles[0]&&"undefined"===typeof this._styleColor&&this._updateStyleColor(this.appConfig.theme.styles[0]);if(this._styleColor){var a=p.fromHex(this._styleColor),f=c+1,d=0<f?30*f:30,k=0===f%2,h=a.g,g=a.b,a=a.r-d;k&&(255<a?a-=255:0>a&&(a+=255));g-=d;0===f%3&&k&&(255<g?g-=255:0>g&&(g+=255));d=h-d;0===f%5&&k&&(255<d?d-=255:0>d&&(d+=255));e.clusterType="CustomCluster";e.clusterSymbol={color:[a,d,g,128],outline:{color:[0,0,0,255],width:0,
type:"esriSLS",style:"esriSLSSolid"},type:"esriSFS",style:"esriSFSSolid"};b.symbolData=e}return b},_rowDeleted:function(){this._updateLayerLists();this._updateLayerListRows(!0);this.displayLayerTable.getRows().length<this.layer_options.length&&(k.removeClass(this.btnAddLayer,"btn-add-section-disabled"),k.addClass(this.btnAddLayer,"btn-add-section enable"))},_addLayerRow:function(){this.isInitalLoad=!1;if(this.displayLayerTable.getRows().length>=this.layer_options.length)k.removeClass(this.btnAddLayer,
"btn-add-section enable"),k.addClass(this.btnAddLayer,"btn-add-section-disabled");else{var b=this.displayLayerTable.addRow({});b.success&&b.tr&&(b=b.tr,k.addClass(b.cells[2],"displayOptions"),this._addLayersOption(b),this._addLabelOption(b),this._addRefreshOption(b),this._addDefaultSymbol(b));this._updateLayerLists();this._updateLayerListRows(!1)}},_populateLayerRow:function(b,c){var e=this.displayLayerTable.addRow({});if(e.success&&e.tr){e=e.tr;k.addClass(e.cells[2],"displayOptions");this._addLayersOption(e);
this._addLabelOption(e);this._addRefreshOption(e);e.selectLayers.set("value",b.id);e.labelText.set("value",b.label);e.refreshBox.set("checked",b.refresh);e.imageData=b.panelImageData;v.create("div",{"class":"imageDataGFX margin2",innerHTML:[b.imageData],title:this.nls.iconColumnText},e.cells[2]);"ThemeCluster"===b.symbolData.clusterType&&(b=this.updateThemeClusterSymbol(b,c));var a=this._getLayerOptionByValue(b.id);a.filter=b.filter;a.imageData=b.imageData;a.symbolData=b.symbolData;e.symbolData=b.symbolData;
this._updateLayerLists()}},_addLayersOption:function(b){var c;if(0<this.used_layers.length){var e=[];for(c=0;c<this.layer_options.length;c++){var a=this.layer_options[c];-1===this.used_layers.indexOf(a.value)&&e.push(a)}c=n.clone(e)}else c=n.clone(this.layer_options);if(e=m(".simple-table-cell",b)[0])k.setStyle(e,"verticalAlign","middle"),k.setStyle(e,"line-height","inherit"),c=new u({style:{width:"100%",height:"28px"},"class":"longSelect",options:c}),c.placeAt(e),c.startup(),b.selectLayers=c,this.own(s(c,
"change",n.hitch(this,function(){this._updateRefresh(b);this._updateLayerLists();this._updateLayerListRows(!0,b);this.isInitalLoad||(this._addDefaultSymbol(b),b.labelText.set("value",""));this.layerLoadCount-=1;0===this.layerLoadCount&&(this.isInitalLoad=!1)})))},_updateLayerListRows:function(b,c){var e;"undefined"!==typeof c&&(e=n.clone(c.selectLayers.value));var a=[];if(b)for(var f=n.clone(this.layer_options),d=0;d<f.length;d++){var k=f[d];-1===this.used_layers.indexOf(k.value)&&a.push(k)}f=this.displayLayerTable.getRows();
d=0;for(;d<f.length;d++){for(var k=f[d],h=k.selectLayers.value,g=0;g<this.used_layers.length;g++){var l=this.used_layers[g];l!==h&&k.selectLayers.removeOption(l)}if(0<a.length){h=0;for(;h<a.length;h++){var g=a[h],l=!0,m=0;c:for(;m<k.selectLayers.options.length;m++)if(g.value===k.selectLayers.options[m].value){l=!1;break c}l&&k.selectLayers.addOption(a[h])}}}"undefined"!==typeof c&&c.selectLayers.set("value",e)},_updateLayerLists:function(){this.used_layers=[];for(var b=this.displayLayerTable.getRows(),
c=0;c<b.length;c++)this.used_layers.push(b[c].selectLayers.value)},_addLabelOption:function(b){var c=m(".simple-table-cell",b)[1];k.setStyle(c,"verticalAlign","middle");k.setStyle(c,"line-height","inherit");var e=new D({style:{width:"100%",height:"28px"}});e.placeAt(c);e.startup();b.labelText=e},_addRefreshOption:function(b){var c=m(".simple-table-cell",b)[3];k.setStyle(c,"verticalAlign","middle");k.setStyle(c,"line-height","inherit");this.currentTR=b;var e=new x({"class":"checkBox",onChange:n.hitch(this,
function(a){var b=this.currentTR.selectLayers.value;if(a){this.refreshLayers.push(b);if(a=m(".refreshOff",this.refreshOptions.domNode)[0])k.removeClass(a,"refreshOff"),k.addClass(a,"refreshOn");this.refreshInterval.isValid()||this._disableOk()}else if(a=this.refreshLayers.indexOf(b),-1<a&&(this.refreshLayers.splice(a,1),0===this.refreshLayers.length)){if(a=m(".refreshOn",this.refreshOptions.domNode)[0])k.removeClass(a,"refreshOn"),k.addClass(a,"refreshOff");this._enableOk()}})});this._updateRefresh(b,
e);e.placeAt(c);e.startup();b.refreshBox=e},_updateRefresh:function(b,c){var e=this._getLayerOptionByValue(b.selectLayers.value);c||(c=b.refreshBox);"Feature Collection"===e.lyrType?(c.set("disabled",!1),c.set("title",this.nls.enableRefresh)):(c.set("disabled",!0),c.set("title",this.nls.disableRefresh))},_updateOK:function(){this.refreshInterval.isValid()?this._enableOk():this._disableOk()},_disableOk:function(){var b=m(".button-container")[0],c=b.children[3];w.set(b.children[2],"display","none");
w.set(c,"display","inline-block")},_enableOk:function(){var b=m(".button-container")[0],c=b.children[3];w.set(b.children[2],"display","inline-block");w.set(c,"display","none")},_addDefaultSymbol:function(b){var c=m(".simple-table-cell",b)[0];this.curRow=b;if(c){k.setStyle(c,"line-height","inherit");k.setStyle(c,"margin-left","0px");var c=this._getLayerOptionByValue(b.selectLayers.value),e=b.selectLayers.value,a=!1;"undefined"!==typeof this.curRow.symbolData&&(a=this.curRow.symbolData,a=a.userDefinedSymbol&&
a.layerId===e);!a||"undefined"===typeof c.symbolData?(c=new E({nls:this.nls,callerRow:b,layerInfo:c,value:e,symbolInfo:a?this.curRow.symbolData:c.symbolData,map:this.map,ac:this.appConfig}),c._setSymbol(),(b=m(".imageDataGFX",this.curRow.cells[2])[0])&&this.curRow.cells[2].removeChild(b),this.curRow.symbolData=c.symbolInfo,b=v.create("div",{"class":"imageDataGFX margin2"},this.curRow.cells[2]),null!==this.curRow.symbolData.svg&&"undefined"!==typeof this.curRow.symbolData.svg&&b.appendChild(this.curRow.symbolData.svg),
this.curRow.imageData=this.curRow.symbolData.panelHTML,this.curRow=null,c.destroy()):((b=m(".imageDataGFX",this.curRow.cells[2])[0])&&this.curRow.cells[2].removeChild(b),this.curRow.symbolData=c.symbolData,b=v.create("div",{"class":"imageDataGFX margin2"},this.curRow.cells[2]),b.appendChild(this.curRow.symbolData.svg),this.curRow.imageData=this.curRow.symbolData.panelHTML)}},_getLayerOptionByValue:function(b){for(var c=0;c<this.layer_options.length;c++){var e=this.layer_options[c];if(e.id===b)return e}},
_recurseOpLayers:function(b,c,e){H.forEach(b,n.hitch(this,function(a){var b;if(!a.getImages)if(a.newSubLayers&&0<a.newSubLayers.length)this._recurseOpLayers(a.newSubLayers,c,void 0);else if(a.featureCollection)1<a.layers.length&&this._recurseOpLayers(a.layers,c,void 0);else{"undefined"!==typeof a.layerObject&&"undefined"===typeof a.layerObject.geometryType&&this.setGeometryType(a.layerObject);var d;a.hasOwnProperty("parentLayerInfo")&&a.parentLayerInfo.hasOwnProperty("originOperLayer")&&(d=a.parentLayerInfo.originOperLayer,
b=this._getInfoTemplate(d));a.originOperLayer&&(b=this._getInfoTemplate(a.originOperLayer));var k,h;a.layerObject&&a.layerObject.url&&(k=a.layerObject.url,h=parseInt(k.substr(k.lastIndexOf("/")+1),10));var g=!0;d&&d.resourceInfo&&(g=d.resourceInfo.supportsDynamicLayers);c.push({label:a.title?a.title:a.id,value:a.id,url:k,imageData:a.imageData,id:a.id,parentLayerID:d?d.id:e,type:a.type,itemId:d?d.itemId:void 0,renderer:a.layerObject?a.layerObject.renderer:a.renderer,geometryType:a.layerObject?a.layerObject.geometryType:
a.geometryType,fields:a.layerObject?a.layerObject.fields:a.fields,subLayerId:h,infoTemplate:b,lyrType:d?d.type:void 0,supportsDynamic:g})}}))},_pickSymbol:function(b){var c=b.selectLayers.value,e=this._getLayerOptionByValue(c);this.curRow=b;var a=new E({nls:this.nls,callerRow:b,layerInfo:e,value:c,symbolInfo:"undefined"!==typeof this.curRow.symbolData?this.curRow.symbolData:e.symbolData,map:this.map,ac:this.appConfig}),f=new y({width:420,autoHeight:!0,content:a,titleLabel:this.nls.sympolPopupTitle});
this.own(s(a,"ok",n.hitch(this,function(b){var c=m(".imageDataGFX",this.curRow.cells[2])[0];c&&this.curRow.cells[2].removeChild(c);this.curRow.symbolData=b;v.create("div",{"class":"imageDataGFX margin2"},this.curRow.cells[2]).appendChild(b.svg);this.curRow.imageData=b.panelHTML;this.curRow=null;a.destroy();a=null;f.close()})));this.own(s(a,"cancel",n.hitch(this,function(){this.curRow=null;a.destroy();a=null;f.close()})))},setGeometryType:function(b){var c=[];"undefined"!==typeof b.url&&-1<b.url.indexOf("MapServer")&&
c.push(I({url:b.url+"?f\x3djson"}));0<c.length&&(new G(c)).then(n.hitch(this,function(b){if(b&&0<b.length){b=b[0][1];for(var a,c=0;c<this.layer_options.length;c++)if(this.layer_options[c].label===b.name){a=c;break}if("undefined"!==typeof a&&(this.layer_options[a].geometryType=b.geometryType,"undefined"!==typeof b.drawingInfo)){this.layer_options[a].renderer=b.drawingInfo.renderer;this.layer_options[a].drawingInfo=b.drawingInfo;this.layer_options[a].fields=b.fields;for(var d,c=0;c<b.fields.length&&
!(d=b.fields[c],"esriFieldTypeOID"===d.type);c++);this.layer_options[a].oidFieldName=d}}}))},uploadImage:function(){var b=new FileReader;b.onload=n.hitch(this,function(){this.panelMainIcon.innerHTML="\x3cdiv\x3e\x3c/div\x3e";this.mpi=b.result;v.create("div",{"class":"innerMainPanelIcon",style:"background-image: url("+b.result+");",title:this.nls.mainPanelIcon},this.panelMainIcon)});this.fileInput.onchange=n.hitch(this,function(){b.readAsDataURL(this.fileInput.files[0])});this.fileInput.click()},getConfig:function(){F.close();
var b=this.displayLayerTable.getRows(),c=[],e;H.forEach(b,n.hitch(this,function(a){var b=a.selectLayers.value,d=z.stripHTML(a.labelText.value),k=a.refreshBox,h=this._getLayerOptionByValue(b);e={layer:b,label:""!==d?d:h.label,refresh:k.checked,url:h.url,type:h.type,id:h.id,symbolData:a.symbolData?a.symbolData:h.symbolData,geometryType:h.geometryType,itemId:h.itemId,parentLayerID:h.parentLayerID,renderer:h.renderer,drawingInfo:h.drawingInfo,fields:h.fields,oidFieldName:h.oidFieldName,subLayerId:h.subLayerId,
infoTemplate:h.infoTemplate};a.imageData&&(e.panelImageData=a.imageData);a=m(".imageDataGFX",a)[0];e.imageData="undefined"!==typeof a?a.innerHTML:"\x3cdiv\x3e\x3c/div\x3e";c.push(e)}));this.config.mapID=this.map.itemId;this.config.layerInfos=c;this.config.mainPanelText=z.stripHTML(this.mainPanelText.value);this.config.mainPanelIcon=this.panelMainIcon.innerHTML;this.config.refreshInterval=z.stripHTML(this.refreshInterval.value);this.config.refreshEnabled=0<this.refreshLayers.length?!0:!1;this.config.countEnabled=
this.countEnabled;this.config.displayPanelIcon=this.displayPanelIcon;return this.config},destroy:function(){F.close();this.inherited(arguments)}})});